System.register("chunks:///_virtual/AlertDefine.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d760cBqtrtMkIIc5OjG/HhO","AlertDefine",void 0);t("ConfirmType",function(t){return t[t.Left=1]="Left",t[t.Right=2]="Right",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseClass.ts",["cc","./LogMgr.ts"],(function(n){var t,o;return{setters:[function(n){t=n.cclegacy},function(n){o=n.default}],execute:function(){t._RF.push({},"6b0467NDVRB9pL5soTQru2i","BaseClass",void 0);n("BaseClass",function(){function n(){}var t=n.prototype;return t.log=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];o.log.apply(o,[this.constructor.name].concat(t))},t.netLog=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];o.netLog.apply(o,[this.constructor.name].concat(t))},t.warnLog=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];o.warnLog.apply(o,[this.constructor.name].concat(t))},t.errLog=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];o.errLog.apply(o,[this.constructor.name].concat(t))},t.init=function(){this.log("init")},t.onReload=function(){},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/BaseComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LogMgr.ts"],(function(n){var o,t,r,e,c;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,r=n._decorator,e=n.Component},function(n){c=n.default}],execute:function(){var a;t._RF.push({},"5b51cCfCUxLooZWsSKcwvhd","BaseComponent",void 0);var s=r.ccclass;r.property,n("BaseComponent",s(a=function(n){function t(){return n.apply(this,arguments)||this}o(t,n);var r=t.prototype;return r.log=function(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];c.log.apply(c,[this.constructor.name].concat(o))},r.netLog=function(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];c.netLog.apply(c,[this.constructor.name].concat(o))},r.warnLog=function(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];c.warnLog.apply(c,[this.constructor.name].concat(o))},r.errLog=function(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];c.errLog.apply(c,[this.constructor.name].concat(o))},t}(e))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/BaseForm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.min.mjs","./BaseComponent.ts","./EventMgr.ts","./GuideMgr.ts"],(function(i){var t,e,n,r,o,s,a,h,l,c,d,u,m,v;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass},function(i){n=i.cclegacy,r=i._decorator,o=i.js,s=i.isValid},function(i){a=i.UIConfig,h=i.UIPackage,l=i.GRoot,c=i.GObject,d=i.GButton},function(i){u=i.BaseComponent},function(i){m=i.default},function(i){v=i.default}],execute:function(){var p,f;n._RF.push({},"3ceb5XsebtEZbsN+fb0tBb1","BaseForm",void 0);var g=r.ccclass,F=(r.property,i("ZOrderLvEnum",function(i){return i[i.ZOrderLv0=0]="ZOrderLv0",i[i.ZOrderLv1=1]="ZOrderLv1",i[i.ZOrderLv2=2]="ZOrderLv2",i[i.ZOrderLv3=3]="ZOrderLv3",i[i.ZOrderLv4=4]="ZOrderLv4",i[i.ZOrderLv5=5]="ZOrderLv5",i[i.ZOrderLv6=6]="ZOrderLv6",i[i.ZOrderLv7=7]="ZOrderLv7",i[i.ZOrderLv8=8]="ZOrderLv8",i[i.ZOrderLv9=9]="ZOrderLv9",i}({}))),y=i("UIType",function(i){return i[i.None=0]="None",i[i.SubUI=1]="SubUI",i[i.Full=2]="Full",i[i.NormalUI=3]="NormalUI",i[i.Popup=4]="Popup",i}({}));i("BaseForm",g(((f=function(i){function n(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))||this)._clickTick=0,t._childFormList=void 0,t._data=void 0,t._eventFuncDict=void 0,t._modalWaitPane=void 0,t._isInit=void 0,t.uiType=y.Full,t._args=void 0,t.view=void 0,t.lastUseTime=0,t.uiParam=void 0,t.zOrderLv=F.ZOrderLv6,t.modal=!1,t.clickVoidClose=!1,t}t(n,i);var r=n.prototype;return r.onLoad=function(){this._isInit||(this._isInit=!0,this.onInit())},r.init=function(i){this._data={FormName:this.constructor.name,FormPath:i,ChildIndex:0,UserData:0}},r.showModalWait=function(){a.windowModalWaiting&&(this._modalWaitPane||(this._modalWaitPane=h.createObjectFromURL(a.windowModalWaiting)),this._modalWaitPane.makeFullScreen(),this.view.addChild(this._modalWaitPane))},r.closeModalWait=function(){this._modalWaitPane&&this._modalWaitPane.parent&&this.view.removeChild(this._modalWaitPane)},r.showForm=function(){for(var i=this,t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this._args=e,this.uiType!=y.None){if(this._childFormList=this._childFormList||[],null!=this.view.parent)try{this.onUpdateInfo.apply(this,e)}catch(i){this.errLog("showForm error: %s",i.stack)}else{if(this.uiParam.parent.addChild(this.view),this.uiType==y.Full?this.view.makeFullScreen():this.uiType==y.NormalUI?(this.view.makeFullScreen(),this.view.center()):this.uiType==y.SubUI&&this.view.setPosition(0,0),this.uiType!=y.SubUI&&(this.view.sortingOrder=1e3*this.zOrderLv+10*l.inst.numChildren,this.adjustModalLayer()),this.clickVoidClose){var r=this.view.getChild("clickCloseLayer");if(null==r){var o=new c;o.name="clickCloseLayer",o.makeFullScreen(),this.view.addChild(o),this.view.setChildIndex(o,0),o.onClick((function(){i.clickVoidClose&&i.canClickVoidClose()&&i.closeForm()}),this)}}for(var s in this._eventFuncDict=this._eventFuncDict||Object.create(null),this._eventFuncDict)m.regEvent(s,this._eventFuncDict[s],this);try{this.onShown.apply(this,e)}catch(i){this.errLog("showForm error: %s",i.stack)}v.inst.triggerEvent(this._data.FormPath)}if(this.uiType==y.Popup&&this.uiParam.popup){var a=l.inst.getPopupPosition(this.view,this.uiParam.popup.target,this.uiParam.popup.dir);this.view.setPosition(a.x,a.y)}this.lastUseTime=(new Date).getTime(),this.log("showForm")}else try{this.onShown.apply(this,e)}catch(i){this.errLog("showForm error: %s",i.stack)}},r.canClickVoidClose=function(){return!0},r.closeForm=function(){if(this.uiType!=y.None){for(var i=0;i<this._childFormList.length;i++)this._childFormList[i].closeForm();m.unRegEvent(this),this.view&&this.view.removeFromParent(),this.uiParam.parent=null,this.uiType!=y.SubUI&&this.adjustModalLayer(),this.onHide(),this.log("closeForm")}},r.adjustModalLayer=function(){for(var i=l.inst.modalLayer,t=l.inst.numChildren-1;t>=0;t--){var e=l.inst.getChildAt(t);if("GGraph"!=e.node.name&&e.name){var n=e.node.getComponent(e.name);if(n.modal)return void(null==i.parent?(l.inst.addChild(i),i.sortingOrder=n.view.sortingOrder-1):i.sortingOrder=n.view.sortingOrder-1)}}i.removeFromParent()},r.getFguiComponent=function(i,t){o.getClassByName(t)||(t="I"+t);var e=i.node.getComponent(t);return e||((e=i.node.addComponent(t)).view=i,e.onLoad(),e.uiType=y.None,e.init(""),i instanceof d&&this.listenerClick(i,this.onClick_Wnd)),e},r.listenerClick=function(i,t){var e=this;i.onClick((function(n){try{e.playOneShotSound("ui://basics/03_2_common_btn_click");var r=Date.now();if(e._clickTick>r)return;e._clickTick=r+200,e.log("click: %s",n.currentTarget.name),t&&t.apply(e,[i,n.currentTarget.name])}catch(i){e.errLog("click error: %s",i.stack)}}),this)},r.regEvent=function(i,t){this.uiType!=y.None?(this._eventFuncDict=this._eventFuncDict||Object.create(null),this._eventFuncDict[i]=t):this.errLog("not implemented")},r.emitEvent=function(i){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];m.emitEvent.apply(m,[i].concat(e))},r.addChildForm=function(i,t,e){var n,r=t.indexOf("/"),o=t.substr(0,r),s=t.substr(r+1),a=this.getChildForm(t,e);if(null==a){var l=h.createObject(o,s).asCom;l.makeFullScreen(),l.name=s,(a=l.node.addComponent(s)).view=l,a.uiType=y.SubUI,a.init(t),this._childFormList.push(a)}a.uiParam={parent:i};for(var c=arguments.length,d=new Array(c>3?c-3:0),u=3;u<c;u++)d[u-3]=arguments[u];return(n=a).showForm.apply(n,d),a},r.removeChildForm=function(i,t){var e=this.getChildForm(i,t);e&&e.closeForm()},r.removeAllChildForm=function(i){for(var t=0;t<this._childFormList.length;t++)this._childFormList[t].getFormProperty("FormPath")==i&&this._childFormList[t].closeForm()},r.getChildForm=function(i,t){for(var e=0;e<this._childFormList.length;e++){var n=this._childFormList[e];if(n.getFormProperty("FormPath")==i&&n.getFormProperty("ChildIndex")==t)return n}return null},r.getFormProperty=function(i){if(this._data.hasOwnProperty(i))return this._data[i];this.errLog('getFormProperty: Property "'+i+'" not found.')},r.setFormProperty=function(i,t){this._data.hasOwnProperty(i)?this._data[i]=t:this.errLog('setFormProperty: Property "'+i+'" not found.')},r.update=function(i){try{this.onUpdate(i)}catch(i){this.errLog("update error: %s",i.stack)}},r.playOneShotSound=function(i,t){s(this.view)&&(this.log("playOneShotSound:",i),this.view.playOneShotSound2(i,t))},r.playBackGroundMusic=function(i,t,e){s(this.view)&&(this.log("playBackGroundMusic:",i),this.view.playBackGroundMusic2(i,t,e))},r.initRedPoint=function(i,t,e){i.init(t,e)},r.simulateClick=function(i){l.inst.inputProcessor.simulateClick(i)},r.callFunc=function(i){var t=this;return function(){s(t.node)&&i&&i.apply(void 0,arguments)}},r.dispose=function(){if(this._childFormList)for(var i=this._childFormList.length-1;i>=0;i--)this._childFormList[i].dispose(),this._childFormList.splice(i,1);this._modalWaitPane&&(this._modalWaitPane.dispose(),this._modalWaitPane=null),this.view&&(this.view.dispose(),this.view=null)},r.onDestroy=function(){this.closeForm(),this.onDispose()},r.onInit=function(){},r.onShown=function(){},r.onUpdateInfo=function(){},r.onHide=function(){},r.onDispose=function(){},r.onUpdate=function(i){},r.onClick_Wnd=function(i,t){},e(n,[{key:"modalWaiting",get:function(){return this._modalWaitPane&&null!=this._modalWaitPane.parent}},{key:"isShowing",get:function(){return null!=this.view.parent}},{key:"isTop",get:function(){var i=this.view.parent;return i&&i.getChildIndex(this.view)==i.numChildren-1}},{key:"args",get:function(){return this._args}}]),n}(u)).pkgs=void 0,p=f))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/BaseScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts","./SceneMgr.ts","./TopLayer.ts","./fairygui.min.mjs","./ShowFPS.ts","./ShareDefine.ts","./LocalStorageMgr.ts"],(function(n){var t,e,o,i,s,r,a,c,u,p,f;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,i=n.find},function(n){s=n.BaseComponent},function(n){r=n.default},function(n){a=n.TopLayer},function(n){c=n.GRoot},function(n){u=n.ShowFPS},function(n){p=n.default},function(n){f=n.default}],execute:function(){var l;e._RF.push({},"31a32IqRZxPOJHctXx1HeKF","BaseScene",void 0);var y=o.ccclass;o.property,n("BaseScene",y(l=function(n){function e(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))||this)._topLayer=null,t._sceneType=null,t}t(e,n);var o=e.prototype;return o.onLoad=function(){c.create(),this._sceneType=r.inst.getSceneType(),this._topLayer=i("Canvas/topLayer").getComponent(a),this._topLayer.onInit(),p.IsDevelopment&&(u.inst.parent=this.node),c.inst.musicVolume=f.inst.getConfigProperty("SysSetting","BackMusic")?f.inst.getConfigProperty("SysSetting","BackVolume"):0,c.inst.soundVolume=f.inst.getConfigProperty("SysSetting","SpSound")?f.inst.getConfigProperty("SysSetting","SpVolume"):0,this.onInit()},o.update=function(n){if(!r.inst.isLoading)try{p.IsDevelopment&&u.inst.onUpdate(n),this._topLayer.onUpdate(n),this.onUpdate(n)}catch(n){this.errLog("update error: %s",n.stack)}},o.onBeforeExitScene=function(){p.IsDevelopment&&u.inst.removeFromParent(),c.inst.dispose(),this._topLayer.onBeforeExitScene()},o.onSwithSceneEnd=function(){},o.onModalLayer=function(n){this._topLayer.onModalLayer(n)},o.onEventHide=function(){},o.onEventShow=function(){},o.onInit=function(){},o.onUpdate=function(n){},o.onReload=function(){},e}(s))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/ByteBuf.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"547c3jRdqJL7pAAKclrKnlY","ByteBuf",void 0);e("EDeserializeError",function(e){return e[e.OK=0]="OK",e[e.NOT_ENOUGH=1]="NOT_ENOUGH",e[e.EXCEED_SIZE=2]="EXCEED_SIZE",e}({}));var r=Math.pow(2,32),s=Math.pow(2,56);e("default",function(){function e(t){this._bytes=void 0,this._readerIndex=void 0,this._writerIndex=void 0,this._bytes=null!=t?new Uint8Array(t):e.emptyBuff,this._readerIndex=0,this._writerIndex=null!=t?t.length:0}var i=e.prototype;return i.Replace=function(e){this._bytes=new Uint8Array(e),this._readerIndex=0,this._writerIndex=e.length},i.Replace2=function(e,t,i){this._bytes=new Uint8Array(e.subarray(t,i)),this._readerIndex=t,this._writerIndex=i},i.getBytesNotSafe=function(){return this._bytes},i.AddWriteIndex=function(e){this._writerIndex+=e},i.AddReadIndex=function(e){this._readerIndex+=e},i.CopyData=function(){return this.Remaining>0?new Uint8Array(this._bytes.buffer.slice(this._readerIndex,this._writerIndex)):e.emptyBuff},i.DiscardReadBytes=function(){this._bytes.copyWithin(0,this._readerIndex,this._writerIndex),this._writerIndex-=this._readerIndex,this._readerIndex=0},i.WriteBytesWithoutSize=function(e){this.WriteBytesWithoutSize2(e,0,e.length)},i.WriteBytesWithoutSize2=function(e,t,i){this.EnsureWrite(i);for(var r=0;r<i;r++)this._bytes[this._writerIndex+r]=e[t+r];this._writerIndex+=i},i.Clear=function(){this._readerIndex=this._writerIndex=0},e.PropSize=function(e,t){for(var i=Math.max(e,16);i<<=1;)if(i>=t)return i},i.EnsureWrite0=function(t){var i=this._writerIndex+t-this._readerIndex;if(i<=this.Capacity)this._bytes.copyWithin(0,this._readerIndex,this._writerIndex),this._writerIndex-=this._readerIndex,this._readerIndex=0;else{var r=e.PropSize(this.Capacity,i),s=this._bytes;this._bytes=new Uint8Array(r),this._bytes.set(s.subarray(this._readerIndex,this._writerIndex)),this._writerIndex-=this._readerIndex,this._readerIndex=0}},i.EnsureWrite=function(e){this._writerIndex+e>this.Capacity&&this.EnsureWrite0(e)},i.EnsureRead=function(e){if(this._readerIndex+e>this._writerIndex)throw new Error},i.CanRead=function(e){return this._readerIndex+e<=this._writerIndex},i.WriteBool=function(e){this.EnsureWrite(1),this._bytes[this._writerIndex++]=e?1:0},i.ReadBool=function(){return this.EnsureRead(1),0!=this._bytes[this._readerIndex++]},i.WriteByte=function(e){this.EnsureWrite(1),this._bytes[this._writerIndex++]=e},i.ReadByte=function(){return this.EnsureRead(1),this._bytes[this._readerIndex++]},i.WriteShort=function(e){if(e>=0){if(e<128)return this.EnsureWrite(1),void(this._bytes[this._writerIndex++]=e);if(e<16384){this.EnsureWrite(2);var t=32768|e;return new DataView(this._bytes.buffer).setUint16(this._writerIndex,t,!1),void(this._writerIndex+=2)}}this.EnsureWrite(4),this._bytes[this._writerIndex]=255,new DataView(this._bytes.buffer).setInt16(this._writerIndex+1,e,!1),this._writerIndex+=3},i.ReadShort=function(){this.EnsureRead(1);var e=this._bytes[this._readerIndex];if(e<128)return this._readerIndex++,e;if(e<192){this.EnsureRead(2);var t=16383&new DataView(this._bytes.buffer).getUint16(this._readerIndex,!1);return this._readerIndex+=2,t}if(255==e){this.EnsureRead(3);var i=new DataView(this._bytes.buffer).getInt16(this._readerIndex+1,!1);return this._readerIndex+=3,i}throw new Error},i.ReadFshort=function(){this.EnsureRead(2);var e=new DataView(this._bytes.buffer).getInt16(this._readerIndex,!0);return this._readerIndex+=2,e},i.WriteFshort=function(e){this.EnsureWrite(2),new DataView(this._bytes.buffer).setInt16(this._writerIndex,e,!0),this._writerIndex+=2},i.WriteInt=function(e){e<0?(this.EnsureWrite(5),this._bytes[this._writerIndex]=255,new DataView(this._bytes.buffer).setInt32(this._writerIndex+1,e,!1),this._writerIndex+=5):e<128?(this.EnsureWrite(1),this._bytes[this._writerIndex++]=e):e<16384?(this.EnsureWrite(2),new DataView(this._bytes.buffer).setUint16(this._writerIndex,32768|e,!1),this._writerIndex+=2):e<2097152?(this.EnsureWrite(4),new DataView(this._bytes.buffer).setUint32(this._writerIndex,(12582912|e)<<8,!1),this._writerIndex+=3):e<268435456?(this.EnsureWrite(4),new DataView(this._bytes.buffer).setUint32(this._writerIndex,3758096384|e,!1),this._writerIndex+=4):(this.EnsureWrite(5),this._bytes[this._writerIndex]=240,new DataView(this._bytes.buffer).setUint32(this._writerIndex+1,e,!1),this._writerIndex+=5)},i.ReadInt=function(){this.EnsureRead(1);var e=this._bytes[this._readerIndex];if(e<128)return this._readerIndex++,e;if(e<192){this.EnsureRead(2);var t=16383&new DataView(this._bytes.buffer).getUint16(this._readerIndex,!1);return this._readerIndex+=2,t}if(e<224){this.EnsureRead(3);var i=(31&e)<<16|new DataView(this._bytes.buffer).getUint16(this._readerIndex+1,!1);return this._readerIndex+=3,i}if(e<240){this.EnsureRead(4);var r=268435455&new DataView(this._bytes.buffer).getInt32(this._readerIndex,!1);return this._readerIndex+=4,r}this.EnsureRead(5);var s=new DataView(this._bytes.buffer).getInt32(this._readerIndex+1,!1);return this._readerIndex+=5,s},i.ReadFint=function(){this.EnsureRead(4);var e=new DataView(this._bytes.buffer).getInt32(this._readerIndex,!0);return this._readerIndex+=4,e},i.WriteFint=function(e){this.EnsureWrite(4),new DataView(this._bytes.buffer).setInt32(this._writerIndex,e,!0),this._writerIndex+=4},i.WriteNumberAsLong=function(e){if(e<0)this.EnsureWrite(9),this._bytes[this._writerIndex]=255,new DataView(this._bytes.buffer).setBigInt64(this._writerIndex+1,BigInt(e),!1),this._writerIndex+=9;else if(e<128)this.EnsureWrite(1),this._bytes[this._writerIndex++]=e;else if(e<16384)this.EnsureWrite(2),new DataView(this._bytes.buffer).setUint16(this._writerIndex,32768|e,!1),this._writerIndex+=2;else if(e<2097152)this.EnsureWrite(4),new DataView(this._bytes.buffer).setUint32(this._writerIndex,(12582912|e)<<8,!1),this._writerIndex+=3;else if(e<268435456)this.EnsureWrite(4),new DataView(this._bytes.buffer).setUint32(this._writerIndex,3758096384|e,!1),this._writerIndex+=4;else if(e<34359738368)this.EnsureWrite(8),new DataView(this._bytes.buffer).setUint8(this._writerIndex,e/4294967296|240),new DataView(this._bytes.buffer).setUint32(this._writerIndex+1,e%4294967296,!1),this._writerIndex+=5;else if(e<4398046511104)this.EnsureWrite(8),new DataView(this._bytes.buffer).setUint16(this._writerIndex,e/4294967296|63488,!1),new DataView(this._bytes.buffer).setUint32(this._writerIndex+2,e%4294967296,!1),this._writerIndex+=6;else if(e<35184372088832)this.EnsureWrite(8),new DataView(this._bytes.buffer).setUint32(this._writerIndex,(e/4294967296|16515072)<<8,!1),new DataView(this._bytes.buffer).setUint32(this._writerIndex+3,e%4294967296,!1),this._writerIndex+=7;else if(e<=Number.MAX_SAFE_INTEGER)this.EnsureWrite(8),new DataView(this._bytes.buffer).setUint32(this._writerIndex,e/4294967296|4261412864,!1),new DataView(this._bytes.buffer).setUint32(this._writerIndex+4,e%4294967296,!1),this._writerIndex+=8;else if(e<s){this.EnsureWrite(9);var t=BigInt(e);new DataView(this._bytes.buffer).setBigInt64(this._writerIndex,t|BigInt(254)<<BigInt(56),!1),this._writerIndex+=8}else this.EnsureWrite(9),this._bytes[this._writerIndex]=255,new DataView(this._bytes.buffer).setBigInt64(this._writerIndex+1,BigInt(e),!1),this._writerIndex+=9},i.ReadLongAsNumber=function(){this.EnsureRead(1);var e=this._bytes[this._readerIndex];if(e<128)return this._readerIndex++,e;if(e<192){this.EnsureRead(2);var t=16383&new DataView(this._bytes.buffer).getUint16(this._readerIndex,!1);return this._readerIndex+=2,t}if(e<224){this.EnsureRead(3);var i=(31&e)<<16|new DataView(this._bytes.buffer).getUint16(this._readerIndex+1,!1);return this._readerIndex+=3,i}if(e<240){this.EnsureRead(4);var s=268435455&new DataView(this._bytes.buffer).getInt32(this._readerIndex,!1);return this._readerIndex+=4,s}if(e<248){this.EnsureRead(5);var n=new DataView(this._bytes.buffer).getUint32(this._readerIndex+1,!1),h=7&e;return this._readerIndex+=5,4294967296*h+n}if(e<252){this.EnsureRead(6);var a=new DataView(this._bytes.buffer).getUint32(this._readerIndex+2,!1),d=1023&new DataView(this._bytes.buffer).getUint16(this._readerIndex,!1);return this._readerIndex+=6,4294967296*d+a}if(e<254){this.EnsureRead(7);var _=new DataView(this._bytes.buffer).getUint32(this._readerIndex+3,!1),u=new DataView(this._bytes.buffer).getUint32(this._readerIndex,!1)>>8&131071;return this._readerIndex+=7,4294967296*u+_}if(e<255){this.EnsureRead(8);var w=new DataView(this._bytes.buffer).getUint32(this._readerIndex+4,!1),f=16777215&new DataView(this._bytes.buffer).getUint32(this._readerIndex,!1);return this._readerIndex+=8,f*r+w}this.EnsureRead(9);var I=new DataView(this._bytes.buffer).getBigInt64(this._readerIndex+1,!1);return this._readerIndex+=9,Number(I)},i.WriteLong=function(e){if(e<0||e>=s)return this.EnsureWrite(9),this._bytes[this._writerIndex]=255,new DataView(this._bytes.buffer).setBigInt64(this._writerIndex+1,e,!1),void(this._writerIndex+=9);if(e>Number.MAX_SAFE_INTEGER)return this.EnsureWrite(8),new DataView(this._bytes.buffer).setBigUint64(this._writerIndex,e|BigInt(254)<<BigInt(56),!1),void(this._writerIndex+=8);var t=Number(e);t<128?(this.EnsureWrite(1),this._bytes[this._writerIndex++]=t):t<16384?(this.EnsureWrite(2),new DataView(this._bytes.buffer).setUint16(this._writerIndex,32768|t,!1),this._writerIndex+=2):t<2097152?(this.EnsureWrite(4),new DataView(this._bytes.buffer).setUint32(this._writerIndex,(12582912|t)<<8,!1),this._writerIndex+=3):t<268435456?(this.EnsureWrite(4),new DataView(this._bytes.buffer).setUint32(this._writerIndex,3758096384|t,!1),this._writerIndex+=4):t<34359738368?(this.EnsureWrite(8),new DataView(this._bytes.buffer).setUint8(this._writerIndex,t/4294967296|240),new DataView(this._bytes.buffer).setUint32(this._writerIndex+1,t%4294967296,!1),this._writerIndex+=5):t<4398046511104?(this.EnsureWrite(8),new DataView(this._bytes.buffer).setUint16(this._writerIndex,t/4294967296|63488,!1),new DataView(this._bytes.buffer).setUint32(this._writerIndex+2,t%4294967296,!1),this._writerIndex+=6):t<35184372088832?(this.EnsureWrite(8),new DataView(this._bytes.buffer).setUint32(this._writerIndex,(t/4294967296|16515072)<<8,!1),new DataView(this._bytes.buffer).setUint32(this._writerIndex+3,t%4294967296,!1),this._writerIndex+=7):(this.EnsureWrite(8),new DataView(this._bytes.buffer).setUint32(this._writerIndex,t/4294967296|4261412864,!1),new DataView(this._bytes.buffer).setUint32(this._writerIndex+4,t%4294967296,!1),this._writerIndex+=8)},i.ReadLong=function(){this.EnsureRead(1);var e=this._bytes[this._readerIndex];if(e<128)return this._readerIndex++,BigInt(e);if(e<192){this.EnsureRead(2);var t=16383&new DataView(this._bytes.buffer).getUint16(this._readerIndex,!1);return this._readerIndex+=2,BigInt(t)}if(e<224){this.EnsureRead(3);var i=(31&e)<<16|new DataView(this._bytes.buffer).getUint16(this._readerIndex+1,!1);return this._readerIndex+=3,BigInt(i)}if(e<240){this.EnsureRead(4);var r=268435455&new DataView(this._bytes.buffer).getInt32(this._readerIndex,!1);return this._readerIndex+=4,BigInt(r)}if(e<248){this.EnsureRead(5);var s=new DataView(this._bytes.buffer).getUint32(this._readerIndex+1,!1),n=7&e;return this._readerIndex+=5,BigInt(4294967296*n+s)}if(e<252){this.EnsureRead(6);var h=new DataView(this._bytes.buffer).getUint32(this._readerIndex+2,!1),a=1023&new DataView(this._bytes.buffer).getUint16(this._readerIndex,!1);return this._readerIndex+=6,BigInt(4294967296*a+h)}if(e<254){this.EnsureRead(7);var d=new DataView(this._bytes.buffer).getUint32(this._readerIndex+3,!1),_=new DataView(this._bytes.buffer).getUint32(this._readerIndex,!1)>>8&131071;return this._readerIndex+=7,BigInt(4294967296*_+d)}if(e<255){this.EnsureRead(8);var u=new DataView(this._bytes.buffer).getUint32(this._readerIndex+4,!1),w=16777215&new DataView(this._bytes.buffer).getUint32(this._readerIndex,!1);return this._readerIndex+=8,BigInt(w)<<BigInt(32)|BigInt(u)}this.EnsureRead(9);var f=new DataView(this._bytes.buffer).getBigInt64(this._readerIndex+1,!1);return this._readerIndex+=9,f},i.WriteFlong=function(e){this.EnsureWrite(8),new DataView(this._bytes.buffer).setBigInt64(this._writerIndex,e,!0),this._writerIndex+=8},i.ReadFlong=function(){this.EnsureRead(8);var e=new DataView(this._bytes.buffer).getBigInt64(this._readerIndex,!0);return this._readerIndex+=8,e},i.WriteFloat=function(e){this.EnsureWrite(4),new DataView(this._bytes.buffer).setFloat32(this._writerIndex,e,!0),this._writerIndex+=4},i.ReadFloat=function(){this.EnsureRead(4);var e=new DataView(this._bytes.buffer).getFloat32(this._readerIndex,!0);return this._readerIndex+=4,e},i.WriteDouble=function(e){this.EnsureWrite(8),new DataView(this._bytes.buffer).setFloat64(this._writerIndex,e,!0),this._writerIndex+=8},i.ReadDouble=function(){this.EnsureRead(8);var e=new DataView(this._bytes.buffer).getFloat64(this._readerIndex,!0);return this._readerIndex+=8,e},i.WriteSize=function(e){this.WriteInt(e)},i.ReadSize=function(){return this.ReadInt()},i.WriteString=function(e){var t=(new TextEncoder).encode(e).length;this.WriteSize(t),t>0&&(this.EnsureWrite(t),(new TextEncoder).encodeInto(e,this._bytes.subarray(this._writerIndex,this._writerIndex+t)),this._writerIndex+=t)},i.ReadString=function(){var e=this.ReadSize();if(e>0){this.EnsureRead(e);var t=(new TextDecoder).decode(this._bytes.subarray(this._readerIndex,this._readerIndex+e));return this._readerIndex+=e,t}return""},i.WriteBytes=function(e){var t=null!=e?e.length:0;this.WriteSize(t),t>0&&(this.EnsureWrite(t),this._bytes.set(e,this._writerIndex),this._writerIndex+=t)},i.ReadBytes=function(){var t=this.ReadSize();if(t>0){this.EnsureRead(t);var i=this._bytes.subarray(this._readerIndex,this._readerIndex+t);return this._readerIndex+=t,i}return e.emptyBuff},i.WriteArrayBuffer=function(e){this.WriteBytes(new Uint8Array(e))},i.ReadArrayBuffer=function(){return this.ReadBytes().buffer},i.SkipBytes=function(){var e=this.ReadSize();this.EnsureRead(e),this._readerIndex+=e},i.WriteByteBufWithSize=function(e){var t=e.Size;t>0?(this.WriteSize(t),this.WriteBytesWithoutSize2(e._bytes,e._readerIndex,t)):this.WriteByte(0)},i.WriteByteBufWithoutSize=function(e){var t=e.Size;t>0&&this.WriteBytesWithoutSize2(e._bytes,e._readerIndex,t)},i.WriteRawTag1=function(e){this.EnsureWrite(1),this._bytes[this._writerIndex++]=e},i.WriteRawTag2=function(e,t){this.EnsureWrite(2),this._bytes[this._writerIndex]=e,this._bytes[this._writerIndex+1]=t,this._writerIndex+=2},i.WriteRawTag3=function(e,t,i){this.EnsureWrite(3),this._bytes[this._writerIndex]=e,this._bytes[this._writerIndex+1]=t,this._bytes[this._writerIndex+2]=i,this._writerIndex+=3},t(e,[{key:"Capacity",get:function(){return this._bytes.length}},{key:"Size",get:function(){return this._writerIndex-this._readerIndex}},{key:"Empty",get:function(){return this._writerIndex<=this._readerIndex}},{key:"NotEmpty",get:function(){return this._writerIndex>this._readerIndex}},{key:"Remaining",get:function(){return this._writerIndex-this._readerIndex}},{key:"NotCompactWritable",get:function(){return this._bytes.length-this._writerIndex}}]),e}()).emptyBuff=new Uint8Array(0),i._RF.pop()}}}));

System.register("chunks:///_virtual/Chicken.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.min.mjs","./IChicken.ts","./ConfigManager.ts","./UserApi.ts","./EventDefine.ts","./UserData.ts","./EventMgr.ts"],(function(i){var t,n,e,a,s,c,l,o,h,u,r;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,e=i._decorator},function(i){a=i.Event,s=i.GTween},function(i){c=i.default},function(i){l=i.default},function(i){o=i.default},function(i){h=i.EventDefine},function(i){u=i.default},function(i){r=i.default}],execute:function(){var _;n._RF.push({},"3b167thkRhG47r3zkHt4lA2","Chicken",void 0);var p=e.ccclass;e.property,i("Chicken",p(_=function(i){function n(){for(var t,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(t=i.call.apply(i,[this].concat(e))||this)._animFlag=0,t._clickAni=!1,t._animReady=!1,t._headSwitchTime=0,t._timeoutId=0,t._vit=0,t}t(n,i);var e=n.prototype;return e.onInit=function(){var i=this;this._touch.on(a.TOUCH_BEGIN,this.onTouch,this),this._pAni.onReady=this.callFunc((function(){i.playIdle(),i._animReady=!0})),this._head.switchHead()},e.onShown=function(){},e.updateVit=function(i){this._vit=i},e.onUpdateInfo=function(){},e.onHide=function(){},e.onDispose=function(){},e.onUpdate=function(i){!this._clickAni&&this._animReady&&this.playIdle(),this._headSwitchTime=this._headSwitchTime+i,this._headSwitchTime>2&&(this._headSwitchTime=0,this.switchHead())},e.playIdle=function(){var i=this;this._pAni.playing||(this._pAni.timeScale=1,this._tAni.setScale(1,1),this._pAni.setPlaySettings(0,1,1,1,this.callFunc((function(){i._pAni.playing=!1}))),this._pAni.playing=!0)},e.switchHead=function(){this._heitou.visible?(this._heitou.visible=!1,this._head.view.visible=!0,this._head.switchHead()):(this._heitou.visible=!0,this._head.view.visible=!1)},e.onClick_Wnd=function(i,t){},e.onTouch=function(){var i=this;window.Telegram&&window.Telegram.WebApp.HapticFeedback.selectionChanged(),this._vit>=l.inst.GlobalTb.clickTakeOffVit&&(this._vit=this._vit-l.inst.GlobalTb.clickTakeOffVit,u.lastClickCount++,this.emitEvent(h.RefreshVit,this._vit)),u.lastClickCount>=l.inst.GlobalTb.clickLayEgg?this.playEggDropAni(null):(this._tAni.setScale(1.05,1.05),this._clickAni=!0,this._pAni.playing=!0,this._pAni.setPlaySettings(3,4,1,3,this.callFunc((function(){i._pAni.playing=!1,i._clickAni=!1}))),s.delayedCall(.1).onComplete(this.callFunc((function(){i._tAni.setScale(1,1)}))),this._pAni.timeScale=5,clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this.sendClickScreen.bind(this),300)),0==this._animFlag?(this._animFlag=1,this._zuoTui.y=73):(this._animFlag=0,this._zuoTui.y=84),this.emitEvent(h.RefreshClickProgress)},e.playEggDropAni=function(i){var t=this;r.emitEvent(h.ModalLayer,"Block");var n=setTimeout((function(){r.emitEvent(h.ModalLayer,"Close")}),500);this._vit>=0&&!i?(clearTimeout(this._timeoutId),o.clickScreen(u.lastClickCount).then(this.callFunc((function(i){0==i.code&&i.data.reward&&i.data.reward.egg&&(t.playOneShotSound("ui://mainCity/chanchu"),s.delayedCall(.3).onComplete(t.callFunc((function(){u.lastClickCount=0,t.emitEvent(h.RefreshClickProgress),t.emitEvent(h.EggDrop,i.data.reward.egg)}))))})))):(this.playOneShotSound("ui://mainCity/chanchu"),this.emitEvent(h.EggDrop,i)),this._clickAni=!0,this._pAni.playing=!0,this._pAni.setPlaySettings(4,-1,1,0,this.callFunc((function(){t._pAni.playing=!1,t._clickAni=!1}))),this._pAni.timeScale=5,s.delayedCall(.05).onComplete(this.callFunc((function(){t._eggDrop.visible=!0,t._eggDrop.playing=!0,t._eggDrop.setPlaySettings(0,-1,1,0,t.callFunc((function(){clearTimeout(n),t._eggDrop.visible=!1,t.emitEvent(h.ModalLayer,"Close")}))),t.emitEvent(h.PlayCaiDai)})))},e.playEggDropAni2=function(i){this.playEggDropAni(i),0==this._animFlag?(this._animFlag=1,this._zuoTui.y=73):(this._animFlag=0,this._zuoTui.y=84)},e.sendClickScreen=function(){o.clickScreen(u.lastClickCount)},n}(c))||_);n._RF.pop()}}}));

System.register("chunks:///_virtual/ClientCreateRedPointNodeScript.ts",["cc","./ConfigManager.ts","./RedPointMgr.ts","./schema.ts"],(function(e){var t,n,a,i;return{setters:[function(e){t=e.cclegacy},function(e){n=e.default},function(e){a=e.RedPointMgr},function(e){i=e.Task}],execute:function(){t._RF.push({},"e48afpfSJpIeJa0NHff3Qjx","ClientCreateRedPointNodeScript",void 0);e("ClientCreateRedPointNodeScript",function(){function e(){}return e.createNewPetPoint=function(e,t,i){for(var o=n.inst.tables.PetTb.getDataList(),r=0;r<o.length;r++){var c=a.inst.createRedPointNode(e,i.unlockId,[o[r].id],i.redPointFunc);t[c.getRealRedPointName()]=c}},e.createShopSharePoint=function(e,t,i){for(var o=n.inst.tables.DailyShopTb.getDataList(),r=0;r<o.length;r++)if(1==o[r].share){var c=a.inst.createRedPointNode(e,i.unlockId,[o[r].id],i.redPointFunc);t[c.getRealRedPointName()]=c}},e.createMainTaskRewaredPoint=function(e,t,o){for(var r=n.inst.tables.TaskTb.getDataList(),c=0;c<r.length;c++)if(r[c].taskType==i.Type.Main){var s=a.inst.createRedPointNode(e,o.unlockId,[r[c].taskId],o.redPointFunc);t[s.getRealRedPointName()]=s}},e.createDailyTaskRewaredPoint=function(e,t,o){for(var r=n.inst.tables.TaskTb.getDataList(),c=0;c<r.length;c++)if(r[c].taskType==i.Type.Daily){var s=a.inst.createRedPointNode(e,o.unlockId,[r[c].taskId],o.redPointFunc);t[s.getRealRedPointName()]=s}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ClientMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts","./ResMgr.ts","./LocalStorageMgr.ts","./EventDefine.ts","./EventMgr.ts","./FormMgr.ts","./SceneMgr.ts","./fairygui.min.mjs","./GMButton.ts","./ShareDefine.ts","./SysMsgMgr.ts","./ConfigManager.ts","./Utils.ts","./UserData.ts","./UserApi.ts","./ErrorDefine.ts","./TMA.ts","./RedPoint.ts","./GuideMgr.ts"],(function(t){var n,i,e,o,s,a,r,u,l,c,h,f,g,d,M,m,E,p,v,y,S,G,w,B,L,C,b,D,F,_,P,R,T,I,k;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,r=t._decorator,u=t.Sprite,l=t.director,c=t.game,h=t.Game,f=t.Prefab,g=t.instantiate,d=t.sys,M=t.find},function(t){m=t.BaseComponent},function(t){E=t.default},function(t){p=t.default},function(t){v=t.EventDefine},function(t){y=t.default},function(t){S=t.default},function(t){G=t.default},function(t){w=t.UIObjectFactory,B=t.registerFont},function(t){L=t.GMButton},function(t){C=t.default},function(t){b=t.default},function(t){D=t.default},function(t){F=t.Utils},function(t){_=t.default},function(t){P=t.default},function(t){R=t.ErrorDefine},function(t){T=t.default},function(t){I=t.RedPoint},function(t){k=t.default}],execute:function(){var H,U,O,W,A,x;a._RF.push({},"139f9ncHNhCPrHvOQTdkJXv","ClientMgr",void 0);var z=r.ccclass,N=r.property;window.onerror=function(t,n,i,e,o){};t("ClientMgr",(H=z("ClientMgr"),U=N(u),H(((x=function(t){function n(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,e(n,"loading",A,o(n)),n._GMButton=null,n}i(n,t);var a=n.prototype;return a.init=function(){l.addPersistRootNode(this.node),E.inst.init(),p.inst.init("nEC*ZkkJQFMg","%Rufjbw7bTk@",!C.IsDevelopment),c.on(h.EVENT_HIDE,this.onEventHide,this),c.on(h.EVENT_SHOW,this.onEventShow,this),c.on(h.EVENT_LOW_MEMORY,this.onLowMemory,this),y.regEvent(v.EndGame,this.endGame,this),y.regEvent(v.LoadLogin,this.loadLogin,this),y.regEvent(v.LogOutGame,this.logOutGame,this),y.regEvent(v.BeforeExitScene,this.onBeforeExitScene,this),y.regEvent(v.SwithSceneEnd,this.onSwithSceneEnd,this),y.regEvent(v.HttpEvent,this.httpEvent,this),this.schedule(this.onUpdate.bind(this),.1),this.initGM(),this.startGame()},a.updateLoadingProgress=function(t){this.loading.fillRange=t},a.httpEvent=function(t,n){0!=n.code&&b.inst.showSysMsg(n.code,[n.msg])},a.initGM=function(){var t=this;E.inst.loadRes("gm/GMButton",f).then((function(n){var i=g(n);t._GMButton=i.getComponent(L)}))},a.initSysMsg=function(){b.inst.setWaitForConfirm(R.TokenInvalid,this.onSysMsg.bind(this),null),b.inst.setWaitForConfirm(R.TokenGenerateFail,this.onSysMsg.bind(this),null),b.inst.setWaitForConfirm(R.Unauthorized,this.onSysMsg.bind(this),null),b.inst.setWaitForConfirm(R.LoggedInOnAnotherDevice,this.onSysMsg.bind(this),null),b.inst.setWaitForConfirm(R.LoginExpired,this.onSysMsg.bind(this),null),b.inst.setWaitForConfirm(R.BattleVictory,this.onSysMsg.bind(this),null),b.inst.setWaitForConfirm(R.BattleFailure,this.onSysMsg.bind(this),null),b.inst.setWaitForConfirm(R.BattleAlreadyDismiss,this.onSysMsg.bind(this),null)},a.onSysMsg=function(t,n,i){n==R.BattleVictory||n==R.BattleFailure?S.inst.isFormShow("battleMain/UIBattleMain")&&(S.inst.closeForm("battleMain/UIBattleMain"),y.emitEvent(v.GoTo,"btnBattle")):n==R.BattleAlreadyDismiss?_.lastDeskId="":this.loadLogin()},a.onEventHide=function(){this.log("onEventHide"),G.inst.onEventHide()},a.onEventShow=function(){this.log("onEventShow"),G.inst.onEventShow(),_.now-_.lastSyncDataTime>30&&P.syncData()},a.onLowMemory=function(){S.inst.onLowMemory()},a.initManager=function(){S.inst.init(),G.inst.init(),b.inst.init(),this.initSysMsg()},a.clearClientData=function(){C.HttpStatus=0,_.onReload()},a.onUpdate=function(t){_.lastLoginTime>0&&(F.IsDifferentDays(F.convertTimeZone(_.now,"Asia/Shanghai"),F.convertTimeZone(_.lastLoginTime,"Asia/Shanghai"))&&P.daily(),k.inst.onUpdate(t))},a.update=function(t){try{window.preventDebugging&&window.preventDebugging()}catch(t){this.errLog("update error: %s",t.stack)}},a.startGame=function(){var t=this;this.updateLoadingProgress(0),this.loadConfig((function(){t.updateLoadingProgress(.3),t.loadFont((function(){t.updateLoadingProgress(.7),t.setExtension(),t.runGame()}))}))},a.setExtension=function(){w.setExtension("ui://basics/RedPoint",I)},a.runGame=function(){try{this.initManager(),d.isNative&&d.garbageCollect(),d.dump()}catch(t){this.errLog("runGame: Initialization error: %s",t.stack)}this.updateLoadingProgress(1),this.loadLogin()},a.onBeforeExitScene=function(t){this.hideGMButton()},a.onSwithSceneEnd=function(t){this.showGMButton()},a.showGMButton=function(){C.IsShowGM&&this._GMButton&&this._GMButton.show()},a.hideGMButton=function(){C.IsShowGM&&this._GMButton&&this._GMButton.hide()},a.loadConfig=function(t){D.inst.loadAllConfig().then((function(){t()}))},a.loadFont=function(t){E.inst.loadRes("font/fzch-Regular").then((function(n){B("fzch-Regular",n),t()}))},a.clientLoginProcess=function(){this.clearClientData(),T.login()},a.logOutGame=function(t){this.log("logOutGame"),this.clientLoginProcess()},a.loadLogin=function(){this.clientLoginProcess()},a.endGame=function(){c.end()},s(n,null,[{key:"inst",get:function(){if(!this._instance){var t=M("ClientMgr");this._instance=t.getComponent(n)}return this._instance}}]),n}(m))._instance=null,A=n((W=x).prototype,"loading",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=W))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/ClientRedPointScript.ts",["cc","./ConfigManager.ts","./UserData.ts"],(function(t){var n,e,i;return{setters:[function(t){n=t.cclegacy},function(t){e=t.default},function(t){i=t.default}],execute:function(){n._RF.push({},"0a3dbDBKOxOIL2DLs7T47os","ClientRedPointScript",void 0);t("ClientRedPointScript",function(){function t(){}return t.layEggRedPoint=function(t,n){return i.lastLayEggTime+e.inst.GlobalTb.layEggTime-i.now<=0},t.battleRedPoint=function(t,n){return""!=i.lastDeskId},t.taskRewaredRedPoint=function(t,n){return i.getTaskData(Number(n[0])).state>0},t.shopShareRedPoint=function(t,n){if(-1==i.shop.list.indexOf(Number(n[0])))return!1;var r=e.inst.tables.DailyShopTb.get(Number(n[0]));if(r&&null!=r.buyLimit){var u=i.shop.list.indexOf(Number(n[0]));return!((i.shop.buy[u]||0)>=r.buyLimit)}return!1},t.newPetRedPoint=function(t,n){return-1!=i.newPet.indexOf(n[0])},t.newEggRedPoint=function(t,n){return-1!=i.newEgg.indexOf(n[0])},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ByteBuf.ts","./schema.ts","./BaseClass.ts","./ResMgr.ts"],(function(e){var t,n,a,r,s,i,o,u,c,l,f;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,a=e.asyncToGenerator,r=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,o=e.BufferAsset},function(e){u=e.default},function(e){c=e.Tables},function(e){l=e.BaseClass},function(e){f=e.default}],execute:function(){i._RF.push({},"833b3Q4fNJJFKLT1PbJuS1E","ConfigManager",void 0),e("default",function(e){function i(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).tables=null,t.dataMap=new Map,t.jsonFileNames=[],t}t(i,e);var l=i.prototype;return l.loadConfigName=function(){this.jsonFileNames=c.getTableNames()},l.loadAllConfig=function(){var e=a(r().mark((function e(){var t,n,a,i,u,l,g=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadConfigName(),t="en",e.next=4,f.inst.loadBundle("configs");case 4:n=e.sent,a=[],i=r().mark((function e(){var s,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=l.value,(i=new Promise((function(e,a){n.load(t+"/"+s,o,(function(t,n){e(n)}))}))).then((function(e){e?g.dataMap.set(s,new Uint8Array(e.buffer().slice(0,e.buffer().byteLength))):g.errLog("Static configuration loading failed"+s)})),a.push(i);case 4:case"end":return e.stop()}}),e)})),u=s(this.jsonFileNames);case 8:if((l=u()).done){e.next=12;break}return e.delegateYield(i(),"t0",10);case 10:e.next=8;break;case 12:return e.abrupt("return",Promise.all(a).then((function(e){g.log("Static configuration loading completed"),g.tables=new c(g.getFileData.bind(g))})));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.getFileData=function(e){return this.dataMap.has(e)?new u(this.dataMap.get(e)):null},n(i,[{key:"GlobalTb",get:function(){return this.tables.GlobalTb.getDataList()[0]}}],[{key:"inst",get:function(){return null==this._instance&&(this._instance=new i),this._instance}}]),i}(l))._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/Effect01.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IEffect01.ts","./BaseForm.ts","./FormMgr.ts","./ConfigManager.ts","./UserData.ts"],(function(t){var n,e,i,o,r,s,c,a,g;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){o=t.default},function(t){r=t.ZOrderLvEnum,s=t.UIType},function(t){c=t.default},function(t){a=t.default},function(t){g=t.default}],execute:function(){var u,f;e._RF.push({},"051eeB3tGFOV53dYgfX81EX","Effect01",void 0);var l=i.ccclass;i.property,t("Effect01",l(((f=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).zOrderLv=r.ZOrderLv7,n.uiType=s.Full,n}n(e,t);var i=e.prototype;return i.onInit=function(){},i.onShown=function(){for(var t=this,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];this.getFguiComponent(this._eggDrop,"UIEggComp").showForm(this,0,0,e[0]);var o=this.view.getTransition("t0");o.play(this.callFunc((function(){t.closeForm(),t.getEggScore(e[0])>=a.inst.GlobalTb.shareEggScore&&-1!=g.guide.step.indexOf(108)&&c.inst.showForm("share/UIShareEgg",[1,e[0]])})),5),this._score.text=this.getEggScore(e[0]).toFixed(1),this._ani.visible=!0,this._ani.setPlaySettings(0,-1,1,-1,this.callFunc((function(){t._ani.visible=!1}))),this._ani.playing=!0},i.getEggScore=function(t){var n=a.inst.tables.EggTb;return n.get(t.part1).eggScore+n.get(t.part2).eggScore+n.get(t.part3).eggScore},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){},i.onClick_Wnd=function(t,n){},e}(o)).pkgs=["basics","mainCity"],u=f))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/EggData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseClass.ts","./ConfigManager.ts"],(function(t){var r,a,e,i;return{setters:[function(t){r=t.inheritsLoose},function(t){a=t.cclegacy},function(t){e=t.BaseClass},function(t){i=t.default}],execute:function(){a._RF.push({},"2a43edsMohM6qFmmOu+nCkL","EggData",void 0);t("EggData",function(t){function a(){for(var r,a=arguments.length,e=new Array(a),i=0;i<a;i++)e[i]=arguments[i];return(r=t.call.apply(t,[this].concat(e))||this).id=void 0,r.part1=void 0,r.part2=void 0,r.part3=void 0,r}r(a,t);var e=a.prototype;return e.absorb=function(t){this.id=t.id,this.part1=t.part1,this.part2=t.part2,this.part3=t.part3},e.getScore=function(){var t=i.inst.tables.EggTb;return t.get(this.part1).eggScore+t.get(this.part2).eggScore+t.get(this.part3).eggScore},a}(e));a._RF.pop()}}}));

System.register("chunks:///_virtual/EncryptUtil.ts",["cc","./index.js"],(function(t){var n,i;return{setters:[function(t){n=t.cclegacy},function(t){i=t.default}],execute:function(){n._RF.push({},"8a37a6aL5xKwb3EOdi69NU7","EncryptUtil",void 0);t("EncryptUtil",function(){function t(){this.key=null,this.iv=null,this.JsonFormatter={stringify:function(t){var n={ct:t.ciphertext.toString(i.enc.Base64)};return t.iv&&(n.iv=t.iv.toString()),t.salt&&(n.s=t.salt.toString()),JSON.stringify(n)},parse:function(t){var n=JSON.parse(t),r=i.lib.CipherParams.create({ciphertext:i.enc.Base64.parse(n.ct)});return n.iv&&(r.iv=i.enc.Hex.parse(n.iv)),n.s&&(r.salt=i.enc.Hex.parse(n.s)),r}}}var n=t.prototype;return n.md5=function(t){return i.MD5(t).toString()},t.sha256=function(t){return i.SHA256(t).toString()},n.initCrypto=function(t,n){this.key=t,this.iv=i.enc.Hex.parse(n)},n.aesEncrypt=function(t){return i.AES.encrypt(t,this.key,{iv:this.iv,format:this.JsonFormatter}).toString()},n.aesDecrypt=function(t){return i.AES.decrypt(t,this.key,{iv:this.iv,format:this.JsonFormatter}).toString(i.enc.Utf8)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ErrorDefine.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"5f030bncIRDeKnLQXvjMYQ8","ErrorDefine",void 0);e("ErrorDefine",function(e){return e[e.NetWorkError=400]="NetWorkError",e[e.ServerBusy=-3]="ServerBusy",e[e.TooManyRequests=-2]="TooManyRequests",e[e.UnknownError=-1]="UnknownError",e[e.OK=0]="OK",e[e.ParametersInvalid=1]="ParametersInvalid",e[e.RDBError=2]="RDBError",e[e.DatabaseError=3]="DatabaseError",e[e.JsonMarshalError=4]="JsonMarshalError",e[e.JsonUnmarshalError=5]="JsonUnmarshalError",e[e.TokenInvalid=6]="TokenInvalid",e[e.TokenGenerateFail=7]="TokenGenerateFail",e[e.Unauthorized=8]="Unauthorized",e[e.LoggedInOnAnotherDevice=9]="LoggedInOnAnotherDevice",e[e.LoginExpired=10]="LoginExpired",e[e.ItemNotFound=11]="ItemNotFound",e[e.ItemNotEnough=12]="ItemNotEnough",e[e.DiamondNotEnough=13]="DiamondNotEnough",e[e.MinionsNotFound=14]="MinionsNotFound",e[e.MinionsNotEnough=15]="MinionsNotEnough",e[e.ShopNotFound=16]="ShopNotFound",e[e.PurchaseRestrictions=17]="PurchaseRestrictions",e[e.RewardClaimed=18]="RewardClaimed",e[e.PermissionDenied=19]="PermissionDenied",e[e.BattleAlreadyStarted=20]="BattleAlreadyStarted",e[e.BattleMemberNotEnough=21]="BattleMemberNotEnough",e[e.BattleAlreadyDismiss=22]="BattleAlreadyDismiss",e[e.BattleDataError=23]="BattleDataError",e[e.BattleBetFailItemNotEnough=24]="BattleBetFailItemNotEnough",e[e.BattleYouNotInRound=25]="BattleYouNotInRound",e[e.NotQualified=26]="NotQualified",e[e.AlreadyJoinOtherBattle=27]="AlreadyJoinOtherBattle",e[e.BattleRegistrationFull=28]="BattleRegistrationFull",e[e.RegisteredUsers=29]="RegisteredUsers",e[e.BattleVictory=1e3]="BattleVictory",e[e.BattleFailure=1001]="BattleFailure",e[e.ShopRefresh=1002]="ShopRefresh",e[e.ShopBuy=1003]="ShopBuy",e[e.ShopTonBuy=1004]="ShopTonBuy",e[e.FunctionNotOpen=1005]="FunctionNotOpen",e[e.EggRecoveryCard=1006]="EggRecoveryCard",e[e.EggRecoveryCardNotEnough=1007]="EggRecoveryCardNotEnough",e[e.BuyEggCollectionCard=1008]="BuyEggCollectionCard",e[e.EggAutoCollection=1009]="EggAutoCollection",e[e.GetEggAutoCollection=1010]="GetEggAutoCollection",e[e.GetDeluxePass=1011]="GetDeluxePass",e[e.GetCheckInCard=1012]="GetCheckInCard",e[e.ResigningTips=1013]="ResigningTips",e}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/EventDefine.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"302cd/ysM9IJojHaqh08v4J","EventDefine",void 0);e("EventDefine",function(e){return e.EndGame="EndGame",e.LoadLogin="LoadLogin",e.LogOutGame="LogOutGame",e.ModalLayer="ModalLayer",e.BeforeExitScene="BeforeExitScene",e.SwithSceneEnd="SwithSceneEnd",e.HttpEvent="HttpEvent",e.AddBaseRedPoint="AddBaseRedPoint",e.RefreshRedPoint="RefreshRedPoint",e.OnEnter="OnEnter",e.RefreshVit="RefreshVit",e.RefreshGold="RefreshGold",e.RefreshDiamond="RefreshDiamond",e.RefreshItem="RefreshItem",e.RefreshAutoEggCollect="RefreshAutoEggCollect",e.RefreshEgg="RefreshEgg",e.RefreshPet="RefreshPet",e.RefreshClickProgress="RefreshClickProgress",e.EggDrop="EggDrop",e.RefreshTaskList="RefreshTaskList",e.RefreshBattleEntry="RefreshBattleEntry",e.RefreshShopList="RefreshShopList",e.PlayCaiDai="PlayCaiDai",e.GoTo="GoTo",e.RefreshLayEggRedPoint="RefreshLayEggRedPoint",e.RefreshTaskRewardRedPoint="RefreshTaskRewardRedPoint",e.RefreshShopShareRedPoint="RefreshShopShareRedPoint",e.RefreshBattleRedPoint="RefreshBattleRedPoint",e.RefreshNewPetRedPoint="RefreshNewPetRedPoint",e.RefreshNewEggRedPoint="RefreshNewEggRedPoint",e.RefreshUnlockState="RefreshUnlockState",e.ShopScroll="ShopScroll",e.RunNextGuide="RunNextGuide",e.RefreshPassPort="RefreshPassPort",e.RefreshSignIn="RefreshSignIn",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["cc"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy,n=e.EventTarget}],execute:function(){t._RF.push({},"f5073lqDaVFJIpXmmTpz3Xj","EventMgr",void 0);var r=new n;e("default",function(){function e(){}return e.emitEvent=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];r.emit.apply(r,[e].concat(n))}catch(t){console.error("emitEvent(%s) error: %s",e,t.stack)}},e.regEvent=function(e,t,n){t?r.on(e,t,n):console.error("regEvent(%s) error: invalid parameters",e)},e.unRegEvent=function(e,t,n){t&&n?r.off(t,n,e):r.targetOff(e)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/fairygui.min.mjs",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,s,o,r,h,a,l,_,c,d,u,f,g,p,m,y,v,w,C,S,x,b,I,k,P,T,B,z,A,O,L,M,E,R,F,D,V,H,N,G,j,W,U,Y,X,Q,Z,K,q,$,J,tt,et,it;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.regeneratorRuntime,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t.gfx,h=t.Vec2,a=t.Color,l=t.Layers,_=t.Font,c=t.resources,d=t.Rect,u=t.Vec3,f=t.misc,g=t.Sprite,p=t.isValid,m=t.Size,y=t.assetManager,v=t.Texture2D,w=t.SpriteFrame,C=t.BitmapFont,S=t.sp,x=t.dragonBones,b=t.ImageAsset,I=t.AudioClip,k=t.Label,P=t.CacheMode,T=t.InstanceMaterialType,B=t.RichText,z=t.Node,A=t.UITransform,O=t.Mask,L=t.math,M=t.director,E=t.game,R=t.screen,F=t.View,D=t.AudioSourceComponent,V=t.Overflow,H=t.Pool,N=t.Asset,G=t.EventMouse,j=t.Event,W=t.UIOpacity,U=t.Component,Y=t.Graphics,X=t.view,Q=t.path,Z=t.BufferAsset,K=t.AssetManager,q=t.SpriteAtlas,$=t.EventTarget,J=t.EditBox,tt=t.sys,et=t.UIRenderer,it=t.macro}],execute:function(){var nt,st,ot,rt,ht,at,lt,_t,ct,dt,ut,ft,gt,pt,mt,yt,vt,wt,Ct,St,xt,bt,It,kt;t({AlignType:void 0,AutoSizeType:void 0,BlendMode:void 0,ButtonMode:void 0,ChildrenRenderOrder:void 0,CurveType:void 0,EaseType:void 0,FillMethod:void 0,FillOrigin:void 0,FlipType:void 0,GroupLayoutType:void 0,ListLayoutType:void 0,ListSelectionMode:void 0,LoaderFillType:void 0,ObjectPropID:void 0,ObjectType:void 0,OverflowType:void 0,PackageItemType:void 0,PopupDirection:void 0,ProgressTitleType:void 0,RelationType:void 0,ScrollBarDisplayType:void 0,ScrollType:void 0,VertAlignType:void 0,registerFont:function(t,e,i){e instanceof _?ce[t]=e:(i||c).load(t,_,(function(e,i){ce[t]=i}))}}),o._RF.push({},"b3893x0IAZPSJYkrPAAObG1","fairygui.min",void 0),(kt=st||(st=t("ButtonMode",{})))[kt.Common=0]="Common",kt[kt.Check=1]="Check",kt[kt.Radio=2]="Radio",function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Height=2]="Height",t[t.Shrink=3]="Shrink"}(ot||(ot=t("AutoSizeType",{}))),function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(rt||(rt=t("AlignType",{}))),function(t){t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Bottom=2]="Bottom"}(ht||(ht=t("VertAlignType",{}))),function(t){t[t.None=0]="None",t[t.Scale=1]="Scale",t[t.ScaleMatchHeight=2]="ScaleMatchHeight",t[t.ScaleMatchWidth=3]="ScaleMatchWidth",t[t.ScaleFree=4]="ScaleFree",t[t.ScaleNoBorder=5]="ScaleNoBorder"}(at||(at=t("LoaderFillType",{}))),function(t){t[t.SingleColumn=0]="SingleColumn",t[t.SingleRow=1]="SingleRow",t[t.FlowHorizontal=2]="FlowHorizontal",t[t.FlowVertical=3]="FlowVertical",t[t.Pagination=4]="Pagination"}(lt||(lt=t("ListLayoutType",{}))),function(t){t[t.Single=0]="Single",t[t.Multiple=1]="Multiple",t[t.Multiple_SingleClick=2]="Multiple_SingleClick",t[t.None=3]="None"}(_t||(_t=t("ListSelectionMode",{}))),function(t){t[t.Visible=0]="Visible",t[t.Hidden=1]="Hidden",t[t.Scroll=2]="Scroll"}(ct||(ct=t("OverflowType",{}))),function(t){t[t.Image=0]="Image",t[t.MovieClip=1]="MovieClip",t[t.Sound=2]="Sound",t[t.Component=3]="Component",t[t.Atlas=4]="Atlas",t[t.Font=5]="Font",t[t.Swf=6]="Swf",t[t.Misc=7]="Misc",t[t.Unknown=8]="Unknown",t[t.Spine=9]="Spine",t[t.DragonBones=10]="DragonBones"}(dt||(dt=t("PackageItemType",{}))),function(t){t[t.Image=0]="Image",t[t.MovieClip=1]="MovieClip",t[t.Swf=2]="Swf",t[t.Graph=3]="Graph",t[t.Loader=4]="Loader",t[t.Group=5]="Group",t[t.Text=6]="Text",t[t.RichText=7]="RichText",t[t.InputText=8]="InputText",t[t.Component=9]="Component",t[t.List=10]="List",t[t.Label=11]="Label",t[t.Button=12]="Button",t[t.ComboBox=13]="ComboBox",t[t.ProgressBar=14]="ProgressBar",t[t.Slider=15]="Slider",t[t.ScrollBar=16]="ScrollBar",t[t.Tree=17]="Tree",t[t.Loader3D=18]="Loader3D"}(ut||(ut=t("ObjectType",{}))),function(t){t[t.Percent=0]="Percent",t[t.ValueAndMax=1]="ValueAndMax",t[t.Value=2]="Value",t[t.Max=3]="Max"}(ft||(ft=t("ProgressTitleType",{}))),function(t){t[t.Default=0]="Default",t[t.Visible=1]="Visible",t[t.Auto=2]="Auto",t[t.Hidden=3]="Hidden"}(gt||(gt=t("ScrollBarDisplayType",{}))),function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical",t[t.Both=2]="Both"}(pt||(pt=t("ScrollType",{}))),function(t){t[t.None=0]="None",t[t.Horizontal=1]="Horizontal",t[t.Vertical=2]="Vertical",t[t.Both=3]="Both"}(mt||(mt=t("FlipType",{}))),function(t){t[t.Ascent=0]="Ascent",t[t.Descent=1]="Descent",t[t.Arch=2]="Arch"}(yt||(yt=t("ChildrenRenderOrder",{}))),function(t){t[t.None=0]="None",t[t.Horizontal=1]="Horizontal",t[t.Vertical=2]="Vertical"}(vt||(vt=t("GroupLayoutType",{}))),function(t){t[t.Auto=0]="Auto",t[t.Up=1]="Up",t[t.Down=2]="Down"}(wt||(wt=t("PopupDirection",{}))),function(t){t[t.Left_Left=0]="Left_Left",t[t.Left_Center=1]="Left_Center",t[t.Left_Right=2]="Left_Right",t[t.Center_Center=3]="Center_Center",t[t.Right_Left=4]="Right_Left",t[t.Right_Center=5]="Right_Center",t[t.Right_Right=6]="Right_Right",t[t.Top_Top=7]="Top_Top",t[t.Top_Middle=8]="Top_Middle",t[t.Top_Bottom=9]="Top_Bottom",t[t.Middle_Middle=10]="Middle_Middle",t[t.Bottom_Top=11]="Bottom_Top",t[t.Bottom_Middle=12]="Bottom_Middle",t[t.Bottom_Bottom=13]="Bottom_Bottom",t[t.Width=14]="Width",t[t.Height=15]="Height",t[t.LeftExt_Left=16]="LeftExt_Left",t[t.LeftExt_Right=17]="LeftExt_Right",t[t.RightExt_Left=18]="RightExt_Left",t[t.RightExt_Right=19]="RightExt_Right",t[t.TopExt_Top=20]="TopExt_Top",t[t.TopExt_Bottom=21]="TopExt_Bottom",t[t.BottomExt_Top=22]="BottomExt_Top",t[t.BottomExt_Bottom=23]="BottomExt_Bottom",t[t.Size=24]="Size"}(Ct||(Ct=t("RelationType",{}))),function(t){t[t.None=0]="None",t[t.Horizontal=1]="Horizontal",t[t.Vertical=2]="Vertical",t[t.Radial90=3]="Radial90",t[t.Radial180=4]="Radial180",t[t.Radial360=5]="Radial360"}(St||(St=t("FillMethod",{}))),function(t){t[t.Top=0]="Top",t[t.Bottom=1]="Bottom",t[t.Left=2]="Left",t[t.Right=3]="Right"}(xt||(xt=t("FillOrigin",{}))),function(t){t[t.Text=0]="Text",t[t.Icon=1]="Icon",t[t.Color=2]="Color",t[t.OutlineColor=3]="OutlineColor",t[t.Playing=4]="Playing",t[t.Frame=5]="Frame",t[t.DeltaTime=6]="DeltaTime",t[t.TimeScale=7]="TimeScale",t[t.FontSize=8]="FontSize",t[t.Selected=9]="Selected"}(bt||(bt=t("ObjectPropID",{}))),function(t){t[t.Normal=0]="Normal",t[t.None=1]="None",t[t.Add=2]="Add",t[t.Multiply=3]="Multiply",t[t.Screen=4]="Screen",t[t.Erase=5]="Erase",t[t.Mask=6]="Mask",t[t.Below=7]="Below",t[t.Off=8]="Off",t[t.Custom1=9]="Custom1",t[t.Custom2=10]="Custom2",t[t.Custom3=11]="Custom3"}(It||(It=t("BlendMode",{})));var Pt=function(){function t(){}return t.apply=function(t,e){var i=Tt[e];t.getComponentsInChildren(et).forEach((function(t){t.srcBlendFactor=i[0],t.dstBlendFactor=i[1]}))},t.override=function(t,e,i){Tt[t][0]=e,Tt[t][1]=i},t}(),Tt=[[r.BlendFactor.SRC_ALPHA,r.BlendFactor.ONE_MINUS_SRC_ALPHA],[r.BlendFactor.ONE,r.BlendFactor.ONE],[r.BlendFactor.SRC_ALPHA,r.BlendFactor.ONE],[r.BlendFactor.DST_COLOR,r.BlendFactor.ONE_MINUS_SRC_ALPHA],[r.BlendFactor.ONE,r.BlendFactor.ONE_MINUS_SRC_COLOR],[r.BlendFactor.ZERO,r.BlendFactor.ONE_MINUS_SRC_ALPHA],[r.BlendFactor.ZERO,r.BlendFactor.SRC_ALPHA],[r.BlendFactor.ONE_MINUS_DST_ALPHA,r.BlendFactor.DST_ALPHA],[r.BlendFactor.ONE,r.BlendFactor.ZERO],[r.BlendFactor.SRC_ALPHA,r.BlendFactor.ONE_MINUS_SRC_ALPHA],[r.BlendFactor.SRC_ALPHA,r.BlendFactor.ONE_MINUS_SRC_ALPHA],[r.BlendFactor.SRC_ALPHA,r.BlendFactor.ONE_MINUS_SRC_ALPHA]],Bt=t("Event",function(t){function n(e,i){var n;return(n=t.call(this,e,i)||this).pos=new h,n.touchId=0,n.clickCount=0,n.button=0,n.keyModifiers=0,n.mouseWheelDelta=0,n}return e(n,t),n.prototype.captureTouch=function(){var t=de.cast(this.currentTarget);t&&this._processor.addTouchMonitor(this.touchId,t)},i(n,[{key:"sender",get:function(){return de.cast(this.currentTarget)}},{key:"isShiftDown",get:function(){return!1}},{key:"isCtrlDown",get:function(){return!1}}]),n}(j));Bt.TOUCH_BEGIN="fui_touch_begin",Bt.TOUCH_MOVE="fui_touch_move",Bt.TOUCH_END="fui_touch_end",Bt.CLICK="fui_click",Bt.ROLL_OVER="fui_roll_over",Bt.ROLL_OUT="fui_roll_out",Bt.MOUSE_WHEEL="fui_mouse_wheel",Bt.DISPLAY="fui_display",Bt.UNDISPLAY="fui_undisplay",Bt.GEAR_STOP="fui_gear_stop",Bt.LINK="fui_text_link",Bt.Submit="editing-return",Bt.TEXT_CHANGE="text-changed",Bt.STATUS_CHANGED="fui_status_changed",Bt.XY_CHANGED="fui_xy_changed",Bt.SIZE_CHANGED="fui_size_changed",Bt.SIZE_DELAY_CHANGE="fui_size_delay_change",Bt.DRAG_START="fui_drag_start",Bt.DRAG_MOVE="fui_drag_move",Bt.DRAG_END="fui_drag_end",Bt.DROP="fui_drop",Bt.SCROLL="fui_scroll",Bt.SCROLL_END="fui_scroll_end",Bt.PULL_DOWN_RELEASE="fui_pull_down_release",Bt.PULL_UP_RELEASE="fui_pull_up_release",Bt.CLICK_ITEM="fui_click_item";var zt,At=new Array;function Ot(t,e){var i;return At.length?((i=At.pop()).type=t,i.bubbles=e):i=new Bt(t,e),i}function Lt(t){t.initiator=null,t.unuse(),At.push(t)}!function(t){t[t.Linear=0]="Linear",t[t.SineIn=1]="SineIn",t[t.SineOut=2]="SineOut",t[t.SineInOut=3]="SineInOut",t[t.QuadIn=4]="QuadIn",t[t.QuadOut=5]="QuadOut",t[t.QuadInOut=6]="QuadInOut",t[t.CubicIn=7]="CubicIn",t[t.CubicOut=8]="CubicOut",t[t.CubicInOut=9]="CubicInOut",t[t.QuartIn=10]="QuartIn",t[t.QuartOut=11]="QuartOut",t[t.QuartInOut=12]="QuartInOut",t[t.QuintIn=13]="QuintIn",t[t.QuintOut=14]="QuintOut",t[t.QuintInOut=15]="QuintInOut",t[t.ExpoIn=16]="ExpoIn",t[t.ExpoOut=17]="ExpoOut",t[t.ExpoInOut=18]="ExpoInOut",t[t.CircIn=19]="CircIn",t[t.CircOut=20]="CircOut",t[t.CircInOut=21]="CircInOut",t[t.ElasticIn=22]="ElasticIn",t[t.ElasticOut=23]="ElasticOut",t[t.ElasticInOut=24]="ElasticInOut",t[t.BackIn=25]="BackIn",t[t.BackOut=26]="BackOut",t[t.BackInOut=27]="BackInOut",t[t.BounceIn=28]="BounceIn",t[t.BounceOut=29]="BounceOut",t[t.BounceInOut=30]="BounceInOut",t[t.Custom=31]="Custom"}(zt||(zt=t("EaseType",{})));var Mt=t("GearBase",function(){function t(){}var e=t.prototype;return e.dispose=function(){this._tweenConfig&&this._tweenConfig._tweener&&(this._tweenConfig._tweener.kill(),this._tweenConfig._tweener=null)},e.setup=function(t){var e,i;this._controller=this._owner.parent.getControllerAt(t.readShort()),this.init();var n=t.readShort();if("pages"in this)this.pages=t.readSArray(n);else{for(e=0;e<n;e++)null!=(i=t.readS())&&this.addStatus(i,t);t.readBool()&&this.addStatus(null,t)}if(t.readBool()&&(this._tweenConfig=new Et,this._tweenConfig.easeType=t.readByte(),this._tweenConfig.duration=t.readFloat(),this._tweenConfig.delay=t.readFloat()),t.version>=2)if("positionsInPercent"in this){if(t.readBool()){for(this.positionsInPercent=!0,e=0;e<n;e++)null!=(i=t.readS())&&this.addExtStatus(i,t);t.readBool()&&this.addExtStatus(null,t)}}else"condition"in this&&(this.condition=t.readByte())},e.updateFromRelations=function(t,e){},e.addStatus=function(t,e){},e.init=function(){},e.apply=function(){},e.updateState=function(){},i(t,[{key:"controller",get:function(){return this._controller},set:function(t){t!=this._controller&&(this._controller=t,this._controller&&this.init())}},{key:"tweenConfig",get:function(){return this._tweenConfig||(this._tweenConfig=new Et),this._tweenConfig}},{key:"allowTween",get:function(){return this._tweenConfig&&this._tweenConfig.tween&&0==xe.n&&!t.disableAllTweenEffect}}]),t}()),Et=function(){this.tween=!0,this.easeType=zt.QuadOut,this.duration=.3,this.delay=0},Rt=t("GearAnimation",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.init=function(){this._default={playing:this._owner.getProp(bt.Playing),frame:this._owner.getProp(bt.Frame)},this._storage={}},n.addStatus=function(t,e){var i;t?(i={},this._storage[t]=i):i=this._default,i.playing=e.readBool(),i.frame=e.readInt()},n.apply=function(){this._owner._gearLocked=!0;var t=this._storage[this._controller.selectedPageId]||this._default;this._owner.setProp(bt.Playing,t.playing),this._owner.setProp(bt.Frame,t.frame),this._owner._gearLocked=!1},n.updateState=function(){var t=this._storage[this._controller.selectedPageId];t||(t={},this._storage[this._controller.selectedPageId]=t),t.playing=this._owner.getProp(bt.Playing),t.frame=this._owner.getProp(bt.Frame)},i}(Mt)),Ft=t("GearColor",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.init=function(){this._default={color:this._owner.getProp(bt.Color),strokeColor:this._owner.getProp(bt.OutlineColor)},this._storage={}},n.addStatus=function(t,e){var i;t?(i={},this._storage[t]=i):i=this._default,i.color=e.readColor(),i.strokeColor=e.readColor()},n.apply=function(){this._owner._gearLocked=!0;var t=this._storage[this._controller.selectedPageId]||this._default;this._owner.setProp(bt.Color,t.color),this._owner.setProp(bt.OutlineColor,t.strokeColor),this._owner._gearLocked=!1},n.updateState=function(){var t=this._storage[this._controller.selectedPageId];t||(t={},this._storage[this._controller.selectedPageId]=t),t.color=this._owner.getProp(bt.Color),t.strokeColor=this._owner.getProp(bt.OutlineColor)},i}(Mt)),Dt=t("GearDisplay",function(t){function n(){var e;return(e=t.apply(this,arguments)||this).pages=null,e._visible=0,e._displayLockToken=1,e}e(n,t);var s=n.prototype;return s.init=function(){this.pages=null},s.addLock=function(){return this._visible++,this._displayLockToken},s.releaseLock=function(t){t==this._displayLockToken&&this._visible--},s.apply=function(){this._displayLockToken++,this._displayLockToken<=0&&(this._displayLockToken=1),null==this.pages||0==this.pages.length||-1!=this.pages.indexOf(this._controller.selectedPageId)?this._visible=1:this._visible=0},i(n,[{key:"connected",get:function(){return null==this._controller||this._visible>0}}]),n}(Mt)),Vt=t("GearDisplay2",function(t){function i(){var e;return(e=t.apply(this,arguments)||this).pages=null,e.condition=0,e._visible=0,e}e(i,t);var n=i.prototype;return n.init=function(){this.pages=null},n.apply=function(){null==this.pages||0==this.pages.length||-1!=this.pages.indexOf(this._controller.selectedPageId)?this._visible=1:this._visible=0},n.evaluate=function(t){var e=null==this._controller||this._visible>0;return 0==this.condition?e&&t:e||t},i}(Mt)),Ht=t("GearFontSize",function(t){function i(){var e;return(e=t.apply(this,arguments)||this)._default=0,e}e(i,t);var n=i.prototype;return n.init=function(){this._default=this._owner.getProp(bt.FontSize),this._storage={}},n.addStatus=function(t,e){t?this._storage[t]=e.readInt():this._default=e.readInt()},n.apply=function(){this._owner._gearLocked=!0;var t=this._storage[this._controller.selectedPageId];void 0!==t?this._owner.setProp(bt.FontSize,t):this._owner.setProp(bt.FontSize,this._default),this._owner._gearLocked=!1},n.updateState=function(){this._storage[this._controller.selectedPageId]=this._owner.getProp(bt.FontSize)},i}(Mt)),Nt=t("GearIcon",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.init=function(){this._default=this._owner.icon,this._storage={}},n.addStatus=function(t,e){t?this._storage[t]=e.readS():this._default=e.readS()},n.apply=function(){this._owner._gearLocked=!0;var t=this._storage[this._controller.selectedPageId];this._owner.icon=void 0!==t?t:this._default,this._owner._gearLocked=!1},n.updateState=function(){this._storage[this._controller.selectedPageId]=this._owner.icon},i}(Mt)),Gt=function(){function t(t,e,i){this.pool=[],this._init=e,this._reset=i,this._ct=t}var e=t.prototype;return e.borrow=function(){for(var t,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t=this.pool.length>0?this.pool.pop():new this._ct,this._init&&this._init.apply(this,[t].concat(i)),t},e.returns=function(t){if(Array.isArray(t)){for(var e=t.length,i=0;i<e;i++){var n=t[i];this._reset&&this._reset(n),this.pool.push(n)}t.length=0}else this._reset&&this._reset(t),this.pool.push(t)},t}(),jt=.5*Math.PI,Wt=2*Math.PI;function Ut(t,e,i,n,s){switch(t){case zt.Linear:return e/i;case zt.SineIn:return 1-Math.cos(e/i*jt);case zt.SineOut:return Math.sin(e/i*jt);case zt.SineInOut:return-.5*(Math.cos(Math.PI*e/i)-1);case zt.QuadIn:return(e/=i)*e;case zt.QuadOut:return-(e/=i)*(e-2);case zt.QuadInOut:return(e/=.5*i)<1?.5*e*e:-.5*(--e*(e-2)-1);case zt.CubicIn:return(e/=i)*e*e;case zt.CubicOut:return(e=e/i-1)*e*e+1;case zt.CubicInOut:return(e/=.5*i)<1?.5*e*e*e:.5*((e-=2)*e*e+2);case zt.QuartIn:return(e/=i)*e*e*e;case zt.QuartOut:return-((e=e/i-1)*e*e*e-1);case zt.QuartInOut:return(e/=.5*i)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2);case zt.QuintIn:return(e/=i)*e*e*e*e;case zt.QuintOut:return(e=e/i-1)*e*e*e*e+1;case zt.QuintInOut:return(e/=.5*i)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2);case zt.ExpoIn:return 0==e?0:Math.pow(2,10*(e/i-1));case zt.ExpoOut:return e==i?1:1-Math.pow(2,-10*e/i);case zt.ExpoInOut:return 0==e?0:e==i?1:(e/=.5*i)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e));case zt.CircIn:return-(Math.sqrt(1-(e/=i)*e)-1);case zt.CircOut:return Math.sqrt(1-(e=e/i-1)*e);case zt.CircInOut:return(e/=.5*i)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1);case zt.ElasticIn:var o;return 0==e?0:1==(e/=i)?1:(0==s&&(s=.3*i),n<1?(n=1,o=s/4):o=s/Wt*Math.asin(1/n),-n*Math.pow(2,10*(e-=1))*Math.sin((e*i-o)*Wt/s));case zt.ElasticOut:var r;return 0==e?0:1==(e/=i)?1:(0==s&&(s=.3*i),n<1?(n=1,r=s/4):r=s/Wt*Math.asin(1/n),n*Math.pow(2,-10*e)*Math.sin((e*i-r)*Wt/s)+1);case zt.ElasticInOut:var h;return 0==e?0:2==(e/=.5*i)?1:(0==s&&(s=i*(.3*1.5)),n<1?(n=1,h=s/4):h=s/Wt*Math.asin(1/n),e<1?n*Math.pow(2,10*(e-=1))*Math.sin((e*i-h)*Wt/s)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e*i-h)*Wt/s)*.5+1);case zt.BackIn:return(e/=i)*e*((n+1)*e-n);case zt.BackOut:return(e=e/i-1)*e*((n+1)*e+n)+1;case zt.BackInOut:return(e/=.5*i)<1?e*e*((1+(n*=1.525))*e-n)*.5:.5*((e-=2)*e*((1+(n*=1.525))*e+n)+2);case zt.BounceIn:return Yt(e,i);case zt.BounceOut:return Xt(e,i);case zt.BounceInOut:return function(t,e){return t<.5*e?.5*Yt(2*t,e):.5*Xt(2*t-e,e)+.5}(e,i);default:return-(e/=i)*(e-2)}}function Yt(t,e){return 1-Xt(e-t,e)}function Xt(t,e){return(t/=e)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}var Qt,Zt=function(){function t(){this.x=this.y=this.z=this.w=0}var e=t.prototype;return e.getField=function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("Index out of bounds: "+t)}},e.setField=function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("Index out of bounds: "+t)}},e.setZero=function(){this.x=this.y=this.z=this.w=0},i(t,[{key:"color",get:function(){return(this.w<<24)+(this.x<<16)+(this.y<<8)+this.z},set:function(t){this.x=(16711680&t)>>16,this.y=(65280&t)>>8,this.z=255&t,this.w=(4278190080&t)>>24}}]),t}(),Kt=new h,qt=t("GTweener",function(){function t(){this._delay=0,this._duration=0,this._breakpoint=0,this._easeType=0,this._easeOvershootOrAmplitude=0,this._easePeriod=0,this._repeat=0,this._yoyo=!1,this._timeScale=1,this._snapping=!1,this._startValue=new Zt,this._endValue=new Zt,this._value=new Zt,this._deltaValue=new Zt,this._reset()}var e=t.prototype;return e.setDelay=function(t){return this._delay=t,this},e.setDuration=function(t){return this._duration=t,this},e.setBreakpoint=function(t){return this._breakpoint=t,this},e.setEase=function(t){return this._easeType=t,this},e.setEasePeriod=function(t){return this._easePeriod=t,this},e.setEaseOvershootOrAmplitude=function(t){return this._easeOvershootOrAmplitude=t,this},e.setRepeat=function(t,e){return this._repeat=t,this._yoyo=e,this},e.setTimeScale=function(t){return this._timeScale=t,this},e.setSnapping=function(t){return this._snapping=t,this},e.setTarget=function(t,e){return this._target=t,this._propType=e,this},e.setPath=function(t){return this._path=t,this},e.setUserData=function(t){return this._userData=t,this},e.onUpdate=function(t,e){return this._onUpdate=t,this._onUpdateCaller=e,this},e.onStart=function(t,e){return this._onStart=t,this._onStartCaller=e,this},e.onComplete=function(t,e){return this._onComplete=t,this._onCompleteCaller=e,this},e.setPaused=function(t){return this._paused=t,this},e.seek=function(t){if(!this._killed){if(this._elapsedTime=t,this._elapsedTime<this._delay){if(!this._started)return;this._elapsedTime=this._delay}this.update()}},e.kill=function(t){this._killed||(t&&(0==this._ended&&(this._breakpoint>=0?this._elapsedTime=this._delay+this._breakpoint:this._repeat>=0?this._elapsedTime=this._delay+this._duration*(this._repeat+1):this._elapsedTime=this._delay+2*this._duration,this.update()),this.callCompleteCallback()),this._killed=!0)},e._to=function(t,e,i){return this._valueSize=1,this._startValue.x=t,this._endValue.x=e,this._value.x=t,this._duration=i,this},e._to2=function(t,e,i,n,s){return this._valueSize=2,this._startValue.x=t,this._endValue.x=i,this._startValue.y=e,this._endValue.y=n,this._value.x=t,this._value.y=e,this._duration=s,this},e._to3=function(t,e,i,n,s,o,r){return this._valueSize=3,this._startValue.x=t,this._endValue.x=n,this._startValue.y=e,this._endValue.y=s,this._startValue.z=i,this._endValue.z=o,this._value.x=t,this._value.y=e,this._value.z=i,this._duration=r,this},e._to4=function(t,e,i,n,s,o,r,h,a){return this._valueSize=4,this._startValue.x=t,this._endValue.x=s,this._startValue.y=e,this._endValue.y=o,this._startValue.z=i,this._endValue.z=r,this._startValue.w=n,this._endValue.w=h,this._value.x=t,this._value.y=e,this._value.z=i,this._value.w=n,this._duration=a,this},e._toColor=function(t,e,i){return this._valueSize=5,this._startValue.color=t,this._endValue.color=e,this._value.color=t,this._duration=i,this},e._shake=function(t,e,i,n){return this._valueSize=6,this._startValue.x=t,this._startValue.y=e,this._startValue.w=i,this._duration=n,this},e._init=function(){this._delay=0,this._duration=0,this._breakpoint=-1,this._easeType=zt.QuadOut,this._timeScale=1,this._easePeriod=0,this._easeOvershootOrAmplitude=1.70158,this._snapping=!1,this._repeat=0,this._yoyo=!1,this._valueSize=0,this._started=!1,this._paused=!1,this._killed=!1,this._elapsedTime=0,this._normalizedTime=0,this._ended=0},e._reset=function(){this._target=null,this._propType=null,this._userData=null,this._path=null,this._onStart=this._onUpdate=this._onComplete=null,this._onStartCaller=this._onUpdateCaller=this._onCompleteCaller=null},e._update=function(t){if(1!=this._timeScale&&(t*=this._timeScale),0!=t){if(0!=this._ended)return this.callCompleteCallback(),void(this._killed=!0);this._elapsedTime+=t,this.update(),0!=this._ended&&(this._killed||(this.callCompleteCallback(),this._killed=!0))}},e.update=function(){if(this._ended=0,0!=this._valueSize){if(!this._started){if(this._elapsedTime<this._delay)return;if(this._started=!0,this.callStartCallback(),this._killed)return}var t=!1,e=this._elapsedTime-this._delay;if(this._breakpoint>=0&&e>=this._breakpoint&&(e=this._breakpoint,this._ended=2),0!=this._repeat){var i=Math.floor(e/this._duration);e-=this._duration*i,this._yoyo&&(t=i%2==1),this._repeat>0&&this._repeat-i<0&&(this._yoyo&&(t=this._repeat%2==1),e=this._duration,this._ended=1)}else e>=this._duration&&(e=this._duration,this._ended=1);if(this._normalizedTime=Ut(this._easeType,t?this._duration-e:e,this._duration,this._easeOvershootOrAmplitude,this._easePeriod),this._value.setZero(),this._deltaValue.setZero(),6==this._valueSize)if(0==this._ended){var n=this._startValue.w*(1-this._normalizedTime),s=n*(Math.random()>.5?1:-1),o=n*(Math.random()>.5?1:-1);this._deltaValue.x=s,this._deltaValue.y=o,this._value.x=this._startValue.x+s,this._value.y=this._startValue.y+o}else this._value.x=this._startValue.x,this._value.y=this._startValue.y;else if(this._path){var r=this._path.getPointAt(this._normalizedTime,Kt);this._snapping&&(r.x=Math.round(r.x),r.y=Math.round(r.y)),this._deltaValue.x=r.x-this._value.x,this._deltaValue.y=r.y-this._value.y,this._value.x=r.x,this._value.y=r.y}else for(var h=Math.min(this._valueSize,4),a=0;a<h;a++){var l=this._startValue.getField(a),_=l+(this._endValue.getField(a)-l)*this._normalizedTime;this._snapping&&(_=Math.round(_)),this._deltaValue.setField(a,_-this._value.getField(a)),this._value.setField(a,_)}if(this._target&&this._propType)if(this._propType instanceof Function)switch(this._valueSize){case 1:this._propType.call(this._target,this._value.x);break;case 2:this._propType.call(this._target,this._value.x,this._value.y);break;case 3:this._propType.call(this._target,this._value.x,this._value.y,this._value.z);break;case 4:this._propType.call(this._target,this._value.x,this._value.y,this._value.z,this._value.w);break;case 5:this._propType.call(this._target,this._value.color);break;case 6:this._propType.call(this._target,this._value.x,this._value.y)}else 5==this._valueSize?this._target[this._propType]=this._value.color:this._target[this._propType]=this._value.x;this.callUpdateCallback()}else this._elapsedTime>=this._delay+this._duration&&(this._ended=1)},e.callStartCallback=function(){if(this._onStart)try{this._onStart.call(this._onStartCaller,this)}catch(t){console.log("error in start callback > "+t)}},e.callUpdateCallback=function(){if(this._onUpdate)try{this._onUpdate.call(this._onUpdateCaller,this)}catch(t){console.log("error in update callback > "+t)}},e.callCompleteCallback=function(){if(this._onComplete)try{this._onComplete.call(this._onCompleteCaller,this)}catch(t){console.log("error in complete callback > "+t)}},i(t,[{key:"elapsedTime",get:function(){return this._elapsedTime}},{key:"delay",get:function(){return this._delay}},{key:"duration",get:function(){return this._duration}},{key:"repeat",get:function(){return this._repeat}},{key:"target",get:function(){return this._target}},{key:"userData",get:function(){return this._userData}},{key:"startValue",get:function(){return this._startValue}},{key:"endValue",get:function(){return this._endValue}},{key:"value",get:function(){return this._value}},{key:"deltaValue",get:function(){return this._deltaValue}},{key:"normalizedTime",get:function(){return this._normalizedTime}},{key:"completed",get:function(){return 0!=this._ended}},{key:"allCompleted",get:function(){return 1==this._ended}}]),t}()),$t=function(){function t(){}return t.createTween=function(){Qt||(Qt=new z("[TweenManager]"),E.addPersistRootNode(Qt),M.getScheduler().schedule(t.update,Qt,0,it.REPEAT_FOREVER,0,!1));var e=te.borrow();return Jt[ee++]=e,e},t.isTweening=function(t,e){if(null==t)return!1;for(var i=!e,n=0;n<ee;n++){var s=Jt[n];if(s&&s.target==t&&!s._killed&&(i||s._propType==e))return!0}return!1},t.killTweens=function(t,e,i){if(null==t)return!1;for(var n=!1,s=ee,o=!i,r=0;r<s;r++){var h=Jt[r];!h||h.target!=t||h._killed||!o&&h._propType!=i||(h.kill(e),n=!0)}return n},t.getTween=function(t,e){if(null==t)return null;for(var i=ee,n=!e,s=0;s<i;s++){var o=Jt[s];if(o&&o.target==t&&!o._killed&&(n||o._propType==e))return o}return null},t.update=function(t){for(var e=Jt,i=ee,n=-1,s=0;s<i;s++){var o=e[s];null==o?-1==n&&(n=s):o._killed?(o._reset(),te.returns(o),e[s]=null,-1==n&&(n=s)):(o._target&&"isDisposed"in o._target&&o._target.isDisposed?o._killed=!0:o._paused||o._update(t),-1!=n&&(e[n]=o,e[s]=null,n++))}if(n>=0){if(ee!=i){var r=i;for(i=ee-i,s=0;s<i;s++)e[n++]=e[r++]}ee=n}return!1},t}(),Jt=new Array,te=new Gt(qt,(function(t){return t._init()}),(function(t){return t._reset()})),ee=0,ie=t("GTween",function(){function t(){}return t.to=function(t,e,i){return $t.createTween()._to(t,e,i)},t.to2=function(t,e,i,n,s){return $t.createTween()._to2(t,e,i,n,s)},t.to3=function(t,e,i,n,s,o,r){return $t.createTween()._to3(t,e,i,n,s,o,r)},t.to4=function(t,e,i,n,s,o,r,h,a){return $t.createTween()._to4(t,e,i,n,s,o,r,h,a)},t.toColor=function(t,e,i){return $t.createTween()._toColor(t,e,i)},t.delayedCall=function(t){return $t.createTween().setDelay(t)},t.shake=function(t,e,i,n){return $t.createTween()._shake(t,e,i,n)},t.isTweening=function(t,e){return $t.isTweening(t,e)},t.kill=function(t,e,i){$t.killTweens(t,e,i)},t.getTween=function(t,e){return $t.getTween(t,e)},t}());ie.catchCallbackExceptions=!0;var ne=t("GearLook",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.init=function(){this._default={alpha:this._owner.alpha,rotation:this._owner.rotation,grayed:this._owner.grayed,touchable:this._owner.touchable},this._storage={}},n.addStatus=function(t,e){var i;t?(i={},this._storage[t]=i):i=this._default,i.alpha=e.readFloat(),i.rotation=e.readFloat(),i.grayed=e.readBool(),i.touchable=e.readBool()},n.apply=function(){var t=this._storage[this._controller.selectedPageId]||this._default;if(this.allowTween){if(this._owner._gearLocked=!0,this._owner.grayed=t.grayed,this._owner.touchable=t.touchable,this._owner._gearLocked=!1,this._tweenConfig._tweener){if(this._tweenConfig._tweener.endValue.x==t.alpha&&this._tweenConfig._tweener.endValue.y==t.rotation)return;this._tweenConfig._tweener.kill(!0),this._tweenConfig._tweener=null}var e=t.alpha!=this._owner.alpha,i=t.rotation!=this._owner.rotation;(e||i)&&(this._owner.checkGearController(0,this._controller)&&(this._tweenConfig._displayLockToken=this._owner.addDisplayLock()),this._tweenConfig._tweener=ie.to2(this._owner.alpha,this._owner.rotation,t.alpha,t.rotation,this._tweenConfig.duration).setDelay(this._tweenConfig.delay).setEase(this._tweenConfig.easeType).setUserData((e?1:0)+(i?2:0)).setTarget(this).onUpdate(this.__tweenUpdate,this).onComplete(this.__tweenComplete,this))}else this._owner._gearLocked=!0,this._owner.grayed=t.grayed,this._owner.alpha=t.alpha,this._owner.rotation=t.rotation,this._owner.touchable=t.touchable,this._owner._gearLocked=!1},n.__tweenUpdate=function(t){var e=t.userData;this._owner._gearLocked=!0,0!=(1&e)&&(this._owner.alpha=t.value.x),0!=(2&e)&&(this._owner.rotation=t.value.y),this._owner._gearLocked=!1},n.__tweenComplete=function(){0!=this._tweenConfig._displayLockToken&&(this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken),this._tweenConfig._displayLockToken=0),this._tweenConfig._tweener=null},n.updateState=function(){var t=this._storage[this._controller.selectedPageId];t||(t={},this._storage[this._controller.selectedPageId]=t),t.alpha=this._owner.alpha,t.rotation=this._owner.rotation,t.grayed=this._owner.grayed,t.touchable=this._owner.touchable},i}(Mt)),se=t("GearSize",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.init=function(){this._default={width:this._owner.width,height:this._owner.height,scaleX:this._owner.scaleX,scaleY:this._owner.scaleY},this._storage={}},n.addStatus=function(t,e){var i;t?(i={},this._storage[t]=i):i=this._default,i.width=e.readInt(),i.height=e.readInt(),i.scaleX=e.readFloat(),i.scaleY=e.readFloat()},n.apply=function(){var t=this._storage[this._controller.selectedPageId]||this._default;if(this.allowTween){if(this._tweenConfig._tweener){if(this._tweenConfig._tweener.endValue.x==t.width&&this._tweenConfig._tweener.endValue.y==t.height&&this._tweenConfig._tweener.endValue.z==t.scaleX&&this._tweenConfig._tweener.endValue.w==t.scaleY)return;this._tweenConfig._tweener.kill(!0),this._tweenConfig._tweener=null}var e=t.width!=this._owner.width||t.height!=this._owner.height,i=t.scaleX!=this._owner.scaleX||t.scaleY!=this._owner.scaleY;(e||i)&&(this._owner.checkGearController(0,this._controller)&&(this._tweenConfig._displayLockToken=this._owner.addDisplayLock()),this._tweenConfig._tweener=ie.to4(this._owner.width,this._owner.height,this._owner.scaleX,this._owner.scaleY,t.width,t.height,t.scaleX,t.scaleY,this._tweenConfig.duration).setDelay(this._tweenConfig.delay).setEase(this._tweenConfig.easeType).setUserData((e?1:0)+(i?2:0)).setTarget(this).onUpdate(this.__tweenUpdate,this).onComplete(this.__tweenComplete,this))}else this._owner._gearLocked=!0,this._owner.setSize(t.width,t.height,this._owner.checkGearController(1,this._controller)),this._owner.setScale(t.scaleX,t.scaleY),this._owner._gearLocked=!1},n.__tweenUpdate=function(t){var e=t.userData;this._owner._gearLocked=!0,0!=(1&e)&&this._owner.setSize(t.value.x,t.value.y,this._owner.checkGearController(1,this._controller)),0!=(2&e)&&this._owner.setScale(t.value.z,t.value.w),this._owner._gearLocked=!1},n.__tweenComplete=function(){0!=this._tweenConfig._displayLockToken&&(this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken),this._tweenConfig._displayLockToken=0),this._tweenConfig._tweener=null},n.updateState=function(){var t=this._storage[this._controller.selectedPageId];t||(t={},this._storage[this._controller.selectedPageId]=t),t.width=this._owner.width,t.height=this._owner.height,t.scaleX=this._owner.scaleX,t.scaleY=this._owner.scaleY},n.updateFromRelations=function(t,e){if(null!=this._controller&&null!=this._storage){for(var i in this._storage){var n=this._storage[i];n.width+=t,n.height+=e}this._default.width+=t,this._default.height+=e,this.updateState()}},i}(Mt)),oe=t("GearText",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.init=function(){this._default=this._owner.text,this._storage={}},n.addStatus=function(t,e){null==t?this._default=e.readS():this._storage[t]=e.readS()},n.apply=function(){this._owner._gearLocked=!0;var t=this._storage[this._controller.selectedPageId];this._owner.text=void 0!==t?t:this._default,this._owner._gearLocked=!1},n.updateState=function(){this._storage[this._controller.selectedPageId]=this._owner.text},i}(Mt)),re=t("GearXY",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.init=function(){this._default={x:this._owner.x,y:this._owner.y,px:this._owner.x/this._owner.parent.width,py:this._owner.y/this._owner.parent.height},this._storage={}},n.addStatus=function(t,e){var i;t?(i={},this._storage[t]=i):i=this._default,i.x=e.readInt(),i.y=e.readInt()},n.addExtStatus=function(t,e){var i;(i=t?this._storage[t]:this._default).px=e.readFloat(),i.py=e.readFloat()},n.apply=function(){var t,e,i=this._storage[this._controller.selectedPageId]||this._default;if(this.positionsInPercent&&this._owner.parent?(t=i.px*this._owner.parent.width,e=i.py*this._owner.parent.height):(t=i.x,e=i.y),this.allowTween){if(this._tweenConfig._tweener){if(this._tweenConfig._tweener.endValue.x==t&&this._tweenConfig._tweener.endValue.y==e)return;this._tweenConfig._tweener.kill(!0),this._tweenConfig._tweener=null}var n=this._owner.x,s=this._owner.y;n==t&&s==e||(this._owner.checkGearController(0,this._controller)&&(this._tweenConfig._displayLockToken=this._owner.addDisplayLock()),this._tweenConfig._tweener=ie.to2(n,s,t,e,this._tweenConfig.duration).setDelay(this._tweenConfig.delay).setEase(this._tweenConfig.easeType).setTarget(this).onUpdate(this.__tweenUpdate,this).onComplete(this.__tweenComplete,this))}else this._owner._gearLocked=!0,this._owner.setPosition(t,e),this._owner._gearLocked=!1},n.__tweenUpdate=function(t){this._owner._gearLocked=!0,this._owner.setPosition(t.value.x,t.value.y),this._owner._gearLocked=!1},n.__tweenComplete=function(){0!=this._tweenConfig._displayLockToken&&(this._owner.releaseDisplayLock(this._tweenConfig._displayLockToken),this._tweenConfig._displayLockToken=0),this._tweenConfig._tweener=null},n.updateState=function(){var t=this._storage[this._controller.selectedPageId];t||(t={},this._storage[this._controller.selectedPageId]=t),t.x=this._owner.x,t.y=this._owner.y,t.px=this._owner.x/this._owner.parent.width,t.py=this._owner.y/this._owner.parent.height},n.updateFromRelations=function(t,e){if(null!=this._controller&&null!=this._storage&&!this.positionsInPercent){for(var i in this._storage){var n=this._storage[i];n.x+=t,n.y+=e}this._default.x+=t,this._default.y+=e,this.updateState()}},i}(Mt)),he=function(){function t(t){this._owner=t,this._defs=new Array}var e=t.prototype;return e.add=function(t,e){if(t==Ct.Size)return this.add(Ct.Width,e),void this.add(Ct.Height,e);for(var i=this._defs.length,n=0;n<i;n++)if(this._defs[n].type==t)return;this.internalAdd(t,e)},e.internalAdd=function(t,e){if(t==Ct.Size)return this.internalAdd(Ct.Width,e),void this.internalAdd(Ct.Height,e);var i=new ae;i.percent=e,i.type=t,i.axis=t<=Ct.Right_Right||t==Ct.Width||t>=Ct.LeftExt_Left&&t<=Ct.RightExt_Right?0:1,this._defs.push(i)},e.remove=function(t){if(t==Ct.Size)return this.remove(Ct.Width),void this.remove(Ct.Height);for(var e=this._defs.length,i=0;i<e;i++)if(this._defs[i].type==t){this._defs.splice(i,1);break}},e.copyFrom=function(t){this.target=t.target,this._defs.length=0;for(var e=t._defs.length,i=0;i<e;i++){var n=t._defs[i],s=new ae;s.copyFrom(n),this._defs.push(s)}},e.dispose=function(){this._target&&(this.releaseRefTarget(this._target),this._target=null)},e.applyOnSelfResized=function(t,e,i){for(var n=this._owner.x,s=this._owner.y,o=this._defs.length,r=0;r<o;r++)switch(this._defs[r].type){case Ct.Center_Center:this._owner.x-=(.5-(i?this._owner.pivotX:0))*t;break;case Ct.Right_Center:case Ct.Right_Left:case Ct.Right_Right:this._owner.x-=(1-(i?this._owner.pivotX:0))*t;break;case Ct.Middle_Middle:this._owner.y-=(.5-(i?this._owner.pivotY:0))*e;break;case Ct.Bottom_Middle:case Ct.Bottom_Top:case Ct.Bottom_Bottom:this._owner.y-=(1-(i?this._owner.pivotY:0))*e}if((n!=this._owner.x||s!=this._owner.y)&&(n=this._owner.x-n,s=this._owner.y-s,this._owner.updateGearFromRelations(1,n,s),this._owner.parent)){var h=this._owner.parent._transitions.length;if(h>0)for(r=0;r<h;++r)this._owner.parent._transitions[r].updateFromRelations(this._owner.id,n,s)}},e.applyOnXYChanged=function(t,e,i){var n;switch(t.type){case Ct.Left_Left:case Ct.Left_Center:case Ct.Left_Right:case Ct.Center_Center:case Ct.Right_Left:case Ct.Right_Center:case Ct.Right_Right:this._owner.x+=e;break;case Ct.Top_Top:case Ct.Top_Middle:case Ct.Top_Bottom:case Ct.Middle_Middle:case Ct.Bottom_Top:case Ct.Bottom_Middle:case Ct.Bottom_Bottom:this._owner.y+=i;break;case Ct.Width:case Ct.Height:break;case Ct.LeftExt_Left:case Ct.LeftExt_Right:this._owner!=this._target.parent?(n=this._owner.xMin,this._owner.width=this._owner._rawWidth-e,this._owner.xMin=n+e):this._owner.width=this._owner._rawWidth-e;break;case Ct.RightExt_Left:case Ct.RightExt_Right:this._owner!=this._target.parent?(n=this._owner.xMin,this._owner.width=this._owner._rawWidth+e,this._owner.xMin=n):this._owner.width=this._owner._rawWidth+e;break;case Ct.TopExt_Top:case Ct.TopExt_Bottom:this._owner!=this._target.parent?(n=this._owner.yMin,this._owner.height=this._owner._rawHeight-i,this._owner.yMin=n+i):this._owner.height=this._owner._rawHeight-i;break;case Ct.BottomExt_Top:case Ct.BottomExt_Bottom:this._owner!=this._target.parent?(n=this._owner.yMin,this._owner.height=this._owner._rawHeight+i,this._owner.yMin=n):this._owner.height=this._owner._rawHeight+i}},e.applyOnSizeChanged=function(t){var e,i,n=0,s=0,o=0;switch(0==t.axis?(this._target!=this._owner.parent&&(n=this._target.x,this._target.pivotAsAnchor&&(s=this._target.pivotX)),t.percent?0!=this._targetWidth&&(o=this._target._width/this._targetWidth):o=this._target._width-this._targetWidth):(this._target!=this._owner.parent&&(n=this._target.y,this._target.pivotAsAnchor&&(s=this._target.pivotY)),t.percent?0!=this._targetHeight&&(o=this._target._height/this._targetHeight):o=this._target._height-this._targetHeight),t.type){case Ct.Left_Left:t.percent?this._owner.xMin=n+(this._owner.xMin-n)*o:0!=s&&(this._owner.x+=o*-s);break;case Ct.Left_Center:t.percent?this._owner.xMin=n+(this._owner.xMin-n)*o:this._owner.x+=o*(.5-s);break;case Ct.Left_Right:t.percent?this._owner.xMin=n+(this._owner.xMin-n)*o:this._owner.x+=o*(1-s);break;case Ct.Center_Center:t.percent?this._owner.xMin=n+(this._owner.xMin+.5*this._owner._rawWidth-n)*o-.5*this._owner._rawWidth:this._owner.x+=o*(.5-s);break;case Ct.Right_Left:t.percent?this._owner.xMin=n+(this._owner.xMin+this._owner._rawWidth-n)*o-this._owner._rawWidth:0!=s&&(this._owner.x+=o*-s);break;case Ct.Right_Center:t.percent?this._owner.xMin=n+(this._owner.xMin+this._owner._rawWidth-n)*o-this._owner._rawWidth:this._owner.x+=o*(.5-s);break;case Ct.Right_Right:t.percent?this._owner.xMin=n+(this._owner.xMin+this._owner._rawWidth-n)*o-this._owner._rawWidth:this._owner.x+=o*(1-s);break;case Ct.Top_Top:t.percent?this._owner.yMin=n+(this._owner.yMin-n)*o:0!=s&&(this._owner.y+=o*-s);break;case Ct.Top_Middle:t.percent?this._owner.yMin=n+(this._owner.yMin-n)*o:this._owner.y+=o*(.5-s);break;case Ct.Top_Bottom:t.percent?this._owner.yMin=n+(this._owner.yMin-n)*o:this._owner.y+=o*(1-s);break;case Ct.Middle_Middle:t.percent?this._owner.yMin=n+(this._owner.yMin+.5*this._owner._rawHeight-n)*o-.5*this._owner._rawHeight:this._owner.y+=o*(.5-s);break;case Ct.Bottom_Top:t.percent?this._owner.yMin=n+(this._owner.yMin+this._owner._rawHeight-n)*o-this._owner._rawHeight:0!=s&&(this._owner.y+=o*-s);break;case Ct.Bottom_Middle:t.percent?this._owner.yMin=n+(this._owner.yMin+this._owner._rawHeight-n)*o-this._owner._rawHeight:this._owner.y+=o*(.5-s);break;case Ct.Bottom_Bottom:t.percent?this._owner.yMin=n+(this._owner.yMin+this._owner._rawHeight-n)*o-this._owner._rawHeight:this._owner.y+=o*(1-s);break;case Ct.Width:e=this._owner._underConstruct&&this._owner==this._target.parent?this._owner.sourceWidth-this._target.initWidth:this._owner._rawWidth-this._targetWidth,t.percent&&(e*=o),this._target==this._owner.parent?this._owner.pivotAsAnchor?(i=this._owner.xMin,this._owner.setSize(this._target._width+e,this._owner._rawHeight,!0),this._owner.xMin=i):this._owner.setSize(this._target._width+e,this._owner._rawHeight,!0):this._owner.width=this._target._width+e;break;case Ct.Height:e=this._owner._underConstruct&&this._owner==this._target.parent?this._owner.sourceHeight-this._target.initHeight:this._owner._rawHeight-this._targetHeight,t.percent&&(e*=o),this._target==this._owner.parent?this._owner.pivotAsAnchor?(i=this._owner.yMin,this._owner.setSize(this._owner._rawWidth,this._target._height+e,!0),this._owner.yMin=i):this._owner.setSize(this._owner._rawWidth,this._target._height+e,!0):this._owner.height=this._target._height+e;break;case Ct.LeftExt_Left:i=this._owner.xMin,e=t.percent?n+(i-n)*o-i:o*-s,this._owner.width=this._owner._rawWidth-e,this._owner.xMin=i+e;break;case Ct.LeftExt_Right:i=this._owner.xMin,e=t.percent?n+(i-n)*o-i:o*(1-s),this._owner.width=this._owner._rawWidth-e,this._owner.xMin=i+e;break;case Ct.RightExt_Left:i=this._owner.xMin,e=t.percent?n+(i+this._owner._rawWidth-n)*o-(i+this._owner._rawWidth):o*-s,this._owner.width=this._owner._rawWidth+e,this._owner.xMin=i;break;case Ct.RightExt_Right:i=this._owner.xMin,t.percent?this._owner==this._target.parent?this._owner._underConstruct?this._owner.width=n+this._target._width-this._target._width*s+(this._owner.sourceWidth-n-this._target.initWidth+this._target.initWidth*s)*o:this._owner.width=n+(this._owner._rawWidth-n)*o:(e=n+(i+this._owner._rawWidth-n)*o-(i+this._owner._rawWidth),this._owner.width=this._owner._rawWidth+e,this._owner.xMin=i):this._owner==this._target.parent?this._owner._underConstruct?this._owner.width=this._owner.sourceWidth+(this._target._width-this._target.initWidth)*(1-s):this._owner.width=this._owner._rawWidth+o*(1-s):(e=o*(1-s),this._owner.width=this._owner._rawWidth+e,this._owner.xMin=i);break;case Ct.TopExt_Top:i=this._owner.yMin,e=t.percent?n+(i-n)*o-i:o*-s,this._owner.height=this._owner._rawHeight-e,this._owner.yMin=i+e;break;case Ct.TopExt_Bottom:i=this._owner.yMin,e=t.percent?n+(i-n)*o-i:o*(1-s),this._owner.height=this._owner._rawHeight-e,this._owner.yMin=i+e;break;case Ct.BottomExt_Top:i=this._owner.yMin,e=t.percent?n+(i+this._owner._rawHeight-n)*o-(i+this._owner._rawHeight):o*-s,this._owner.height=this._owner._rawHeight+e,this._owner.yMin=i;break;case Ct.BottomExt_Bottom:i=this._owner.yMin,t.percent?this._owner==this._target.parent?this._owner._underConstruct?this._owner.height=n+this._target._height-this._target._height*s+(this._owner.sourceHeight-n-this._target.initHeight+this._target.initHeight*s)*o:this._owner.height=n+(this._owner._rawHeight-n)*o:(e=n+(i+this._owner._rawHeight-n)*o-(i+this._owner._rawHeight),this._owner.height=this._owner._rawHeight+e,this._owner.yMin=i):this._owner==this._target.parent?this._owner._underConstruct?this._owner.height=this._owner.sourceHeight+(this._target._height-this._target.initHeight)*(1-s):this._owner.height=this._owner._rawHeight+o*(1-s):(e=o*(1-s),this._owner.height=this._owner._rawHeight+e,this._owner.yMin=i)}},e.addRefTarget=function(t){t!=this._owner.parent&&t.on(Bt.XY_CHANGED,this.__targetXYChanged,this),t.on(Bt.SIZE_CHANGED,this.__targetSizeChanged,this),t.on(Bt.SIZE_DELAY_CHANGE,this.__targetSizeWillChange,this),this._targetX=this._target.x,this._targetY=this._target.y,this._targetWidth=this._target._width,this._targetHeight=this._target._height},e.releaseRefTarget=function(t){t.node&&(t.off(Bt.XY_CHANGED,this.__targetXYChanged,this),t.off(Bt.SIZE_CHANGED,this.__targetSizeChanged,this),t.off(Bt.SIZE_DELAY_CHANGE,this.__targetSizeWillChange,this))},e.__targetXYChanged=function(t){if(null!=this._owner.relations.handling||null!=this._owner.group&&this._owner.group._updating)return this._targetX=this._target.x,void(this._targetY=this._target.y);this._owner.relations.handling=this._target;for(var e=this._owner.x,i=this._owner.y,n=this._target.x-this._targetX,s=this._target.y-this._targetY,o=this._defs.length,r=0;r<o;r++){var h=this._defs[r];this.applyOnXYChanged(h,n,s)}if(this._targetX=this._target.x,this._targetY=this._target.y,(e!=this._owner.x||i!=this._owner.y)&&(e=this._owner.x-e,i=this._owner.y-i,this._owner.updateGearFromRelations(1,e,i),this._owner.parent)){var a=this._owner.parent._transitions.length;if(a>0)for(r=0;r<a;++r)this._owner.parent._transitions[r].updateFromRelations(this._owner.id,e,i)}this._owner.relations.handling=null},e.__targetSizeChanged=function(t){if(null==this._owner.relations.handling){this._owner.relations.handling=this._target;for(var e=this._owner.x,i=this._owner.y,n=this._owner._rawWidth,s=this._owner._rawHeight,o=this._defs.length,r=0;r<o;r++){var h=this._defs[r];this.applyOnSizeChanged(h)}if(this._targetWidth=this._target._width,this._targetHeight=this._target._height,(e!=this._owner.x||i!=this._owner.y)&&(e=this._owner.x-e,i=this._owner.y-i,this._owner.updateGearFromRelations(1,e,i),this._owner.parent)){var a=this._owner.parent._transitions.length;if(a>0)for(r=0;r<a;++r)this._owner.parent._transitions[r].updateFromRelations(this._owner.id,e,i)}n==this._owner._rawWidth&&s==this._owner._rawHeight||(n=this._owner._rawWidth-n,s=this._owner._rawHeight-s,this._owner.updateGearFromRelations(2,n,s)),this._owner.relations.handling=null}},e.__targetSizeWillChange=function(t){this._owner.relations.sizeDirty=!0},i(t,[{key:"owner",get:function(){return this._owner}},{key:"target",get:function(){return this._target},set:function(t){this._target!=t&&(this._target&&this.releaseRefTarget(this._target),this._target=t,this._target&&this.addRefTarget(this._target))}},{key:"isEmpty",get:function(){return 0==this._defs.length}}]),t}(),ae=function(){function t(){this.percent=!1,this.type=0,this.axis=0}return t.prototype.copyFrom=function(t){this.percent=t.percent,this.type=t.type,this.axis=t.axis},t}(),le=function(){function t(t){this.sizeDirty=!1,this._owner=t,this._items=new Array}var e=t.prototype;return e.add=function(t,e,i){for(var n=this._items.length,s=0;s<n;s++){var o=this._items[s];if(o.target==t)return void o.add(e,i)}var r=new he(this._owner);r.target=t,r.add(e,i),this._items.push(r)},e.remove=function(t,e){e=e||0;for(var i=this._items.length,n=0;n<i;){var s=this._items[n];s.target==t?(s.remove(e),s.isEmpty?(s.dispose(),this._items.splice(n,1),i--):n++):n++}},e.contains=function(t){for(var e=this._items.length,i=0;i<e;i++)if(this._items[i].target==t)return!0;return!1},e.clearFor=function(t){for(var e=this._items.length,i=0;i<e;){var n=this._items[i];n.target==t?(n.dispose(),this._items.splice(i,1),e--):i++}},e.clearAll=function(){for(var t=this._items.length,e=0;e<t;e++)this._items[e].dispose();this._items.length=0},e.copyFrom=function(t){this.clearAll();for(var e=t._items,i=e.length,n=0;n<i;n++){var s=e[n],o=new he(this._owner);o.copyFrom(s),this._items.push(o)}},e.dispose=function(){this.clearAll()},e.onOwnerSizeChanged=function(t,e,i){if(0!=this._items.length)for(var n=this._items.length,s=0;s<n;s++)this._items[s].applyOnSelfResized(t,e,i)},e.ensureRelationsSizeCorrect=function(){if(0!=this._items.length){this.sizeDirty=!1;for(var t=this._items.length,e=0;e<t;e++)this._items[e].target.ensureSizeCorrect()}},e.setup=function(t,e){for(var i,n=t.readByte(),s=0;s<n;s++){var o=t.readShort();i=-1==o?this._owner.parent:e?this._owner.getChildAt(o):this._owner.parent.getChildAt(o);var r=new he(this._owner);r.target=i,this._items.push(r);for(var h=t.readByte(),a=0;a<h;a++){var l=t.readByte(),_=t.readBool();r.internalAdd(l,_)}}},i(t,[{key:"empty",get:function(){return 0==this._items.length}}]),t}(),_e=t("UIConfig",(function(){}));_e.defaultFont="Arial",_e.modalLayerColor=new a(51,51,51,51),_e.buttonSoundVolumeScale=1,_e.defaultScrollStep=25,_e.defaultScrollDecelerationRate=.967,_e.defaultScrollBarDisplay=gt.Visible,_e.defaultScrollTouchEffect=!0,_e.defaultScrollBounceEffect=!0,_e.defaultComboBoxVisibleItemCount=10,_e.touchScrollSensitivity=20,_e.touchDragSensitivity=10,_e.clickDragSensitivity=2,_e.bringWindowToFrontOnClick=!0,_e.frameTimeForAsyncUIConstruction=.002,_e.linkUnderline=!0,_e.defaultUILayer=l.Enum.UI_2D,_e.enableDelayLoad=!0,_e.autoReleaseAssets=!1;var ce={};var de=t("GObject",function(){function t(){this._x=0,this._y=0,this._alpha=1,this._visible=!0,this._touchable=!0,this._skewX=0,this._skewY=0,this._sortingOrder=0,this._internalVisible=!0,this.sourceWidth=0,this.sourceHeight=0,this.initWidth=0,this.initHeight=0,this.minWidth=0,this.minHeight=0,this.maxWidth=0,this.maxHeight=0,this._width=0,this._height=0,this._rawWidth=0,this._rawHeight=0,this._underConstruct=!1,this._sizePercentInGroup=0,this._node=new z,this._uiTrans=this._node.addComponent(A),this._uiOpacity=this.node.addComponent(W),this._node.$gobj=this,this._node.layer=_e.defaultUILayer,this._uiTrans.setAnchorPoint(0,1),this._node.on(z.EventType.ANCHOR_CHANGED,this.handleAnchorChanged,this),this._id=this._node.uuid,this._name="",this._relations=new le(this),this._gears=new Array(10),this._blendMode=It.Normal,this._partner=this._node.addComponent(ue)}var e=t.prototype;return e.setPosition=function(e,i){if(this._x!=e||this._y!=i){var n=e-this._x,s=i-this._y;this._x=e,this._y=i,this.handlePositionChanged(),this instanceof be&&this.moveChildren(n,s),this.updateGear(1),this._parent&&!("setVirtual"in this._parent)&&(this._parent.setBoundsChangedFlag(),this._group&&this._group.setBoundsChangedFlag(!0),this._node.emit(Bt.XY_CHANGED,this)),t.draggingObject!=this||ge||this.localToGlobalRect(0,0,this._width,this._height,Ce)}},e.center=function(t){var e;e=this._parent?this.parent:Se.GRoot.inst,this.setPosition((e.width-this._width)/2,(e.height-this._height)/2),t&&(this.addRelation(e,Ct.Center_Center),this.addRelation(e,Ct.Middle_Middle))},e.setSize=function(t,e,i){if(this._rawWidth!=t||this._rawHeight!=e){this._rawWidth=t,this._rawHeight=e,t<this.minWidth&&(t=this.minWidth),e<this.minHeight&&(e=this.minHeight),this.maxWidth>0&&t>this.maxWidth&&(t=this.maxWidth),this.maxHeight>0&&e>this.maxHeight&&(e=this.maxHeight);var n=t-this._width,s=e-this._height;this._width=t,this._height=e,this.handleSizeChanged(),0==this._uiTrans.anchorX&&1==this._uiTrans.anchorY||this._pivotAsAnchor||i?this.handlePositionChanged():this.setPosition(this.x-this._uiTrans.anchorX*n,this.y-(1-this._uiTrans.anchorY)*s),this instanceof be&&this.resizeChildren(n,s),this.updateGear(2),this._parent&&(this._relations.onOwnerSizeChanged(n,s,this._pivotAsAnchor||!i),this._parent.setBoundsChangedFlag(),this._group&&this._group.setBoundsChangedFlag()),this._node.emit(Bt.SIZE_CHANGED,this)}},e.makeFullScreen=function(){this.setSize(Se.GRoot.inst.width,Se.GRoot.inst.height)},e.ensureSizeCorrect=function(){},e.setScale=function(t,e){this._node.scale.x==t&&this._node.scale.y==e||(this._node.setScale(t,e),this.updateGear(2))},e.setPivot=function(t,e,i){this._uiTrans.anchorX!=t||this._uiTrans.anchorY!=1-e?(this._pivotAsAnchor=i,this._uiTrans.setAnchorPoint(t,1-e)):this._pivotAsAnchor!=i&&(this._pivotAsAnchor=i,this.handlePositionChanged())},e.requestFocus=function(){},e.getGear=function(t){var e=this._gears[t];return e||(this._gears[t]=e=function(t,e){var i=new fe[e];return i._owner=t,i}(this,t)),e},e.updateGear=function(t){if(!this._underConstruct&&!this._gearLocked){var e=this._gears[t];e&&e.controller&&e.updateState()}},e.checkGearController=function(t,e){return this._gears[t]&&this._gears[t].controller==e},e.updateGearFromRelations=function(t,e,i){this._gears[t]&&this._gears[t].updateFromRelations(e,i)},e.addDisplayLock=function(){var t=this._gears[0];if(t&&t.controller){var e=t.addLock();return this.checkGearDisplay(),e}return 0},e.releaseDisplayLock=function(t){var e=this._gears[0];e&&e.controller&&(e.releaseLock(t),this.checkGearDisplay())},e.checkGearDisplay=function(){if(!this._handlingController){var t=null==this._gears[0]||this._gears[0].connected;this._gears[8]&&(t=this._gears[8].evaluate(t)),t!=this._internalVisible&&(this._internalVisible=t,this.handleVisibleChanged(),this._group&&this._group.excludeInvisibles&&this._group.setBoundsChangedFlag())}},e.addRelation=function(t,e,i){this._relations.add(t,e,i)},e.removeRelation=function(t,e){this._relations.remove(t,e)},e.removeFromParent=function(){this._parent&&this._parent.removeChild(this)},e.findParent=function(){if(this._parent)return this._parent;for(var t=this._node.parent;t;){var e=t.$gobj;if(e)return e;t=t.parent}return null},t.cast=function(t){return t.$gobj},e.dispose=function(){var t=this._node;if(t){this.removeFromParent(),this._relations.dispose(),this._node=null,t.destroy();for(var e=0;e<10;e++){var i=this._gears[e];i&&i.dispose()}}},e.onEnable=function(){},e.onDisable=function(){},e.onUpdate=function(){},e.onDestroy=function(){},e.onClick=function(t,e){this._node.on(Bt.CLICK,t,e)},e.onceClick=function(t,e){this._node.once(Bt.CLICK,t,e)},e.offClick=function(t,e){this._node.off(Bt.CLICK,t,e)},e.clearClick=function(){this._node.off(Bt.CLICK)},e.hasClickListener=function(){return this._node.hasEventListener(Bt.CLICK)},e.on=function(t,e,i){t!=Bt.DISPLAY&&t!=Bt.UNDISPLAY||(this._partner._emitDisplayEvents=!0),this._node.on(t,e,i)},e.once=function(t,e,i){t!=Bt.DISPLAY&&t!=Bt.UNDISPLAY||(this._partner._emitDisplayEvents=!0),this._node.once(t,e,i)},e.off=function(t,e,i){this._node.off(t,e,i)},e.startDrag=function(t){this._node.activeInHierarchy&&this.dragBegin(t)},e.stopDrag=function(){this.dragEnd()},e.localToGlobal=function(t,e,i){return t=t||0,e=e||0,ye.x=t,ye.y=-e,this._pivotAsAnchor||(ye.x-=this._uiTrans.anchorX*this._width,ye.y+=(1-this._uiTrans.anchorY)*this._height),this._uiTrans.convertToWorldSpaceAR(ye,ye),ye.y=Se.GRoot.inst.height-ye.y,(i=i||new h).x=ye.x,i.y=ye.y,i},e.globalToLocal=function(t,e,i){return t=t||0,e=e||0,ye.x=t,ye.y=Se.GRoot.inst.height-e,this._uiTrans.convertToNodeSpaceAR(ye,ye),this._pivotAsAnchor||(ye.x+=this._uiTrans.anchorX*this._width,ye.y-=(1-this._uiTrans.anchorY)*this._height),(i=i||new h).x=ye.x,i.y=-ye.y,i},e.localToGlobalRect=function(t,e,i,n,s){t=t||0,e=e||0,i=i||0,n=n||0,s=s||new d;var o=this.localToGlobal(t,e);return s.x=o.x,s.y=o.y,o=this.localToGlobal(t+i,e+n,o),s.xMax=o.x,s.yMax=o.y,s},e.globalToLocalRect=function(t,e,i,n,s){t=t||0,e=e||0,i=i||0,n=n||0,s=s||new d;var o=this.globalToLocal(t,e);return s.x=o.x,s.y=o.y,o=this.globalToLocal(t+i,e+n,o),s.xMax=o.x,s.yMax=o.y,s},e.handleControllerChanged=function(t){this._handlingController=!0;for(var e=0;e<10;e++){var i=this._gears[e];i&&i.controller==t&&i.apply()}this._handlingController=!1,this.checkGearDisplay()},e.handleAnchorChanged=function(){this.handlePositionChanged()},e.handlePositionChanged=function(){var t=this._x,e=-this._y;this._pivotAsAnchor||(t+=this._uiTrans.anchorX*this._width,e-=(1-this._uiTrans.anchorY)*this._height),this._pixelSnapping&&(t=Math.round(t),e=Math.round(e)),this._node.setPosition(t,e)},e.handleSizeChanged=function(){this._uiTrans.setContentSize(this._width,this._height)},e.handleGrayedChanged=function(){},e.handleVisibleChanged=function(){this._node.active=this._finalVisible,this instanceof be&&this.handleVisibleChanged(),this._parent&&this._parent.setBoundsChangedFlag()},e.hitTest=function(t,e){return null==e&&(e=!0),!e||!this._touchDisabled&&this._touchable&&this._node.activeInHierarchy?(this._hitTestPt||(this._hitTestPt=new h),this.globalToLocal(t.x,t.y,this._hitTestPt),this._pivotAsAnchor&&(this._hitTestPt.x+=this._uiTrans.anchorX*this._width,this._hitTestPt.y+=(1-this._uiTrans.anchorY)*this._height),this._hitTest(this._hitTestPt,t)):null},e._hitTest=function(t,e){return t.x>=0&&t.y>=0&&t.x<this._width&&t.y<this._height?this:null},e.getProp=function(t){switch(t){case bt.Text:return this.text;case bt.Icon:return this.icon;case bt.Color:case bt.OutlineColor:return null;case bt.Playing:return!1;case bt.Frame:case bt.DeltaTime:return 0;case bt.TimeScale:return 1;case bt.FontSize:return 0;case bt.Selected:return!1;default:return}},e.setProp=function(t,e){switch(t){case bt.Text:this.text=e;break;case bt.Icon:this.icon=e}},e.constructFromResource=function(){},e.setup_beforeAdd=function(t,e){var i,n;t.seek(e,0),t.skip(5),this._id=t.readS(),this.name=t.readS(),i=t.readInt(),n=t.readInt(),this.setPosition(i,n),t.readBool()&&(this.initWidth=t.readInt(),this.initHeight=t.readInt(),this.setSize(this.initWidth,this.initHeight,!0)),t.readBool()&&(this.minWidth=t.readInt(),this.maxWidth=t.readInt(),this.minHeight=t.readInt(),this.maxHeight=t.readInt()),t.readBool()&&(i=t.readFloat(),n=t.readFloat(),this.setScale(i,n)),t.readBool()&&(i=t.readFloat(),n=t.readFloat()),t.readBool()&&(i=t.readFloat(),n=t.readFloat(),this.setPivot(i,n,t.readBool())),1!=(i=t.readFloat())&&(this.alpha=i),0!=(i=t.readFloat())&&(this.rotation=i),t.readBool()||(this.visible=!1),t.readBool()||(this.touchable=!1),t.readBool()&&(this.grayed=!0),this.blendMode=t.readByte(),t.readByte();var s=t.readS();null!=s&&(this.data=s)},e.setup_afterAdd=function(t,e){t.seek(e,1);var i=t.readS();null!=i&&(this.tooltips=i);var n=t.readShort();n>=0&&(this.group=this.parent.getChildAt(n)),t.seek(e,2);for(var s=t.readShort(),o=0;o<s;o++){var r=t.readShort();r+=t.position,this.getGear(t.readByte()).setup(t),t.position=r}},e.onRollOver=function(){Se.GRoot.inst.showTooltips(this.tooltips)},e.onRollOut=function(){Se.GRoot.inst.hideTooltips()},e.initDrag=function(){this._draggable?(this.on(Bt.TOUCH_BEGIN,this.onTouchBegin_0,this),this.on(Bt.TOUCH_MOVE,this.onTouchMove_0,this),this.on(Bt.TOUCH_END,this.onTouchEnd_0,this)):(this.off(Bt.TOUCH_BEGIN,this.onTouchBegin_0,this),this.off(Bt.TOUCH_MOVE,this.onTouchMove_0,this),this.off(Bt.TOUCH_END,this.onTouchEnd_0,this))},e.dragBegin=function(e){if(t.draggingObject){var i=t.draggingObject;i.stopDrag(),t.draggingObject=null,i._node.emit(Bt.DRAG_END)}null==e&&(e=Se.GRoot.inst.inputProcessor.getAllTouches()[0]),we.set(Se.GRoot.inst.getTouchPosition(e)),this.localToGlobalRect(0,0,this._width,this._height,Ce),t.draggingObject=this,this._dragTesting=!1,Se.GRoot.inst.inputProcessor.addTouchMonitor(e,this),this.on(Bt.TOUCH_MOVE,this.onTouchMove_0,this),this.on(Bt.TOUCH_END,this.onTouchEnd_0,this)},e.dragEnd=function(){t.draggingObject==this&&(this._dragTesting=!1,t.draggingObject=null),pe=!1},e.onTouchBegin_0=function(t){null==this._dragStartPos&&(this._dragStartPos=new h),this._dragStartPos.set(t.pos),this._dragTesting=!0,t.captureTouch()},e.onTouchMove_0=function(e){if(t.draggingObject!=this&&this._draggable&&this._dragTesting){var i=_e.touchDragSensitivity;if(this._dragStartPos&&Math.abs(this._dragStartPos.x-e.pos.x)<i&&Math.abs(this._dragStartPos.y-e.pos.y)<i)return;this._dragTesting=!1,pe=!0,this._node.emit(Bt.DRAG_START,e),pe&&this.dragBegin(e.touchId)}if(t.draggingObject==this){var n=e.pos.x-we.x+Ce.x,s=e.pos.y-we.y+Ce.y;if(this._dragBounds){var o=Se.GRoot.inst.localToGlobalRect(this._dragBounds.x,this._dragBounds.y,this._dragBounds.width,this._dragBounds.height,ve);(n<o.x||n+Ce.width>o.xMax&&(n=o.xMax-Ce.width)<o.x)&&(n=o.x),(s<o.y||s+Ce.height>o.yMax&&(s=o.yMax-Ce.height)<o.y)&&(s=o.y)}ge=!0;var r=this.parent.globalToLocal(n,s,me);this.setPosition(Math.round(r.x),Math.round(r.y)),ge=!1,this._node.emit(Bt.DRAG_MOVE,e)}},e.onTouchEnd_0=function(e){t.draggingObject==this&&(t.draggingObject=null,this._node.emit(Bt.DRAG_END,e))},i(t,[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name},set:function(t){this._name=t,this._node.name=t}},{key:"x",get:function(){return this._x},set:function(t){this.setPosition(t,this._y)}},{key:"y",get:function(){return this._y},set:function(t){this.setPosition(this._x,t)}},{key:"xMin",get:function(){return this._pivotAsAnchor?this._x-this._width*this._uiTrans.anchorX:this._x},set:function(t){this._pivotAsAnchor?this.setPosition(t+this._width*this._uiTrans.anchorX,this._y):this.setPosition(t,this._y)}},{key:"yMin",get:function(){return this._pivotAsAnchor?this._y-this._height*(1-this._uiTrans.anchorY):this._y},set:function(t){this._pivotAsAnchor?this.setPosition(this._x,t+this._height*(1-this._uiTrans.anchorY)):this.setPosition(this._x,t)}},{key:"pixelSnapping",get:function(){return this._pixelSnapping},set:function(t){this._pixelSnapping!=t&&(this._pixelSnapping=t,this.handlePositionChanged())}},{key:"width",get:function(){return this.ensureSizeCorrect(),this._relations.sizeDirty&&this._relations.ensureRelationsSizeCorrect(),this._width},set:function(t){this.setSize(t,this._rawHeight)}},{key:"height",get:function(){return this.ensureSizeCorrect(),this._relations.sizeDirty&&this._relations.ensureRelationsSizeCorrect(),this._height},set:function(t){this.setSize(this._rawWidth,t)}},{key:"actualWidth",get:function(){return this.width*Math.abs(this._node.scale.x)}},{key:"actualHeight",get:function(){return this.height*Math.abs(this._node.scale.y)}},{key:"scaleX",get:function(){return this._node.scale.x},set:function(t){this.setScale(t,this._node.scale.y)}},{key:"scaleY",get:function(){return this._node.scale.y},set:function(t){this.setScale(this._node.scale.x,t)}},{key:"skewX",get:function(){return this._skewX}},{key:"pivotX",get:function(){return this._uiTrans.anchorX},set:function(t){this._uiTrans.anchorX=t}},{key:"pivotY",get:function(){return 1-this._uiTrans.anchorY},set:function(t){this._uiTrans.anchorY=1-t}},{key:"pivotAsAnchor",get:function(){return this._pivotAsAnchor}},{key:"touchable",get:function(){return this._touchable},set:function(t){this._touchable!=t&&(this._touchable=t,this.updateGear(3))}},{key:"grayed",get:function(){return this._grayed},set:function(t){this._grayed!=t&&(this._grayed=t,this.handleGrayedChanged(),this.updateGear(3))}},{key:"enabled",get:function(){return!this._grayed&&this._touchable},set:function(t){this.grayed=!t,this.touchable=t}},{key:"rotation",get:function(){return-this._node.angle},set:function(t){t=-t,this._node.angle!=t&&(this._node.angle=t,this.updateGear(3))}},{key:"alpha",get:function(){return this._alpha},set:function(t){this._alpha!=t&&(this._alpha=t,this._uiOpacity.opacity=255*this._alpha,this instanceof be&&this.handleAlphaChanged(),this.updateGear(3))}},{key:"visible",get:function(){return this._visible},set:function(t){this._visible!=t&&(this._visible=t,this.handleVisibleChanged(),this._group&&this._group.excludeInvisibles&&this._group.setBoundsChangedFlag())}},{key:"_finalVisible",get:function(){return this._visible&&this._internalVisible&&(!this._group||this._group._finalVisible)}},{key:"internalVisible3",get:function(){return this._visible&&this._internalVisible}},{key:"sortingOrder",get:function(){return this._sortingOrder},set:function(t){t<0&&(t=0);var e=this._sortingOrder;this._sortingOrder=t,this._parent&&this._parent.childSortingOrderChanged(this,e,this._sortingOrder)}},{key:"tooltips",get:function(){return this._tooltips},set:function(t){this._tooltips&&(this._node.off(Bt.ROLL_OVER,this.onRollOver,this),this._node.off(Bt.ROLL_OUT,this.onRollOut,this)),this._tooltips=t,this._tooltips&&(this._node.on(Bt.ROLL_OVER,this.onRollOver,this),this._node.on(Bt.ROLL_OUT,this.onRollOut,this))}},{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode!=t&&(this._blendMode=t,Pt.apply(this._node,t))}},{key:"onStage",get:function(){return this._node&&this._node.activeInHierarchy}},{key:"resourceURL",get:function(){return this.packageItem?"ui://"+this.packageItem.owner.id+this.packageItem.id:null}},{key:"group",get:function(){return this._group},set:function(t){this._group!=t&&(this._group&&this._group.setBoundsChangedFlag(),this._group=t,this._group&&this._group.setBoundsChangedFlag())}},{key:"gearXY",get:function(){return this.getGear(1)}},{key:"gearSize",get:function(){return this.getGear(2)}},{key:"gearLook",get:function(){return this.getGear(3)}},{key:"relations",get:function(){return this._relations}},{key:"node",get:function(){return this._node}},{key:"parent",get:function(){return this._parent}},{key:"asCom",get:function(){return this}},{key:"text",get:function(){return null},set:function(t){}},{key:"icon",get:function(){return null},set:function(t){}},{key:"treeNode",get:function(){return this._treeNode}},{key:"isDisposed",get:function(){return null==this._node}},{key:"draggable",get:function(){return this._draggable},set:function(t){this._draggable!=t&&(this._draggable=t,this.initDrag())}},{key:"dragBounds",get:function(){return this._dragBounds},set:function(t){this._dragBounds=t}},{key:"dragging",get:function(){return t.draggingObject==this}}]),t}()),ue=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.callLater=function(t,e){M.getScheduler().isScheduled(t,this)||this.scheduleOnce(t,e)},n.onClickLink=function(t,e){this.node.emit(Bt.LINK,e,t)},n.onEnable=function(){this.node.$gobj.onEnable(),this._emitDisplayEvents&&this.node.emit(Bt.DISPLAY)},n.onDisable=function(){this.node.$gobj.onDisable(),this._emitDisplayEvents&&this.node.emit(Bt.UNDISPLAY)},n.update=function(t){this.node.$gobj.onUpdate(t)},n.onDestroy=function(){this.node.$gobj.onDestroy()},i}(U),fe=[Dt,re,se,ne,Ft,Rt,oe,Nt,Vt,Ht];var ge,pe,me=new h,ye=new u,ve=new d,we=new h,Ce=new d,Se={},xe={n:0},be=t("GGroup",function(t){function n(){var e;return(e=t.call(this)||this)._layout=0,e._lineGap=0,e._columnGap=0,e._mainGridIndex=-1,e._mainGridMinSize=50,e._mainChildIndex=-1,e._totalSize=0,e._numChildren=0,e._updating=0,e._node.name="GGroup",e._touchDisabled=!0,e}e(n,t);var s=n.prototype;return s.dispose=function(){this._boundsChanged=!1,t.prototype.dispose.call(this)},s.setBoundsChangedFlag=function(t){void 0===t&&(t=!1),0==this._updating&&this._parent&&(t||(this._percentReady=!1),this._boundsChanged||(this._boundsChanged=!0,this._layout!=vt.None&&this._partner.callLater(this._ensureBoundsCorrect)))},s._ensureBoundsCorrect=function(){de.cast(this.node).ensureBoundsCorrect()},s.ensureSizeCorrect=function(){null!=this._parent&&this._boundsChanged&&0!=this._layout&&(this._boundsChanged=!1,this._autoSizeDisabled?this.resizeChildren(0,0):(this.handleLayout(),this.updateBounds()))},s.ensureBoundsCorrect=function(){null!=this._parent&&this._boundsChanged&&(this._boundsChanged=!1,0==this._layout?this.updateBounds():this._autoSizeDisabled?this.resizeChildren(0,0):(this.handleLayout(),this.updateBounds()))},s.updateBounds=function(){this._partner.unschedule(this._ensureBoundsCorrect);var t,e,i,n=this._parent.numChildren,s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,a=!0;for(t=0;t<n;t++)(e=this._parent.getChildAt(t)).group!=this||this._excludeInvisibles&&!e.internalVisible3||((i=e.xMin)<s&&(s=i),(i=e.yMin)<o&&(o=i),(i=e.xMin+e.width)>r&&(r=i),(i=e.yMin+e.height)>h&&(h=i),a=!1);var l=0,_=0;a||(this._updating|=1,this.setPosition(s,o),this._updating&=2,l=r-s,_=h-o),0==(2&this._updating)?(this._updating|=2,this.setSize(l,_),this._updating&=1):(this._updating&=1,this.resizeChildren(this._width-l,this._height-_))},s.handleLayout=function(){var t,e,i;if(this._updating|=1,this._layout==vt.Horizontal){var n=this.x;for(i=this._parent.numChildren,e=0;e<i;e++)(t=this._parent.getChildAt(e)).group==this&&(this._excludeInvisibles&&!t.internalVisible3||(t.xMin=n,0!=t.width&&(n+=t.width+this._columnGap)))}else if(this._layout==vt.Vertical){var s=this.y;for(i=this._parent.numChildren,e=0;e<i;e++)(t=this._parent.getChildAt(e)).group==this&&(this._excludeInvisibles&&!t.internalVisible3||(t.yMin=s,0!=t.height&&(s+=t.height+this._lineGap)))}this._updating&=2},s.moveChildren=function(t,e){if(0==(1&this._updating)&&null!=this._parent){this._updating|=1;var i,n,s=this._parent.numChildren;for(i=0;i<s;i++)(n=this._parent.getChildAt(i)).group==this&&n.setPosition(n.x+t,n.y+e);this._updating&=2}},s.resizeChildren=function(t,e){if(this._layout!=vt.None&&0==(2&this._updating)&&null!=this._parent)if(this._updating|=2,!this._boundsChanged||(this._boundsChanged=!1,this._autoSizeDisabled)){var i,n,s=this._parent.numChildren;if(!this._percentReady){this._percentReady=!0,this._numChildren=0,this._totalSize=0,this._mainChildIndex=-1;var o=0;for(i=0;i<s;i++)(n=this._parent.getChildAt(i)).group==this&&(this._excludeInvisibles&&!n.internalVisible3||(o==this._mainGridIndex&&(this._mainChildIndex=i),this._numChildren++,1==this._layout?this._totalSize+=n.width:this._totalSize+=n.height),o++);for(-1!=this._mainChildIndex&&(1==this._layout?(n=this._parent.getChildAt(this._mainChildIndex),this._totalSize+=this._mainGridMinSize-n.width,n._sizePercentInGroup=this._mainGridMinSize/this._totalSize):(n=this._parent.getChildAt(this._mainChildIndex),this._totalSize+=this._mainGridMinSize-n.height,n._sizePercentInGroup=this._mainGridMinSize/this._totalSize)),i=0;i<s;i++)(n=this._parent.getChildAt(i)).group==this&&i!=this._mainChildIndex&&(this._totalSize>0?n._sizePercentInGroup=(1==this._layout?n.width:n.height)/this._totalSize:n._sizePercentInGroup=0)}var r=0,h=1,a=!1;if(1==this._layout){r=this.width-(this._numChildren-1)*this._columnGap,-1!=this._mainChildIndex&&r>=this._totalSize&&((n=this._parent.getChildAt(this._mainChildIndex)).setSize(r-(this._totalSize-this._mainGridMinSize),n._rawHeight+e,!0),r-=n.width,h-=n._sizePercentInGroup,a=!0);var l=this.x;for(i=0;i<s;i++)(n=this._parent.getChildAt(i)).group==this&&(!this._excludeInvisibles||n.internalVisible3?(a&&i==this._mainChildIndex||(n.setSize(Math.round(n._sizePercentInGroup/h*r),n._rawHeight+e,!0),h-=n._sizePercentInGroup,r-=n.width),n.xMin=l,0!=n.width&&(l+=n.width+this._columnGap)):n.setSize(n._rawWidth,n._rawHeight+e,!0))}else{r=this.height-(this._numChildren-1)*this._lineGap,-1!=this._mainChildIndex&&r>=this._totalSize&&((n=this._parent.getChildAt(this._mainChildIndex)).setSize(n._rawWidth+t,r-(this._totalSize-this._mainGridMinSize),!0),r-=n.height,h-=n._sizePercentInGroup,a=!0);var _=this.y;for(i=0;i<s;i++)(n=this._parent.getChildAt(i)).group==this&&(!this._excludeInvisibles||n.internalVisible3?(a&&i==this._mainChildIndex||(n.setSize(n._rawWidth+t,Math.round(n._sizePercentInGroup/h*r),!0),h-=n._sizePercentInGroup,r-=n.height),n.yMin=_,0!=n.height&&(_+=n.height+this._lineGap)):n.setSize(n._rawWidth+t,n._rawHeight,!0))}this._updating&=1}else this.updateBounds()},s.handleAlphaChanged=function(){if(!this._underConstruct)for(var t=this._parent.numChildren,e=0;e<t;e++){var i=this._parent.getChildAt(e);i.group==this&&(i.alpha=this.alpha)}},s.handleVisibleChanged=function(){if(this._parent)for(var t=this._parent.numChildren,e=0;e<t;e++){var i=this._parent.getChildAt(e);i.group==this&&i.handleVisibleChanged()}},s.setup_beforeAdd=function(e,i){t.prototype.setup_beforeAdd.call(this,e,i),e.seek(i,5),this._layout=e.readByte(),this._lineGap=e.readInt(),this._columnGap=e.readInt(),e.version>=2&&(this._excludeInvisibles=e.readBool(),this._autoSizeDisabled=e.readBool(),this._mainGridIndex=e.readShort())},s.setup_afterAdd=function(e,i){t.prototype.setup_afterAdd.call(this,e,i),this.visible||this.handleVisibleChanged()},i(n,[{key:"layout",get:function(){return this._layout},set:function(t){this._layout!=t&&(this._layout=t,this.setBoundsChangedFlag())}},{key:"lineGap",get:function(){return this._lineGap},set:function(t){this._lineGap!=t&&(this._lineGap=t,this.setBoundsChangedFlag(!0))}},{key:"columnGap",get:function(){return this._columnGap},set:function(t){this._columnGap!=t&&(this._columnGap=t,this.setBoundsChangedFlag(!0))}},{key:"excludeInvisibles",get:function(){return this._excludeInvisibles},set:function(t){this._excludeInvisibles!=t&&(this._excludeInvisibles=t,this.setBoundsChangedFlag())}},{key:"autoSizeDisabled",get:function(){return this._autoSizeDisabled},set:function(t){this._autoSizeDisabled=t}},{key:"mainGridMinSize",get:function(){return this._mainGridMinSize},set:function(t){this._mainGridMinSize!=t&&(this._mainGridMinSize=t,this.setBoundsChangedFlag())}},{key:"mainGridIndex",get:function(){return this._mainGridIndex},set:function(t){this._mainGridIndex!=t&&(this._mainGridIndex=t,this.setBoundsChangedFlag())}}]),n}(de)),Ie=t("GGraph",function(t){function n(){var e;return(e=t.call(this)||this)._type=0,e._lineSize=0,e._node.name="GGraph",e._lineSize=1,e._lineColor=new a,e._fillColor=new a(255,255,255,255),e._content=e._node.addComponent(Y),e}e(n,t);var s=n.prototype;return s.drawRect=function(t,e,i,n){this._type=1,this._lineSize=t,this._lineColor.set(e),this._fillColor.set(i),this._cornerRadius=n,this.updateGraph()},s.drawEllipse=function(t,e,i){this._type=2,this._lineSize=t,this._lineColor.set(e),this._fillColor.set(i),this.updateGraph()},s.drawRegularPolygon=function(t,e,i,n,s,o){this._type=4,this._lineSize=t,this._lineColor.set(e),this._fillColor.set(i),this._sides=n,this._startAngle=s||0,this._distances=o,this.updateGraph()},s.drawPolygon=function(t,e,i,n){this._type=3,this._lineSize=t,this._lineColor.set(e),this._fillColor.set(i),this._polygonPoints=n,this.updateGraph()},s.clearGraphics=function(){this._type=0,this._hasContent&&(this._content.clear(),this._hasContent=!1)},s.updateGraph=function(){var t=this._content;this._hasContent&&(this._hasContent=!1,t.clear());var e=this._width,i=this._height;if(0!=e&&0!=i){var n=-this.pivotX*this._width,s=this.pivotY*this._height,o=this._lineSize/2;if(t.lineWidth=this._lineSize,t.strokeColor=this._lineColor,t.fillColor=this._fillColor,1==this._type)this._cornerRadius?t.roundRect(n+o,-i+s+o,e-this._lineSize,i-this._lineSize,this._cornerRadius[0]):t.rect(n+o,-i+s+o,e-this._lineSize,i-this._lineSize);else if(2==this._type)t.ellipse(e/2+n,-i/2+s,e/2-o,i/2-o);else if(3==this._type)this.drawPath(t,this._polygonPoints,n,s);else if(4==this._type){this._polygonPoints||(this._polygonPoints=[]);var r=Math.min(e,i)/2-o;this._polygonPoints.length=0;for(var h,a=f.degreesToRadians(this._startAngle),l=2*Math.PI/this._sides,_=0;_<this._sides;_++){this._distances?(h=this._distances[_],isNaN(h)&&(h=1)):h=1;var c=r+r*h*Math.cos(a),d=r+r*h*Math.sin(a);this._polygonPoints.push(c,d),a+=l}this.drawPath(t,this._polygonPoints,n,s)}0!=o&&t.stroke(),0!=this._fillColor.a&&t.fill(),this._hasContent=!0}},s.drawPath=function(t,e,i,n){var s=e.length;t.moveTo(e[0]+i,-e[1]+n);for(var o=2;o<s;o+=2)t.lineTo(e[o]+i,-e[o+1]+n);t.lineTo(e[0]+i,-e[1]+n)},s.handleSizeChanged=function(){t.prototype.handleSizeChanged.call(this),0!=this._type&&this.updateGraph()},s.handleAnchorChanged=function(){t.prototype.handleAnchorChanged.call(this),0!=this._type&&this.updateGraph()},s.getProp=function(e){return e==bt.Color?this.color:t.prototype.getProp.call(this,e)},s.setProp=function(e,i){e==bt.Color?this.color=i:t.prototype.setProp.call(this,e,i)},s._hitTest=function(t){if(t.x>=0&&t.y>=0&&t.x<this._width&&t.y<this._height){if(3==this._type){var e,i=this._polygonPoints,n=i.length/2,s=n-1,o=!1;for(this._width,this._height,e=0;e<n;++e){var r=i[2*e],h=i[2*e+1],a=i[2*s],l=i[2*s+1];(h<t.y&&l>=t.y||l<t.y&&h>=t.y)&&(r<=t.x||a<=t.x)&&r+(t.y-h)/(l-h)*(a-r)<t.x&&(o=!o),s=e}return o?this:null}return this}return null},s.setup_beforeAdd=function(e,i){if(t.prototype.setup_beforeAdd.call(this,e,i),e.seek(i,5),this._type=e.readByte(),0!=this._type){var n,s;if(this._lineSize=e.readInt(),this._lineColor.set(e.readColor(!0)),this._fillColor.set(e.readColor(!0)),e.readBool())for(this._cornerRadius=new Array(4),n=0;n<4;n++)this._cornerRadius[n]=e.readFloat();if(3==this._type)for(s=e.readShort(),this._polygonPoints=[],this._polygonPoints.length=s,n=0;n<s;n++)this._polygonPoints[n]=e.readFloat();else if(4==this._type&&(this._sides=e.readShort(),this._startAngle=e.readFloat(),(s=e.readShort())>0))for(this._distances=[],n=0;n<s;n++)this._distances[n]=e.readFloat();this.updateGraph()}},i(n,[{key:"distances",get:function(){return this._distances},set:function(t){this._distances=t,3==this._type&&this.updateGraph()}},{key:"type",get:function(){return this._type}},{key:"color",get:function(){return this._fillColor},set:function(t){this._fillColor.set(t),0!=this._type&&this.updateGraph()}}]),n}(de)),ke=t("Image",function(t){function n(){var e;return(e=t.call(this)||this)._flip=mt.None,e._fillMethod=St.None,e._fillOrigin=xt.Left,e._fillAmount=0,e}e(n,t);var s=n.prototype;return s.updateFillType=function(){this.spriteFrame&&(this.type=g.Type.FILLED,this._fillMethod<=3?this.fillType=this._fillMethod-1:this.fillType=g.FillType.RADIAL,this.fillCenter=new h(.5,.5))},s.updateFillRange=function(){this.spriteFrame&&(this._fillClockwise?this.fillRange=-this._fillAmount:this.fillRange=this._fillAmount)},s.__update=function(){0!=this._fillMethod&&(this.updateFillType(),this.setupFill(),this.updateFillRange())},s.setupFill=function(){if(this.spriteFrame)if(this._fillMethod==St.Horizontal)this._fillClockwise=this._fillOrigin==xt.Right||this._fillOrigin==xt.Bottom,this.fillStart=this._fillClockwise?1:0;else if(this._fillMethod==St.Vertical)this._fillClockwise=this._fillOrigin==xt.Left||this._fillOrigin==xt.Top,this.fillStart=this._fillClockwise?1:0;else switch(this._fillOrigin){case xt.Right:this.fillOrigin=0;break;case xt.Top:this.fillStart=.25;break;case xt.Left:this.fillStart=.5;break;case xt.Bottom:this.fillStart=.75}},i(n,[{key:"flip",get:function(){return this._flip},set:function(t){if(this._flip!=t){this._flip=t;var e=1,i=1;this._flip!=mt.Horizontal&&this._flip!=mt.Both||(e=-1),this._flip!=mt.Vertical&&this._flip!=mt.Both||(i=-1),(1!=e||1!=i)&&this.node.getComponent(A).setAnchorPoint(.5,.5),this.node.setScale(e,i)}}},{key:"fillMethod",get:function(){return this._fillMethod},set:function(t){this._fillMethod!=t&&(this._fillMethod=t,0!=this._fillMethod?(this.updateFillType(),this.setupFill()):this.type=g.Type.SIMPLE)}},{key:"fillOrigin",get:function(){return this._fillOrigin},set:function(t){this._fillOrigin!=t&&(this._fillOrigin=t,0!=this._fillMethod&&this.setupFill())}},{key:"fillClockwise",get:function(){return this._fillClockwise},set:function(t){this._fillClockwise!=t&&(this._fillClockwise=t,0!=this._fillMethod&&this.setupFill())}},{key:"fillAmount",get:function(){return this._fillAmount},set:function(t){this._fillAmount!=t&&(this._fillAmount=t,0!=this._fillMethod&&this.updateFillRange())}}]),n}(g)),Pe=t("GImage",function(t){function n(){var e;return(e=t.call(this)||this)._node.name="GImage",e._touchDisabled=!0,e._content=e._node.addComponent(ke),e._content.sizeMode=g.SizeMode.CUSTOM,e._content.trim=!1,e}e(n,t);var s=n.prototype;return s.init=function(t){p(this.node)&&(this._content.spriteFrame=t.asset,this._content.__update(),this._contentPackageItem=t,this._contentPackageItem.addRef(),this.onReady&&(this.onReady(),this.onReady=null))},s.constructFromResource=function(){var t=this,e=this.packageItem.getBranch();this.sourceWidth=e.width,this.sourceHeight=e.height,this.initWidth=this.sourceWidth,this.initHeight=this.sourceHeight,this.setSize(this.sourceWidth,this.sourceHeight),(e=e.getHighResolution()).scale9Grid?this._content.type=g.Type.SLICED:e.scaleByTile&&(this._content.type=g.Type.TILED),!_e.enableDelayLoad||e.__loaded&&e.decoded?(e.load(),this.init(e)):e.loadAsync().then((function(){t.init(e)}))},s.dispose=function(){this._contentPackageItem&&(this._contentPackageItem.decRef(),this._contentPackageItem=null),t.prototype.dispose.call(this)},s.handleGrayedChanged=function(){this._content.grayscale=this._grayed},s.getProp=function(e){return e==bt.Color?this.color:t.prototype.getProp.call(this,e)},s.setProp=function(e,i){e==bt.Color?this.color=i:t.prototype.setProp.call(this,e,i)},s.setup_beforeAdd=function(e,i){t.prototype.setup_beforeAdd.call(this,e,i),e.seek(i,5),e.readBool()&&(this.color=e.readColor()),this._content.flip=e.readByte(),this._content.fillMethod=e.readByte(),0!=this._content.fillMethod&&(this._content.fillOrigin=e.readByte(),this._content.fillClockwise=e.readBool(),this._content.fillAmount=e.readFloat())},i(n,[{key:"color",get:function(){return this._content.color},set:function(t){this._content.color=t,this.updateGear(4)}},{key:"flip",get:function(){return this._content.flip},set:function(t){this._content.flip=t}},{key:"fillMethod",get:function(){return this._content.fillMethod},set:function(t){this._content.fillMethod=t}},{key:"fillOrigin",get:function(){return this._content.fillOrigin},set:function(t){this._content.fillOrigin=t}},{key:"fillClockwise",get:function(){return this._content.fillClockwise},set:function(t){this._content.fillClockwise=t}},{key:"fillAmount",get:function(){return this._content.fillAmount},set:function(t){this._content.fillAmount=t}}]),n}(de)),Te=t("MovieClip",function(t){function n(){var e;return(e=t.call(this)||this).interval=0,e.swing=!1,e.repeatDelay=0,e.timeScale=1,e._playing=!0,e._frameCount=0,e._frame=0,e._start=0,e._end=0,e._times=0,e._endAt=0,e._status=0,e._smoothing=!0,e._frameElapsed=0,e._reversed=!1,e._repeatedCount=0,e}e(n,t);var s=n.prototype;return s.rewind=function(){this._frame=0,this._frameElapsed=0,this._reversed=!1,this._repeatedCount=0,this.drawFrame()},s.syncStatus=function(t){this._frame=t._frame,this._frameElapsed=t._frameElapsed,this._reversed=t._reversed,this._repeatedCount=t._repeatedCount,this.drawFrame()},s.advance=function(t){for(var e=this._frame,i=this._reversed,n=t;;){var s=this.interval+this._frames[this._frame].addDelay;if(0==this._frame&&this._repeatedCount>0&&(s+=this.repeatDelay),t<s){this._frameElapsed=0;break}if(t-=s,this.swing?this._reversed?(this._frame--,this._frame<=0&&(this._frame=0,this._repeatedCount++,this._reversed=!this._reversed)):(this._frame++,this._frame>this._frameCount-1&&(this._frame=Math.max(0,this._frameCount-2),this._repeatedCount++,this._reversed=!this._reversed)):(this._frame++,this._frame>this._frameCount-1&&(this._frame=0,this._repeatedCount++)),this._frame==e&&this._reversed==i){var o=n-t;t-=Math.floor(t/o)*o}}this.drawFrame()},s.setPlaySettings=function(t,e,i,n,s){null==t&&(t=0),null==e&&(e=-1),null==i&&(i=0),null==n&&(n=-1),this._start=t,this._end=e,(-1==this._end||this._end>this._frameCount-1)&&(this._end=this._frameCount-1),this._times=i,this._endAt=n,-1==this._endAt&&(this._endAt=this._end),this._status=0,this._callback=s,this.frame=t},s.update=function(t){if(this._playing&&0!=this._frameCount&&3!=this._status){1!=this.timeScale&&(t*=this.timeScale),this._frameElapsed+=t;var e=this.interval+this._frames[this._frame].addDelay;if(0==this._frame&&this._repeatedCount>0&&(e+=this.repeatDelay),!(this._frameElapsed<e)){if(this._frameElapsed-=e,this._frameElapsed>this.interval&&(this._frameElapsed=this.interval),this.swing?this._reversed?(this._frame--,this._frame<=0&&(this._frame=0,this._repeatedCount++,this._reversed=!this._reversed)):(this._frame++,this._frame>this._frameCount-1&&(this._frame=Math.max(0,this._frameCount-2),this._repeatedCount++,this._reversed=!this._reversed)):(this._frame++,this._frame>this._frameCount-1&&(this._frame=0,this._repeatedCount++)),1==this._status)this._frame=this._start,this._frameElapsed=0,this._status=0;else if(2==this._status){if(this._frame=this._endAt,this._frameElapsed=0,this._status=3,null!=this._callback){var i=this._callback;this._callback=null,i()}}else this._frame==this._end&&(this._times>0?(this._times--,0==this._times?this._status=2:this._status=1):0!=this._start&&(this._status=1));this.drawFrame()}}},s.drawFrame=function(){if(this._frameCount>0&&this._frame<this._frames.length){var t=this._frames[this._frame];this.spriteFrame=t.texture}},i(n,[{key:"frames",get:function(){return this._frames},set:function(t){this._frames=t,this._frames?(this._frameCount=this._frames.length,(-1==this._end||this._end>this._frameCount-1)&&(this._end=this._frameCount-1),(-1==this._endAt||this._endAt>this._frameCount-1)&&(this._endAt=this._frameCount-1),(this._frame<0||this._frame>this._frameCount-1)&&(this._frame=this._frameCount-1),this.type=g.Type.SIMPLE,this.drawFrame(),this._frameElapsed=0,this._repeatedCount=0,this._reversed=!1):this._frameCount=0}},{key:"frameCount",get:function(){return this._frameCount}},{key:"frame",get:function(){return this._frame},set:function(t){this._frame!=t&&(this._frames&&t>=this._frameCount&&(t=this._frameCount-1),this._frame=t,this._frameElapsed=0,this.drawFrame())}},{key:"playing",get:function(){return this._playing},set:function(t){this._playing!=t&&(this._playing=t)}},{key:"smoothing",get:function(){return this._smoothing},set:function(t){this._smoothing=t}}]),n}(ke)),Be=t("GMovieClip",function(t){function n(){var e;return(e=t.call(this)||this)._node.name="GMovieClip",e._touchDisabled=!0,e._content=e._node.addComponent(Te),e._content.sizeMode=g.SizeMode.CUSTOM,e._content.trim=!1,e._content.setPlaySettings(),e}e(n,t);var s=n.prototype;return s.rewind=function(){this._content.rewind()},s.syncStatus=function(t){this._content.syncStatus(t._content)},s.advance=function(t){this._content.advance(t)},s.setPlaySettings=function(t,e,i,n,s){this._content.setPlaySettings(t,e,i,n,s)},s.handleGrayedChanged=function(){this._content.grayscale=this._grayed},s.handleSizeChanged=function(){t.prototype.handleSizeChanged.call(this),this._content.sizeMode=g.SizeMode.CUSTOM},s.getProp=function(e){switch(e){case bt.Color:return this.color;case bt.Playing:return this.playing;case bt.Frame:return this.frame;case bt.TimeScale:return this.timeScale;default:return t.prototype.getProp.call(this,e)}},s.setProp=function(e,i){switch(e){case bt.Color:this.color=i;break;case bt.Playing:this.playing=i;break;case bt.Frame:this.frame=i;break;case bt.TimeScale:this.timeScale=i;break;case bt.DeltaTime:this.advance(i);break;default:t.prototype.setProp.call(this,e,i)}},s.init=function(t){p(this.node)&&(this._content.interval=t.interval,this._content.swing=t.swing,this._content.repeatDelay=t.repeatDelay,this._content.frames=t.frames,this._content.smoothing=t.smoothing,this._contentPackageItem=t,this._contentPackageItem.addRef(),this.onReady&&(this.onReady(),this.onReady=null))},s.constructFromResource=function(){var t=this,e=this.packageItem.getBranch();this.sourceWidth=e.width,this.sourceHeight=e.height,this.initWidth=this.sourceWidth,this.initHeight=this.sourceHeight,this.setSize(this.sourceWidth,this.sourceHeight),e=e.getHighResolution(),!_e.enableDelayLoad||e.__loaded&&e.decoded?(e.load(),this.init(e)):e.loadAsync().then((function(){t.init(e)}))},s.onDestroy=function(){this._contentPackageItem&&(this._contentPackageItem.decRef(),this._contentPackageItem=null),t.prototype.onDestroy.call(this)},s.setup_beforeAdd=function(e,i){t.prototype.setup_beforeAdd.call(this,e,i),e.seek(i,5),e.readBool()&&(this.color=e.readColor()),e.readByte(),this._content.frame=e.readInt(),this._content.playing=e.readBool()},i(n,[{key:"color",get:function(){return this._content.color},set:function(t){this._content.color=t,this.updateGear(4)}},{key:"playing",get:function(){return this._content.playing},set:function(t){this._content.playing!=t&&(this._content.playing=t,this.updateGear(5))}},{key:"frame",get:function(){return this._content.frame},set:function(t){this._content.frame!=t&&(this._content.frame=t,this.updateGear(5))}},{key:"timeScale",get:function(){return this._content.timeScale},set:function(t){this._content.timeScale=t}}]),n}(de)),ze=function(){};ze.scaleFactor=1,ze.scaleLevel=0,ze.rootSize=new m;var Ae=function(){function t(){}return t.deleteItem=function(t){this._deletes.push(t)},t.update=function(t){if(0!=this._deletes.length&&(this._timer+=t,this._timer>=5)){this._timer=0;for(var e=this._deletes.length-1;e>=0;e--){var i=this._deletes[e];i.ref<=0&&i.doRelease()}this._deletes.length=0}},t}();Ae._timer=0,Ae._deletes=[];var Oe=t("PackageItem",function(){function t(){this.width=0,this.height=0,this.__loaded=!1,this._ref=0}var e=t.prototype;return e.load=function(){return this.owner.getItemAsset(this)},e.loadAsync=function(){return this.owner.getItemAssetAsync2(this)},e.getBranch=function(){if(this.branches&&-1!=this.owner._branchIndex){var t=this.branches[this.owner._branchIndex];if(t)return this.owner.getItemById(t)}return this},e.getHighResolution=function(){if(this.highResolution&&ze.scaleLevel>0){var t=this.highResolution[ze.scaleLevel-1];if(t)return this.owner.getItemById(t)}return this},e.toString=function(){return this.name},e.addRef=function(){var t,e;switch(this._ref++,null===(t=this.parent)||void 0===t||t.addRef(),null===(e=this.asset)||void 0===e||e.addRef(),this.type){case dt.MovieClip:if(this.frames)for(var i=0;i<this.frames.length;i++){var n=this.frames[i];n.texture&&n.texture.addRef(),n.altasPackageItem&&n.altasPackageItem.addRef()}}},e.checkValid=function(){if(_e.autoReleaseAssets&&this.__loaded&&this.decoded)if(this.type==dt.Image){var t=this.asset;t.texture&&!t.texture.isValid&&(this.decoded=!1,this.__loaded=!1)}else if(this.type==dt.MovieClip&&this.frames)for(var e=0;e<this.frames.length;e++){var i=this.frames[e];if(!i.texture||!i.texture.isValid){this.decoded=!1,this.__loaded=!1;break}}},e.doRelease=function(){switch(this.type){case dt.MovieClip:if(this.frames)for(var t=0;t<this.frames.length;t++){var e=this.frames[t];e.texture&&e.texture.decRef(_e.autoReleaseAssets),e.altasPackageItem&&e.altasPackageItem.decRef()}}_e.autoReleaseAssets&&(this.asset&&0==this.asset.refCount&&y.releaseAsset(this.asset),0==this._ref&&(this.__loaded=!1,this.decoded=!1,this.frames=null,this.asset=null,this.parent=null))},e.decRef=function(){var t,e;this._ref>0&&(this._ref--,null===(t=this.parent)||void 0===t||t.decRef(),null===(e=this.asset)||void 0===e||e.decRef(!1),this._ref<=0&&Ae.deleteItem(this))},e.dispose=function(t){void 0===t&&(t=!1),this.asset&&(t?y.releaseAsset(this.asset):this.asset.decRef(!0),this.asset=null)},i(t,[{key:"ref",get:function(){return this._ref}}]),t}()),Le=t("TranslationHelper",function(){function t(){}return t.loadFromXML=function(e){t.strings={};for(var i=t.strings,n=(new DOMParser).parseFromString(e,"text/xml").documentElement.childNodes,s=n.length,o=0;o<s;o++){var r=n[o];if("string"==r.tagName){var h=r.getAttribute("name"),a=r.childNodes.length>0?r.firstChild.nodeValue:"",l=h.indexOf("-");if(-1==l)continue;var _=h.substr(0,l),c=h.substr(l+1),d=i[_];d||(d={},i[_]=d),d[c]=a}}},t.translateComponent=function(e){if(null!=t.strings){var i=t.strings[e.owner.id+e.id];if(null!=i){var n,s,o,r,h,a,l,_,c,d=e.rawData;d.seek(0,2);var u=d.readShort();for(h=0;h<u;h++){l=d.readShort(),_=d.position,d.seek(_,0);var f=d.readByte(),g=f;d.skip(4),n=d.readS(),g==ut.Component&&d.seek(_,6)&&(g=d.readByte()),d.seek(_,1),null!=(s=i[n+"-tips"])&&d.writeS(s),d.seek(_,2);var p=d.readShort();for(a=0;a<p;a++){if(o=d.readShort(),o+=d.position,6==d.readByte()){for(d.skip(2),c=d.readShort(),y=0;y<c;y++)null!=d.readS()&&(null!=(s=i[n+"-texts_"+y])?d.writeS(s):d.skip(2));d.readBool()&&null!=(s=i[n+"-texts_def"])&&d.writeS(s)}d.position=o}if(f==ut.Component&&d.version>=2){d.seek(_,4),d.skip(2),d.skip(4*d.readShort());for(var m=d.readShort(),y=0;y<m;y++){var v=d.readS();0==d.readShort()&&null!=(s=i[n+"-cp-"+v])?d.writeS(s):d.skip(2)}}switch(g){case ut.Text:case ut.RichText:case ut.InputText:null!=(s=i[n])&&(d.seek(_,6),d.writeS(s)),null!=(s=i[n+"-prompt"])&&(d.seek(_,4),d.writeS(s));break;case ut.List:case ut.Tree:for(d.seek(_,8),d.skip(2),r=d.readShort(),a=0;a<r;a++){if(o=d.readShort(),o+=d.position,d.skip(2),g==ut.Tree&&d.skip(2),null!=(s=i[n+"-"+a])?d.writeS(s):d.skip(2),null!=(s=i[n+"-"+a+"-0"])?d.writeS(s):d.skip(2),d.version>=2)for(d.skip(6),d.skip(4*d.readUshort()),m=d.readUshort(),y=0;y<m;y++)v=d.readS(),0==d.readUshort()&&null!=(s=i[n+"-"+a+"-"+v])?d.writeS(s):d.skip(2);d.position=o}break;case ut.Label:d.seek(_,6)&&d.readByte()==g&&(null!=(s=i[n])?d.writeS(s):d.skip(2),d.skip(2),d.readBool()&&d.skip(4),d.skip(4),d.readBool()&&null!=(s=i[n+"-prompt"])&&d.writeS(s));break;case ut.Button:d.seek(_,6)&&d.readByte()==g&&(null!=(s=i[n])?d.writeS(s):d.skip(2),null!=(s=i[n+"-0"])&&d.writeS(s));break;case ut.ComboBox:if(d.seek(_,6)&&d.readByte()==g){for(r=d.readShort(),a=0;a<r;a++)o=d.readShort(),o+=d.position,null!=(s=i[n+"-"+a])&&d.writeS(s),d.position=o;null!=(s=i[n])&&d.writeS(s)}}d.position=_+l}}}},t}()),Me=t("ByteBuffer",function(){function t(t,e,i){this.version=0,e=e||0,null!=i&&-1!=i||(i=t.byteLength-e),this._bytes=new Uint8Array(t,e,i),this._view=new DataView(this._bytes.buffer,e,i),this._pos=0,this._length=i}var e=t.prototype;return e.skip=function(t){this._pos+=t},e.validate=function(t){if(this._pos+t>this._length)throw"Out of bounds"},e.readByte=function(){return this.validate(1),this._view.getUint8(this._pos++)},e.readBool=function(){return 1==this.readByte()},e.readShort=function(){this.validate(2);var t=this._view.getInt16(this._pos,this.littleEndian);return this._pos+=2,t},e.readUshort=function(){this.validate(2);var t=this._view.getUint16(this._pos,this.littleEndian);return this._pos+=2,t},e.readInt=function(){this.validate(4);var t=this._view.getInt32(this._pos,this.littleEndian);return this._pos+=4,t},e.readUint=function(){this.validate(4);var t=this._view.getUint32(this._pos,this.littleEndian);return this._pos+=4,t},e.readFloat=function(){this.validate(4);var t=this._view.getFloat32(this._pos,this.littleEndian);return this._pos+=4,t},e.readString=function(t){null==t&&(t=this.readUshort()),this.validate(t);for(var e="",i=this._pos+t,n=0,s=String.fromCharCode,o=this._bytes,r=this._pos;r<i;)(n=o[r++])<128?0!=n&&(e+=s(n)):n<224?e+=s((63&n)<<6|127&o[r++]):n<240?e+=s((31&n)<<12|(127&o[r++])<<6|127&o[r++]):e+=s((15&n)<<18|(127&o[r++])<<12|o[r++]<<6&127|127&o[r++]);return this._pos+=t,e},e.readS=function(){var t=this.readUshort();return 65534==t?null:65533==t?"":this.stringTable[t]},e.readSArray=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=this.readS();return e},e.writeS=function(t){var e=this.readUshort();65534!=e&&65533!=e&&(this.stringTable[e]=t)},e.readColor=function(t){var e=this.readByte(),i=this.readByte(),n=this.readByte(),s=this.readByte();return new a(e,i,n,t?s:255)},e.readChar=function(){var t=this.readUshort();return String.fromCharCode(t)},e.readBuffer=function(){var e=this.readUint();this.validate(e);var i=new t(this._bytes.buffer,this._bytes.byteOffset+this._pos,e);return i.stringTable=this.stringTable,i.version=this.version,this._pos+=e,i},e.seek=function(t,e){var i,n=this._pos;return this._pos=t,e<this.readByte()?(1==this.readByte()?(this._pos+=2*e,i=this.readUshort()):(this._pos+=4*e,i=this.readUint()),i>0?(this._pos=t+i,!0):(this._pos=n,!1)):(this._pos=n,!1)},i(t,[{key:"data",get:function(){return this._bytes}},{key:"position",get:function(){return this._pos},set:function(t){if(t>this._length)throw"Out of bounds";this._pos=t}}]),t}()),Ee=function(){function t(t,e,i){this._data=t,this.offsetX=null==e?0:e,this.offsetY=null==i?0:i,this.scaleX=1,this.scaleY=1}return t.prototype.hitTest=function(t){var e=Math.floor((t.x/this.scaleX-this.offsetX)*this._data.scale),i=Math.floor((t.y/this.scaleY-this.offsetY)*this._data.scale);if(e<0||i<0||e>=this._data.pixelWidth)return!1;var n=i*this._data.pixelWidth+e,s=Math.floor(n/8),o=n%8;return s>=0&&s<this._data.pixels.length&&1==(this._data.pixels[s]>>o&1)},t}(),Re=function(t){t.readInt(),this.pixelWidth=t.readInt(),this.scale=1/t.readByte(),this.pixels=t.readBuffer().data},Fe=function(){function t(t){this._child=t}return t.prototype.hitTest=function(t,e){return null!=this._child.hitTest(e,!1)},t}(),De=function(t,e,i,n){return new(i||(i=Promise))((function(s,o){function r(t){try{a(n.next(t))}catch(t){o(t)}}function h(t){try{a(n.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,h)}a((n=n.apply(t,e||[])).next())}))},Ve=Q,He=t("UIPackage",function(){function t(){this._items=[],this._itemsById={},this._itemsByName={},this._sprites={},this._dependencies=[],this._branches=[],this._branchIndex=-1}t.getVar=function(t){return Ue[t]},t.setVar=function(t,e){Ue[t]=e},t.getById=function(t){return Ge[t]},t.getByName=function(t){return je[t]},t.addPackage=function(e){var i=Ge[e];if(i)return i;var n=c.get(e,Z);if(!n)throw"Resource '"+e+"' not ready";var s=n.buffer();if(!s)throw"Missing asset data.";return(i=new t)._bundle=c,i.loadPackage(new Me(s),e),y.releaseAsset(n),Ge[i.id]=i,je[i.name]=i,Ge[i._path]=i,i},t.loadPackage=function(){var e,i,n,s,o=_e.enableDelayLoad;(arguments.length<=0?void 0:arguments[0])instanceof K.Bundle?(s=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],arguments.length>4?(i=arguments.length<=2?void 0:arguments[2],n=arguments.length<=3?void 0:arguments[3],o=arguments.length<=4?void 0:arguments[4]):arguments.length>3?(i=arguments.length<=2?void 0:arguments[2],n=arguments.length<=3?void 0:arguments[3]):n=arguments.length<=2?void 0:arguments[2]):(e=arguments.length<=0?void 0:arguments[0],arguments.length>3?(i=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2],o=arguments.length<=3?void 0:arguments[3]):arguments.length>2?(i=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):n=arguments.length<=1?void 0:arguments[1]);var r=Ge[e];r?null==n||n.call(this,null,r):(s=s||c).load(e,N,i,(function(r,h){if(r)null!=n&&n(r,null);else{var a=new t;a._bundle=s;var l=h.buffer?h.buffer():h._nativeAsset;a.loadPackage(new Me(l),e),y.releaseAsset(h);for(var _=a._items.length,c=[],d=0;d<_;d++){var u=a._items[d];(u.type==dt.Atlas&&!o||u.type==dt.Sound)&&(Ne[u.type],c.push(u.file))}var f,g=c.length,p=function(t,e){g--,t&&(f=t),g<=0&&(Ge[a.id]=a,je[a.name]=a,a._path&&(Ge[a._path]=a),null!=n&&n(f,a))};g>0?c.forEach((function(t,e){s.load(t,N,i,p)})):p(null)}}))},t.removePackage=function(t,e){void 0===e&&(e=!1);var i=Ge[t];if(i||(i=je[t]),!i)throw"No package found: "+t;i.dispose(e),delete Ge[i.id],delete je[i.name],i._path&&delete Ge[i._path]},t.createObject=function(e,i,n){var s=t.getByName(e);return s?s.createObject(i,n):null},t.createObjectFromURL=function(e,i){var n=t.getItemByURL(e);return n?n.owner.internalCreateObject(n,i):null},t.getItemURL=function(e,i){var n=t.getByName(e);if(!n)return null;var s=n._itemsByName[i];return s?"ui://"+n.id+s.id:null},t.getItemByURL=function(e){var i=e.indexOf("//");if(-1==i)return null;var n=e.indexOf("/",i+2);if(-1==n){if(e.length>13){var s=e.substr(5,8),o=t.getById(s);if(null!=o){var r=e.substr(13);return(a=o.getItemById(r)).checkValid(),a}}}else{var h=e.substr(i+2,n-i-2);if(null!=(o=t.getByName(h))){var a,l=e.substr(n+1);return(a=o.getItemByName(l)).checkValid(),a}}return null},t.normalizeURL=function(e){if(null==e)return null;var i=e.indexOf("//");if(-1==i)return null;var n=e.indexOf("/",i+2);if(-1==n)return e;var s=e.substr(i+2,n-i-2),o=e.substr(n+1);return t.getItemURL(s,o)},t.setStringsSource=function(t){Le.loadFromXML(t)};var e=t.prototype;return e.loadPackage=function(t,e){if(1179080009!=t.readUint())throw"FairyGUI: old package format found in '"+e+"'";this._path=e,t.version=t.readInt();var i=t.version>=2;t.readBool(),this._id=t.readString(),this._name=t.readString(),t.skip(20);var n,s,o,r,a,l=t.position;t.seek(l,4),n=t.readInt();var _,c=new Array(n);for(t.stringTable=c,s=0;s<n;s++)c[s]=t.readString();if(t.seek(l,5))for(n=t.readInt(),s=0;s<n;s++){var u=t.readUshort(),f=t.readInt();c[u]=t.readString(f)}for(t.seek(l,0),n=t.readShort(),s=0;s<n;s++)this._dependencies.push({id:t.readS(),name:t.readS()});i&&((n=t.readShort())>0&&(this._branches=t.readSArray(n),We&&(this._branchIndex=this._branches.indexOf(We))),a=n>0),t.seek(l,1);var g=e.lastIndexOf("/"),p=-1==g?"":e.substr(0,g+1);for(e+="_",n=t.readShort(),s=0;s<n;s++){switch(o=t.readInt(),o+=t.position,(_=new Oe).owner=this,_.type=t.readByte(),_.id=t.readS(),_.name=t.readS(),t.readS(),_.file=t.readS(),t.readBool(),_.width=t.readInt(),_.height=t.readInt(),_.type){case dt.Image:_.objectType=ut.Image;var y=t.readByte();1==y?(_.scale9Grid=new d,_.scale9Grid.x=t.readInt(),_.scale9Grid.y=t.readInt(),_.scale9Grid.width=t.readInt(),_.scale9Grid.height=t.readInt(),_.tileGridIndice=t.readInt()):2==y&&(_.scaleByTile=!0),_.smoothing=t.readBool();break;case dt.MovieClip:_.smoothing=t.readBool(),_.objectType=ut.MovieClip,_.rawData=t.readBuffer();break;case dt.Font:_.rawData=t.readBuffer();break;case dt.Component:var v=t.readByte();_.objectType=v>0?v:ut.Component,_.rawData=t.readBuffer(),Ye.UIObjectFactory.resolveExtension(_);break;case dt.Atlas:case dt.Sound:case dt.Misc:_.file=e+Ve.mainFileName(_.file);break;case dt.Spine:case dt.DragonBones:_.file=p+Ve.mainFileName(_.file),_.skeletonAnchor=new h,_.skeletonAnchor.x=t.readFloat(),_.skeletonAnchor.y=t.readFloat()}if(i){(r=t.readS())&&(_.name=r+"/"+_.name);var w=t.readByte();w>0&&(a?_.branches=t.readSArray(w):this._itemsById[t.readS()]=_);var C=t.readByte();C>0&&(_.highResolution=t.readSArray(C))}this._items.push(_),this._itemsById[_.id]=_,null!=_.name&&(this._itemsByName[_.name]=_),t.position=o}for(t.seek(l,2),n=t.readShort(),s=0;s<n;s++){o=t.readShort(),o+=t.position;var S=t.readS();_=this._itemsById[t.readS()];var x=new d;x.x=t.readInt(),x.y=t.readInt(),x.width=t.readInt(),x.height=t.readInt();var b={atlas:_,rect:x,offset:new h,originalSize:new m(0,0)};b.rotated=t.readBool(),i&&t.readBool()?(b.offset.x=t.readInt(),b.offset.y=t.readInt(),b.originalSize.width=t.readInt(),b.originalSize.height=t.readInt()):(b.originalSize.width=b.rect.width,b.originalSize.height=b.rect.height),this._sprites[S]=b,t.position=o}if(t.seek(l,3))for(n=t.readShort(),s=0;s<n;s++)o=t.readInt(),o+=t.position,(_=this._itemsById[t.readS()])&&_.type==dt.Image&&(_.hitTestData=new Re(t)),t.position=o},e.dispose=function(t){void 0===t&&(t=!1);for(var e=this._items.length,i=0;i<e;i++)this._items[i].dispose(t)},e.createObject=function(t,e){var i=this._itemsByName[t];return i?this.internalCreateObject(i,e):null},e.internalCreateObject=function(t,e){var i=Ye.UIObjectFactory.newObject(t,e);return null==i?null:(xe.n++,i.constructFromResource(),xe.n--,i)},e.getItemById=function(t){return this._itemsById[t]},e.getItemByName=function(t){return this._itemsByName[t]},e.getItemAssetByName=function(t){var e=this._itemsByName[t];if(null==e)throw"Resource not found -"+t;return this.getItemAsset(e)},e.getItemAsset=function(t){switch(t.type){case dt.Image:if(!t.decoded){t.decoded=!0;var e=this._sprites[t.id];if(e){t.parent=e.atlas;var i=this.getItemAsset(e.atlas);if(i){var n=new w;n.texture=i,n.rect=e.rect,n.rotated=e.rotated,n.offset=new h(e.offset.x-(e.originalSize.width-e.rect.width)/2,-(e.offset.y-(e.originalSize.height-e.rect.height)/2)),n.originalSize=e.originalSize,t.scale9Grid&&(n.insetLeft=t.scale9Grid.x,n.insetTop=t.scale9Grid.y,n.insetRight=t.width-t.scale9Grid.xMax,n.insetBottom=t.height-t.scale9Grid.yMax),t.asset=n}}_e.autoReleaseAssets||t.addRef()}break;case dt.Atlas:case dt.Sound:if(!t.decoded){if(t.decoded=!0,t.asset=this._bundle.get(t.file,Ne[t.type]),t.asset)if(t.type==dt.Atlas){var s=t.asset,o=s._texture;o||((o=new v).name=s.nativeUrl,o.image=s),t.asset=o}else t.asset=t.asset;else console.log("Resource '"+t.file+"' not found");_e.autoReleaseAssets&&t.type!=dt.Sound||t.addRef()}break;case dt.Font:t.decoded||(t.decoded=!0,this.loadFont(t),t.addRef());break;case dt.MovieClip:t.decoded||(t.decoded=!0,this.loadMovieClip(t),_e.autoReleaseAssets||t.addRef())}return t.asset},e.loadAssetAsync=function(t,e,i){return De(this,void 0,void 0,n().mark((function s(){return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,s){t.load(e,i,null,(function(t,e){t?s(t):n(e)}))})));case 1:case"end":return n.stop()}}),s)})))},e.getItemAssetAsync2=function(t){return De(this,void 0,void 0,n().mark((function e(){var i,s,o,r,a,l,_=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.__loaded){e.next=2;break}return e.abrupt("return",t.asset);case 2:e.t0=t.type,e.next=e.t0===dt.Image?5:e.t0===dt.Atlas||e.t0===dt.Sound?16:e.t0===dt.Font?28:e.t0===dt.MovieClip?36:43;break;case 5:if(t.decoded){e.next=15;break}if(t.decoded=!0,!(i=this._sprites[t.id])){e.next=14;break}return t.parent=i.atlas,e.next=12,this.getItemAssetAsync2(i.atlas);case 12:(s=e.sent)&&((o=new w).texture=s,o.rect=i.rect,o.rotated=i.rotated,o.offset=new h(i.offset.x-(i.originalSize.width-i.rect.width)/2,-(i.offset.y-(i.originalSize.height-i.rect.height)/2)),o.originalSize=i.originalSize,t.scale9Grid&&(o.insetLeft=t.scale9Grid.x,o.insetTop=t.scale9Grid.y,o.insetRight=t.width-t.scale9Grid.xMax,o.insetBottom=t.height-t.scale9Grid.yMax),t.asset=o);case 14:t.__loaded=!0,_e.autoReleaseAssets||t.addRef();case 15:return e.abrupt("break",43);case 16:if(t.decoded){e.next=27;break}return t.decoded=!0,e.next=20,this.loadAssetAsync(this._bundle,t.file,Ne[t.type]);case 20:if(t.asset=e.sent,!t.asset){e.next=25;break}t.type==dt.Atlas?(r=t.asset,(a=r._texture)||((a=new v).name=r.nativeUrl,a.image=r),t.asset=a):t.asset=t.asset,e.next=26;break;case 25:console.log("Resource '"+t.file+"' not found");case 26:_e.autoReleaseAssets&&t.type!=dt.Sound||t.addRef(),t.__loaded=!0;case 27:return e.abrupt("break",43);case 28:if(e.t1=t.decoded,e.t1){e.next=35;break}return t.decoded=!0,e.next=33,this.loadFontAsync(t);case 33:_e.autoReleaseAssets||t.addRef(),t.__loaded=!0;case 35:return e.abrupt("break",43);case 36:if(e.t2=t.decoded,e.t2){e.next=43;break}return t.decoded=!0,e.next=41,this.loadMovieClipAsync(t);case 41:t.__loaded=!0,_e.autoReleaseAssets||t.addRef();case 43:return l=function e(i){t.__loaded?i(!0):setTimeout((function(){e(i)}),10,_)},e.next=46,new Promise((function(t,e){l(t)}));case 46:return e.abrupt("return",t.asset);case 47:case"end":return e.stop()}}),e,this)})))},e.getItemAssetAsync=function(t,e){if(t.decoded)e(null,t);else if(t.loading)t.loading.push(e);else switch(t.type){case dt.Spine:t.loading=[e],this.loadSpine(t);break;case dt.DragonBones:t.loading=[e],this.loadDragonBones(t);break;default:this.getItemAsset(t),e(null,t)}},e.loadAllAssets=function(){for(var t=this._items.length,e=0;e<t;e++){var i=this._items[e];this.getItemAsset(i)}},e.loadMovieClipAsync=function(t){return De(this,void 0,void 0,n().mark((function e(){var i,s,o,r,a,l,_,c,u,f;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=t.rawData).seek(0,0),t.interval=i.readInt()/1e3,t.swing=i.readBool(),t.repeatDelay=i.readInt()/1e3,i.seek(0,1),r=i.readShort(),t.frames=[],a=0;case 5:if(!(a<r)){e.next=25;break}if(l=i.readShort(),l+=i.position,(_=new d).x=i.readInt(),_.y=i.readInt(),_.width=i.readInt(),_.height=i.readInt(),c={rect:_,addDelay:i.readInt()/1e3,texture:null,altasPackageItem:null},null==(s=i.readS())||null==(o=this._sprites[s])){e.next=21;break}return u=null,e.next=15,this.getItemAssetAsync2(o.atlas);case 15:if(u=e.sent,c.altasPackageItem=o.atlas,!u){e.next=21;break}t.width,c.rect.width,(f=new w).texture=u,f.rect=o.rect,f.rotated=o.rotated,f.offset=new h(c.rect.x-(t.width-c.rect.width)/2,-(c.rect.y-(t.height-c.rect.height)/2)),f.originalSize=new m(t.width,t.height),c.texture=f;case 21:t.frames.push(c),i.position=l;case 22:a++,e.next=5;break;case 25:case"end":return e.stop()}}),e,this)})))},e.loadMovieClip=function(t){var e=t.rawData;e.seek(0,0),t.interval=e.readInt()/1e3,t.swing=e.readBool(),t.repeatDelay=e.readInt()/1e3,e.seek(0,1);var i,n,s=e.readShort();t.frames=Array(s);for(var o=0;o<s;o++){var r=e.readShort();r+=e.position;var a=new d;a.x=e.readInt(),a.y=e.readInt(),a.width=e.readInt(),a.height=e.readInt();var l={rect:a,addDelay:e.readInt()/1e3,texture:null,altasPackageItem:null};if(null!=(i=e.readS())&&null!=(n=this._sprites[i])){var _=this.getItemAsset(n.atlas);if(l.altasPackageItem=n.atlas,_){t.width,l.rect.width;var c=new w;c.texture=_,c.rect=n.rect,c.rotated=n.rotated,c.offset=new h(l.rect.x-(t.width-l.rect.width)/2,-(l.rect.y-(t.height-l.rect.height)/2)),c.originalSize=new m(t.width,t.height),l.texture=c}}t.frames[o]=l,e.position=r}},e.loadFont=function(t){var e=new C;t.asset=e,e.fntConfig={commonHeight:0,fontSize:0,kerningDict:{},fontDefDictionary:{}};var i=e.fntConfig.fontDefDictionary,n=t.rawData;n.seek(0,0);var s=n.readBool(),o=n.readBool(),r=n.readBool();n.readBool();var h,a,l=n.readInt(),_=n.readInt(),c=n.readInt(),u=this._sprites[t.id];u&&(h=this.getItemAsset(u.atlas)),n.seek(0,1);for(var f=n.readInt(),g=0;g<f;g++){var p=n.readShort();p+=n.position,a={},i[n.readUshort()]=a;var m=new d;a.rect=m;var y=n.readS();if(m.x=n.readInt(),m.y=n.readInt(),a.xOffset=n.readInt(),a.yOffset=n.readInt(),m.width=n.readInt(),m.height=n.readInt(),a.xAdvance=n.readInt(),a.channel=n.readByte(),1==a.channel?a.channel=3:2==a.channel?a.channel=2:3==a.channel&&(a.channel=1),s)m.x+=u.rect.x,m.y+=u.rect.y;else{var v=this._sprites[y];v&&(u||(u=v),m.set(v.rect),a.xOffset+=v.offset.x,a.yOffset+=v.offset.y,0==l&&(l=v.originalSize.height)),0==a.xAdvance&&(a.xAdvance=0==_?a.xOffset+a.rect.width:_)}n.position=p}e.fontSize=l,e.fntConfig.fontSize=l,e.fntConfig.commonHeight=0==c?l:c,e.fntConfig.resizable=r,e.fntConfig.canTint=o,!h&&u&&(u.atlas.load(),h=u.atlas.asset);var S=new w;S.texture=h,e.spriteFrame=S,e.onLoaded()},e.loadFontAsync=function(t){return De(this,void 0,void 0,n().mark((function e(){var i,s,o,r,h,a,l,_,c,u,f,g,p,m,y,v,S,x,b;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=new C,t.asset=i,i.fntConfig={commonHeight:0,fontSize:0,kerningDict:{},fontDefDictionary:{}},s=i.fntConfig.fontDefDictionary,(o=t.rawData).seek(0,0),r=o.readBool(),h=o.readBool(),a=o.readBool(),o.readBool(),l=o.readInt(),_=o.readInt(),c=o.readInt(),(g=this._sprites[t.id])&&(u=this.getItemAsset(g.atlas)),o.seek(0,1),p=o.readInt(),m=0;m<p;m++)y=o.readShort(),y+=o.position,f={},s[o.readUshort()]=f,v=new d,f.rect=v,S=o.readS(),v.x=o.readInt(),v.y=o.readInt(),f.xOffset=o.readInt(),f.yOffset=o.readInt(),v.width=o.readInt(),v.height=o.readInt(),f.xAdvance=o.readInt(),f.channel=o.readByte(),1==f.channel?f.channel=3:2==f.channel?f.channel=2:3==f.channel&&(f.channel=1),r?(v.x+=g.rect.x,v.y+=g.rect.y):((x=this._sprites[S])&&(g||(g=x),v.set(x.rect),f.xOffset+=x.offset.x,f.yOffset+=x.offset.y,0==l&&(l=x.originalSize.height)),0==f.xAdvance&&(f.xAdvance=0==_?f.xOffset+f.rect.width:_)),o.position=y;if(i.fontSize=l,i.fntConfig.fontSize=l,i.fntConfig.commonHeight=0==c?l:c,i.fntConfig.resizable=a,i.fntConfig.canTint=h,e.t0=g,!e.t0){e.next=25;break}if(e.t1=u,e.t1){e.next=24;break}return e.next=23,g.atlas.loadAsync();case 23:u=g.atlas.asset;case 24:t.parent=g.atlas;case 25:(b=new w).texture=u,i.spriteFrame=b,i.onLoaded();case 27:case"end":return e.stop()}}),e,this)})))},e.loadSpine=function(t){this._bundle.load(t.file,S.SkeletonData,(function(e,i){t.decoded=!0,t.asset=i;var n=t.loading;delete t.loading,n.forEach((function(i){return i(e,t)}))}))},e.loadDragonBones=function(t){var e=this;this._bundle.load(t.file,x.DragonBonesAsset,(function(i,n){if(i){t.decoded=!0;var s=t.loading;return delete t.loading,void s.forEach((function(e){return e(i,t)}))}t.asset=n;var o=t.file.replace("_ske","_tex"),r=o.lastIndexOf(".");-1!=r&&(o=o.substr(0,r+1)+"json"),e._bundle.load(o,x.DragonBonesAtlasAsset,(function(e,i){t.decoded=!0,t.atlasAsset=i;var n=t.loading;delete t.loading,n.forEach((function(i){return i(e,t)}))}))}))},i(t,[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"path",get:function(){return this._path}},{key:"dependencies",get:function(){return this._dependencies}}],[{key:"branch",get:function(){return We},set:function(t){for(var e in We=t,Ge){var i=Ge[e];i._branches&&(i._branchIndex=i._branches.indexOf(t))}}}]),t}()),Ne=((nt={})[dt.Atlas]=b,nt[dt.Sound]=I,nt),Ge={},je={},We="",Ue={},Ye={};function Xe(t){var e=.299*t.r+.587*t.g+.114*t.b;return new a(e,e,e,t.a)}var Qe=new(t("UBBParser",function(){function t(){this._readPos=0,this._handlers={},this._handlers.url=this.onTag_URL,this._handlers.img=this.onTag_IMG,this._handlers.b=this.onTag_Simple,this._handlers.i=this.onTag_Simple,this._handlers.u=this.onTag_Simple,this._handlers.color=this.onTag_COLOR,this._handlers.size=this.onTag_SIZE}var e=t.prototype;return e.onTag_URL=function(t,e,i){if(e){var n="";return this.linkColor&&(n+="</color>"),this.linkUnderline&&(n+="</u>"),n+="</on>"}var s;return s=null!=i?'<on click="onClickLink" param="'+i+'">':'<on click="onClickLink" param="'+this.getTagText()+'">',this.linkUnderline&&(s+="<u>"),this.linkColor&&(s+="<color="+this.linkColor+">"),s},e.onTag_IMG=function(t,e,i){if(e)return null;var n=this.getTagText(!0);return n?'<img src="'+n+'"/>':null},e.onTag_Simple=function(t,e,i){return e?"</"+t+">":"<"+t+">"},e.onTag_COLOR=function(t,e,i){return e?"</color>":(this.lastColor=i,"<color="+i+">")},e.onTag_FONT=function(t,e,i){return e?"</font>":'<font face="'+i+'">'},e.onTag_SIZE=function(t,e,i){return e?"</size>":(this.lastSize=i,"<size="+i+">")},e.getTagText=function(t){for(var e,i=this._readPos,n="";-1!=(e=this._text.indexOf("[",i));){if(92!=this._text.charCodeAt(e-1)){n+=this._text.substring(i,e);break}n+=this._text.substring(i,e-1),n+="[",i=e+1}return-1==e?null:(t&&(this._readPos=e),n)},e.parse=function(t,e){this._text=t,this.lastColor=null,this.lastSize=null;for(var i,n,s,o,r,h,a,l=0,_="";-1!=(i=this._text.indexOf("[",l));)if(i>0&&92==this._text.charCodeAt(i-1))_+=this._text.substring(l,i-1),_+="[",l=i+1;else{if(_+=this._text.substring(l,i),l=i,-1==(i=this._text.indexOf("]",l)))break;s="/"==this._text.charAt(l+1),o=this._text.substring(s?l+2:l+1,i),this._readPos=i+1,r=null,h=null,-1!=(n=o.indexOf("="))&&(r=o.substring(n+1),o=o.substring(0,n)),o=o.toLowerCase(),null!=(a=this._handlers[o])?null==(h=a.call(this,o,s,r))||e||(_+=h):_+=this._text.substring(l,this._readPos),l=this._readPos}return l<this._text.length&&(_+=this._text.substr(l)),this._text=null,_},t}())),Ze=t("GTextField",function(t){function n(){var e;return(e=t.call(this)||this)._fontSize=0,e._leading=0,e._dirtyVersion=0,e._node.name="GTextField",e._touchDisabled=!0,e._text="",e._color=new a(255,255,255,255),e.createRenderer(),e.fontSize=12,e.leading=3,e.singleLine=!1,e._sizeDirty=!1,e._node.on(z.EventType.SIZE_CHANGED,e.onLabelSizeChanged,s(e)),e}e(n,t);var o=n.prototype;return o.createRenderer=function(){this._label=this._node.addComponent(k),this._label.string="",this._label.cacheMode=P.NONE,this.autoSize=ot.Both},o.init=function(t,e){this._fontPackageItem=t,t&&t.addRef(),this._realFont=e,this.updateFont(),this.updateFontSize()},o.dispose=function(){t.prototype.dispose.call(this),this._fontPackageItem&&(this._fontPackageItem.decRef(),this._fontPackageItem=null)},o.parseTemplate=function(t){for(var e,i,n,s,o=0,r="";-1!=(e=t.indexOf("{",o));)if(e>0&&92==t.charCodeAt(e-1))r+=t.substring(o,e-1),r+="{",o=e+1;else{if(r+=t.substring(o,e),o=e,-1==(e=t.indexOf("}",o)))break;e!=o+1?(-1!=(i=(n=t.substring(o+1,e)).indexOf("="))?r+=null==(s=this._templateVars[n.substring(0,i)])?n.substring(i+1):s:null!=(s=this._templateVars[n])&&(r+=s),o=e+1):(r+=t.substr(o,2),o=e+1)}return o<t.length&&(r+=t.substr(o)),r},o.setVar=function(t,e){return this._templateVars||(this._templateVars={}),this._templateVars[t]=e,this},o.flushVars=function(){this.markSizeChanged(),this.updateText()},o.ensureSizeCorrect=function(){this._sizeDirty&&(this._label.updateRenderData(!0),this._sizeDirty=!1)},o.updateText=function(){var t=this._text;this._templateVars&&(t=this.parseTemplate(t)),this._ubbEnabled&&(t=Qe.parse(t,!0)),this._label.string=t},o.assignFont=function(t,e){if(e instanceof _)t.font=e;else{var i=function(t){return ce[t]}(e);i?t.font=i:(t.fontFamily=e,t.useSystemFont=!0)}this.updateFontColor()},o.assignFontColor=function(t,e){var i=t.font;i instanceof C&&!i.fntConfig.canTint&&(e=a.WHITE),t instanceof k?i instanceof C&&this._grayed?(t._instanceMaterialType=T.GRAYSCALE,t.updateMaterial()):(t.changeMaterialForDefine(),this._grayed&&(e=Xe(e))):this._grayed&&(e=Xe(e)),t.color=e},o.updateFont=function(){this.assignFont(this._label,this._realFont)},o.updateFontColor=function(){this.assignFontColor(this._label,this._color)},o.updateStrokeColor=function(){this._label&&this._label.enableOutline&&(this._strokeColor||(this._strokeColor=new a),this._grayed?this._label.outlineColor=Xe(this._strokeColor):this._label.outlineColor=this._strokeColor)},o.updateShadowColor=function(){this._label&&this._label.enableShadow&&(this._shadowColor||(this._shadowColor=new a),this._grayed?this._label.shadowColor=Xe(this._shadowColor):this._label.shadowColor=this._shadowColor)},o.updateFontSize=function(){var t=this._label.font;if(t instanceof C){var e=t.fntConfig;e.resizable?this._label.fontSize=this._fontSize:this._label.fontSize=e.fontSize,this._label.lineHeight=e.fontSize+(this._leading+4)*e.fontSize/this._label.fontSize}else this._label.fontSize=this._fontSize,this._label.lineHeight=this._fontSize+this._leading},o.updateOverflow=function(){var t=this._node._uiProps.uiTransformComp;this._autoSize==ot.Both?this._label.overflow=k.Overflow.NONE:this._autoSize==ot.Height?(this._label.overflow=k.Overflow.RESIZE_HEIGHT,t.width=this._width):this._autoSize==ot.Shrink?(this._label.overflow=k.Overflow.SHRINK,t.setContentSize(this._width,this._height)):(this._label.overflow=k.Overflow.CLAMP,t.setContentSize(this._width,this._height))},o.markSizeChanged=function(){this._underConstruct||this._autoSize!=ot.Both&&this._autoSize!=ot.Height||this._sizeDirty||(this._node.emit(Bt.SIZE_DELAY_CHANGE),this._sizeDirty=!0)},o.onLabelSizeChanged=function(){this._sizeDirty=!1,this._underConstruct||this._autoSize!=ot.Both&&this._autoSize!=ot.Height||(this._updatingSize=!0,this.setSize(this._node._uiProps.uiTransformComp.width,this._node._uiProps.uiTransformComp.height),this._updatingSize=!1)},o.handleSizeChanged=function(){this._updatingSize||(this._autoSize==ot.None||this._autoSize==ot.Shrink?this._node._uiProps.uiTransformComp.setContentSize(this._width,this._height):this._autoSize==ot.Height&&(this._node._uiProps.uiTransformComp.width=this._width))},o.handleGrayedChanged=function(){this.updateFontColor(),this.updateStrokeColor()},o.getProp=function(e){switch(e){case bt.Color:return this.color;case bt.OutlineColor:return this.strokeColor;case bt.FontSize:return this.fontSize;default:return t.prototype.getProp.call(this,e)}},o.setProp=function(e,i){switch(e){case bt.Color:this.color=i;break;case bt.OutlineColor:this.strokeColor=i;break;case bt.FontSize:this.fontSize=i;break;default:t.prototype.setProp.call(this,e,i)}},o.setup_beforeAdd=function(e,i){if(t.prototype.setup_beforeAdd.call(this,e,i),e.seek(i,5),this.font=e.readS(),this.fontSize=e.readShort(),this.color=e.readColor(),this.align=e.readByte(),this.verticalAlign=e.readByte(),this.leading=e.readShort(),this.letterSpacing=e.readShort(),this._ubbEnabled=e.readBool(),this.autoSize=e.readByte(),this.underline=e.readBool(),this.italic=e.readBool(),this.bold=e.readBool(),this.singleLine=e.readBool(),e.readBool()&&(this.strokeColor=e.readColor(),this.stroke=e.readFloat()),e.readBool()){this.shadowColor=e.readColor();var n=e.readFloat(),s=e.readFloat();this.shadowOffset=new h(n,s)}e.readBool()&&(this._templateVars={})},o.setup_afterAdd=function(e,i){t.prototype.setup_afterAdd.call(this,e,i),e.seek(i,6);var n=e.readS();null!=n&&(this.text=n)},i(n,[{key:"text",get:function(){return this._text},set:function(t){this._text=t,null==this._text&&(this._text=""),this.updateGear(6),this.markSizeChanged(),this.updateText()}},{key:"font",get:function(){return this._font},set:function(t){var e=this;if(this._font!=t||!t){this._dirtyVersion++;var i=this._dirtyVersion;this._font=t,this.markSizeChanged();var n=t||_e.defaultFont,s=null;n.startsWith("ui://")&&(n=(s=He.getItemByURL(n))?!_e.enableDelayLoad||s.__loaded&&s.decoded?s.owner.getItemAsset(s):s.owner.getItemAssetAsync2(s):_e.defaultFont),n instanceof Promise?n.then((function(t){p(e._node)&&e._dirtyVersion==i&&e.init(s,t)})):this.init(s,n)}}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){t<0||this._fontSize!=t&&(this._fontSize=t,this.markSizeChanged(),this.updateFontSize())}},{key:"color",get:function(){return this._color},set:function(t){this._color.set(t),this.updateGear(4),this.updateFontColor()}},{key:"align",get:function(){return this._label?this._label.horizontalAlign:0},set:function(t){this._label&&(this._label.horizontalAlign=t)}},{key:"verticalAlign",get:function(){return this._label?this._label.verticalAlign:0},set:function(t){this._label&&(this._label.verticalAlign=t)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!=t&&(this._leading=t,this.markSizeChanged(),this.updateFontSize())}},{key:"letterSpacing",get:function(){return this._label?this._label.spacingX:0},set:function(t){this._label&&this._label.spacingX!=t&&(this.markSizeChanged(),this._label.spacingX=t)}},{key:"underline",get:function(){return!!this._label&&this._label.isUnderline},set:function(t){this._label&&(this._label.isUnderline=t)}},{key:"bold",get:function(){return!!this._label&&this._label.isBold},set:function(t){this._label&&(this._label.isBold=t)}},{key:"italic",get:function(){return!!this._label&&this._label.isItalic},set:function(t){this._label&&(this._label.isItalic=t)}},{key:"singleLine",get:function(){return!!this._label&&!this._label.enableWrapText},set:function(t){this._label&&(this._label.enableWrapText=!t)}},{key:"stroke",get:function(){return this._label.enableOutline?this._label.outlineWidth:0},set:function(t){0==t?this._label.enableOutline=!1:(this._label.enableOutline?this._label.enableOutline=!0:(this._label.enableOutline=!0,this.updateStrokeColor()),this._label.outlineWidth=t)}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(t){this._strokeColor||(this._strokeColor=new a),this._strokeColor.set(t),this.updateGear(4),this.updateStrokeColor()}},{key:"shadowOffset",get:function(){return this._shadowOffset},set:function(t){this._shadowOffset||(this._shadowOffset=new h),this._shadowOffset.set(t),0!=this._shadowOffset.x||0!=this._shadowOffset.y?(this._label.enableShadow?this._label.enableShadow=!0:(this._label.enableShadow=!0,this.updateShadowColor()),this._label.shadowOffset=new h(t.x,-t.y)):this._label.enableShadow&&(this._label.enableShadow=!1)}},{key:"shadowColor",get:function(){return this._shadowColor},set:function(t){this._shadowColor||(this._shadowColor=new a),this._shadowColor.set(t),this.updateShadowColor()}},{key:"ubbEnabled",get:function(){return this._ubbEnabled},set:function(t){this._ubbEnabled!=t&&(this._ubbEnabled=t,this.markSizeChanged(),this.updateText())}},{key:"autoSize",get:function(){return this._autoSize},set:function(t){this._autoSize!=t&&(this._autoSize=t,this.markSizeChanged(),this.updateOverflow())}},{key:"templateVars",get:function(){return this._templateVars},set:function(t){null==this._templateVars&&null==t||(this._templateVars=t,this.flushVars())}},{key:"textWidth",get:function(){return this.ensureSizeCorrect(),this._node._uiProps.uiTransformComp.width}}]),n}(de)),Ke=new(function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var s=i.prototype;return s.getSpriteFrame=function(e){var i=He.getItemByURL(e);if(i){if(i.load(),i.type==dt.Image)return i.asset;if(i.type==dt.MovieClip)return i.frames[0].texture}return t.prototype.getSpriteFrame.call(this,e)},s.getSpriteFrameAsync=function(e){var i=Object.create(null,{getSpriteFrame:{get:function(){return t.prototype.getSpriteFrame}}});return function(t,e,i,n){return new(i||(i=Promise))((function(s,o){function r(t){try{a(n.next(t))}catch(t){o(t)}}function h(t){try{a(n.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,h)}a((n=n.apply(t,e||[])).next())}))}(this,void 0,void 0,n().mark((function t(){var s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s=He.getItemByURL(e))){t.next=8;break}return t.next=4,s.loadAsync();case 4:if(s.type!=dt.Image){t.next=6;break}return t.abrupt("return",s.asset);case 6:if(s.type!=dt.MovieClip){t.next=8;break}return t.abrupt("return",s.frames[0].texture);case 8:return t.abrupt("return",i.getSpriteFrame.call(this,e));case 9:case"end":return t.stop()}}),t,this)})))},i}(q)),qe=t("GRichTextField",function(t){function n(){var e;return(e=t.call(this)||this)._node.name="GRichTextField",e._touchDisabled=!1,e.linkUnderline=_e.linkUnderline,e}e(n,t);var s=n.prototype;return s.createRenderer=function(){this._richText=this._node.addComponent(B),this._richText.handleTouchEvent=!1,this.autoSize=ot.None,this._richText.imageAtlas=Ke},s.markSizeChanged=function(){},s.updateText=function(){var t=this._text;this._templateVars&&(t=this.parseTemplate(t)),this._ubbEnabled&&(Qe.linkUnderline=this.linkUnderline,Qe.linkColor=this.linkColor,t=Qe.parse(t)),this._bold&&(t="<b>"+t+"</b>"),this._italics&&(t="<i>"+t+"</i>"),this._underline&&(t="<u>"+t+"</u>");var e=this._color;this._grayed&&(e=Xe(e)),t="<color="+e.toHEX("#rrggbb")+">"+t+"</color>",this._autoSize==ot.Both?(0!=this._richText.maxWidth&&(this._richText._maxWidth=0),this._richText.string=t,0!=this.maxWidth&&this._node._uiProps.uiTransformComp.contentSize.width>this.maxWidth&&(this._richText.maxWidth=this.maxWidth)):this._richText.string=t},s.updateFont=function(){this.assignFont(this._richText,this._realFont)},s.updateFontColor=function(){this.assignFontColor(this._richText,this._color)},s.updateFontSize=function(){var t=this._fontSize,e=this._richText.font;e instanceof C&&(e.fntConfig.resizable||(t=e.fntConfig.fontSize)),this._richText.fontSize=t,this._richText.lineHeight=t+2*this._leading},s.updateOverflow=function(){this._autoSize==ot.Both?this._richText.maxWidth=0:this._richText.maxWidth=this._width},s.handleSizeChanged=function(){this._updatingSize||this._autoSize!=ot.Both&&(this._richText.maxWidth=this._width)},i(n,[{key:"align",get:function(){return this._richText.horizontalAlign},set:function(t){this._richText.horizontalAlign=t}},{key:"underline",get:function(){return this._underline},set:function(t){this._underline!=t&&(this._underline=t,this.updateText())}},{key:"bold",get:function(){return this._bold},set:function(t){this._bold!=t&&(this._bold=t,this.updateText())}},{key:"italic",get:function(){return this._italics},set:function(t){this._italics!=t&&(this._italics=t,this.updateText())}}]),n}(Ze)),$e=function(t){function n(){var e;return(e=t.call(this)||this)._touching=!1,e._touches=new Array,e._rollOutChain=new Array,e._rollOverChain=new Array,e._touchPos=new h,e}e(n,t);var s=n.prototype;return s.onLoad=function(){this._owner=de.cast(this.node)},s.onEnable=function(){var t=this.node;t.on(z.EventType.TOUCH_START,this.touchBeginHandler,this),t.on(z.EventType.TOUCH_MOVE,this.touchMoveHandler,this),t.on(z.EventType.TOUCH_END,this.touchEndHandler,this),t.on(z.EventType.TOUCH_CANCEL,this.touchCancelHandler,this),t.on(z.EventType.MOUSE_DOWN,this.mouseDownHandler,this),t.on(z.EventType.MOUSE_MOVE,this.mouseMoveHandler,this),t.on(z.EventType.MOUSE_UP,this.mouseUpHandler,this),t.on(z.EventType.MOUSE_WHEEL,this.mouseWheelHandler,this)},s.onDisable=function(){var t=this.node;t.off(z.EventType.TOUCH_START,this.touchBeginHandler,this),t.off(z.EventType.TOUCH_MOVE,this.touchMoveHandler,this),t.off(z.EventType.TOUCH_END,this.touchEndHandler,this),t.off(z.EventType.TOUCH_CANCEL,this.touchCancelHandler,this),t.off(z.EventType.MOUSE_DOWN,this.mouseDownHandler,this),t.off(z.EventType.MOUSE_MOVE,this.mouseMoveHandler,this),t.off(z.EventType.MOUSE_UP,this.mouseUpHandler,this),t.off(z.EventType.MOUSE_WHEEL,this.mouseWheelHandler,this),this._touchListener=null},s.getAllTouches=function(t){t=t||new Array;for(var e=this._touches.length,i=0;i<e;i++){var n=this._touches[i];-1!=n.touchId&&t.push(n.touchId)}return t},s.getTouchPosition=function(t){void 0===t&&(t=-1);for(var e=this._touches.length,i=0;i<e;i++){var n=this._touches[i];if(-1!=n.touchId&&(-1==t||n.touchId==t))return n.pos}return h.ZERO},s.getTouchTarget=function(){for(var t=this._touches.length,e=0;e<t;e++){var i=this._touches[e];if(-1!=i.touchId)return i.target}return null},s.addTouchMonitor=function(t,e){var i=this.getInfo(t,!1);i&&-1==i.touchMonitors.indexOf(e)&&i.touchMonitors.push(e)},s.removeTouchMonitor=function(t){for(var e=this._touches.length,i=0;i<e;i++){var n=this._touches[i],s=n.touchMonitors.indexOf(t);-1!=s&&n.touchMonitors.splice(s,1)}},s.cancelClick=function(t){var e=this.getInfo(t,!1);e&&(e.clickCancelled=!0)},s.simulateClick=function(t){var e;(e=Ot(Bt.TOUCH_BEGIN,!0)).initiator=t,e.pos.set(t.localToGlobal()),e.touchId=0,e.clickCount=1,e.button=0,e._processor=this,this._captureCallback&&this._captureCallback.call(this._owner,e),t.node.dispatchEvent(e),e.unuse(),e.type=Bt.TOUCH_END,e.bubbles=!0,t.node.dispatchEvent(e),e.unuse(),e.type=Bt.CLICK,e.bubbles=!0,t.node.dispatchEvent(e),Lt(e)},s.touchBeginHandler=function(t){this._touching=!0;var e=this.updateInfo(t.getID(),t.getLocation());this.setBegin(e),this._touchListener?this._touchListener.setSwallowTouches(e.target!=this._owner):t.preventSwallow=e.target==this._owner;var i=this.getEvent(e,e.target,Bt.TOUCH_BEGIN,!0);return this._captureCallback&&this._captureCallback.call(this._owner,i),e.target.node.dispatchEvent(i),this.handleRollOver(e,e.target),!0},s.touchMoveHandler=function(t){var e=this.updateInfo(t.getID(),t.getLocation());if(this._touchListener||(t.preventSwallow=e.target==this._owner),this.handleRollOver(e,e.target),e.began){for(var i=this.getEvent(e,e.target,Bt.TOUCH_MOVE,!1),n=!1,s=e.touchMonitors.length,o=0;o<s;o++){var r=e.touchMonitors[o];null!=r.node&&r.node.activeInHierarchy&&(i.unuse(),i.type=Bt.TOUCH_MOVE,r.node.dispatchEvent(i),r==this._owner&&(n=!0))}!n&&this.node&&(i.unuse(),i.type=Bt.TOUCH_MOVE,this.node.dispatchEvent(i)),Lt(i)}},s.touchEndHandler=function(t){this._touching=!1;var e=this.updateInfo(t.getID(),t.getLocation());this._touchListener||(t.preventSwallow=e.target==this._owner),this.setEnd(e);for(var i=this.getEvent(e,e.target,Bt.TOUCH_END,!1),n=e.touchMonitors.length,s=0;s<n;s++){var o=e.touchMonitors[s];o==e.target||null==o.node||!o.node.activeInHierarchy||"isAncestorOf"in o&&o.isAncestorOf(e.target)||(i.unuse(),i.type=Bt.TOUCH_END,o.node.dispatchEvent(i))}e.touchMonitors.length=0,e.target&&e.target.node&&(e.target instanceof qe&&e.target.node.getComponent(B)._onTouchEnded(t),i.unuse(),i.type=Bt.TOUCH_END,i.bubbles=!0,e.target.node.dispatchEvent(i)),Lt(i),e.target=this.clickTest(e),e.target&&(i=this.getEvent(e,e.target,Bt.CLICK,!0),e.target.node.dispatchEvent(i),Lt(i)),tt.isMobile?this.handleRollOver(e,null):this.handleRollOver(e,e.target),e.target=null,e.touchId=-1,e.button=-1},s.touchCancelHandler=function(t){this._touching=!1;var e=this.updateInfo(t.getID(),t.getLocation());this._touchListener||(t.preventSwallow=e.target==this._owner);for(var i=this.getEvent(e,e.target,Bt.TOUCH_END,!1),n=e.touchMonitors.length,s=0;s<n;s++){var o=e.touchMonitors[s];o==e.target||null==o.node||!o.node.activeInHierarchy||"isAncestorOf"in o&&o.isAncestorOf(e.target)||(i.initiator=o,o.node.dispatchEvent(i))}e.touchMonitors.length=0,e.target&&e.target.node&&(i.bubbles=!0,e.target.node.dispatchEvent(i)),Lt(i),this.handleRollOver(e,null),e.target=null,e.touchId=-1,e.button=-1},s.mouseDownHandler=function(t){this.getInfo(0,!0).button=t.getButton()},s.mouseUpHandler=function(t){this.getInfo(0,!0).button=t.getButton()},s.mouseMoveHandler=function(t){var e=this.getInfo(0,!1);if(!(e&&Math.abs(e.pos.x-t.getLocationX())<1&&Math.abs(e.pos.y-(ze.rootSize.height-t.getLocationY()))<1)&&(e=this.updateInfo(0,t.getLocation()),this.handleRollOver(e,e.target),e.began)){for(var i=this.getEvent(e,e.target,Bt.TOUCH_MOVE,!1),n=!1,s=e.touchMonitors.length,o=0;o<s;o++){var r=e.touchMonitors[o];null!=r.node&&r.node.activeInHierarchy&&(i.initiator=r,r.node.dispatchEvent(i),r==this._owner&&(n=!0))}!n&&this.node&&(i.initiator=this._owner,this.node.dispatchEvent(i),Lt(i)),Lt(i)}},s.mouseWheelHandler=function(t){var e=this.updateInfo(0,t.getLocation());e.mouseWheelDelta=Math.max(t.getScrollX(),t.getScrollY());var i=this.getEvent(e,e.target,Bt.MOUSE_WHEEL,!0);e.target.node.dispatchEvent(i),Lt(i)},s.updateInfo=function(t,e){var i=M.root.batcher2D.getFirstRenderCamera(this.node);i?(ti.set(e.x,e.y),i.screenToWorld(ei,ti),this._touchPos.set(ei.x,ei.y)):this._touchPos.set(e),this._touchPos.y=ze.rootSize.height-this._touchPos.y;var n=this._owner.hitTest(this._touchPos);n||(n=this._owner);var s=this.getInfo(t);return s.target=n,s.pos.set(this._touchPos),s.button=G.BUTTON_LEFT,s.touchId=t,s},s.getInfo=function(t,e){void 0===e&&(e=!0);for(var i=null,n=this._touches.length,s=0;s<n;s++){var o=this._touches[s];if(o.touchId==t)return o;-1==o.touchId&&(i=o)}if(!i){if(!e)return null;i=new Je,this._touches.push(i)}return i.touchId=t,i},s.setBegin=function(t){t.began=!0,t.clickCancelled=!1,t.downPos.set(t.pos),t.downTargets.length=0;for(var e=t.target;e;)t.downTargets.push(e),e=e.findParent()},s.setEnd=function(t){t.began=!1;var e=E.totalTime/1e3;e-t.lastClickTime<.45?2==t.clickCount?t.clickCount=1:t.clickCount++:t.clickCount=1,t.lastClickTime=e},s.clickTest=function(t){if(0==t.downTargets.length||t.clickCancelled||Math.abs(t.pos.x-t.downPos.x)>50||Math.abs(t.pos.y-t.downPos.y)>50)return null;var e=t.downTargets[0];if(e&&e.node&&e.node.activeInHierarchy)return e;for(e=t.target;e&&(-1==t.downTargets.indexOf(e)||!e.node||!e.node.activeInHierarchy);)e=e.findParent();return e},s.handleRollOver=function(t,e){if(t.lastRollOver!=e){for(var i=t.lastRollOver;i&&i.node;)this._rollOutChain.push(i),i=i.findParent();for(i=e;i&&i.node;){var n=this._rollOutChain.indexOf(i);if(-1!=n){this._rollOutChain.length=n;break}this._rollOverChain.push(i),i=i.findParent()}t.lastRollOver=e;for(var s=this._rollOutChain.length,o=0;o<s;o++)if((i=this._rollOutChain[o]).node&&i.node.activeInHierarchy){var r=this.getEvent(t,i,Bt.ROLL_OUT,!1);i.node.dispatchEvent(r),Lt(r)}s=this._rollOverChain.length;for(var h=0;h<s;h++)if((i=this._rollOverChain[h]).node&&i.node.activeInHierarchy){var a=this.getEvent(t,i,Bt.ROLL_OVER,!1);i.node.dispatchEvent(a),Lt(a)}this._rollOutChain.length=0,this._rollOverChain.length=0}},s.getEvent=function(t,e,i,n){var s=Ot(i,n);return s.initiator=e,s.pos.set(t.pos),s.touchId=t.touchId,s.clickCount=t.clickCount,s.button=t.button,s.mouseWheelDelta=t.mouseWheelDelta,s._processor=this,s},i(n,[{key:"touching",get:function(){return this._touching}}]),n}(U),Je=function(){this.pos=new h,this.touchId=0,this.clickCount=0,this.mouseWheelDelta=0,this.button=-1,this.downPos=new h,this.began=!1,this.clickCancelled=!1,this.lastClickTime=0,this.downTargets=new Array,this.touchMonitors=new Array},ti=new u,ei=new u,ii=function(){function t(){}var e=t.prototype;return e.run=function(t,e,i){this.fromPage&&0!=this.fromPage.length&&-1==this.fromPage.indexOf(e)||this.toPage&&0!=this.toPage.length&&-1==this.toPage.indexOf(i)?this.leave(t):this.enter(t)},e.enter=function(t){},e.leave=function(t){},e.setup=function(t){var e,i;for(e=t.readShort(),this.fromPage=[],i=0;i<e;i++)this.fromPage[i]=t.readS();for(e=t.readShort(),this.toPage=[],i=0;i<e;i++)this.toPage[i]=t.readS()},t}(),ni=function(t){function i(){var e;return(e=t.call(this)||this).playTimes=1,e.delay=0,e}e(i,t);var n=i.prototype;return n.enter=function(t){var e=t.parent.getTransition(this.transitionName);e&&(this._currentTransition&&this._currentTransition.playing?e.changePlayTimes(this.playTimes):e.play(null,this.playTimes,this.delay),this._currentTransition=e)},n.leave=function(t){this.stopOnExit&&this._currentTransition&&(this._currentTransition.stop(),this._currentTransition=null)},n.setup=function(e){t.prototype.setup.call(this,e),this.transitionName=e.readS(),this.playTimes=e.readInt(),this.delay=e.readFloat(),this.stopOnExit=e.readBool()},i}(ii),si=function(t){function i(){return t.call(this)||this}e(i,t);var n=i.prototype;return n.enter=function(t){var e;if(this.controllerName&&(e=this.objectId?t.parent.getChildById(this.objectId):t.parent)){var i=e.getController(this.controllerName);i&&i!=t&&!i.changing&&("~1"==this.targetPage?t.selectedIndex<i.pageCount&&(i.selectedIndex=t.selectedIndex):"~2"==this.targetPage?i.selectedPage=t.selectedPage:i.selectedPageId=this.targetPage)}},n.setup=function(e){t.prototype.setup.call(this,e),this.objectId=e.readS(),this.controllerName=e.readS(),this.targetPage=e.readS()},i}(ii),oi=0,ri=t("Controller",function(t){function n(){var e;return(e=t.call(this)||this)._pageIds=[],e._pageNames=[],e._selectedIndex=-1,e._previousIndex=-1,e}e(n,t);var s=n.prototype;return s.dispose=function(){},s.onChanged=function(t,e){this.on(Bt.STATUS_CHANGED,t,e)},s.offChanged=function(t,e){this.off(Bt.STATUS_CHANGED,t,e)},s.setSelectedIndex=function(t){if(this._selectedIndex!=t){if(t>this._pageIds.length-1)throw"index out of bounds: "+t;this.changing=!0,this._previousIndex=this._selectedIndex,this._selectedIndex=t,this.parent.applyController(this),this.changing=!1}},s.setSelectedPage=function(t){var e=this._pageNames.indexOf(t);-1==e&&(e=0),this.setSelectedIndex(e)},s.getPageName=function(t){return this._pageNames[t]},s.addPage=function(t){t=t||"",this.addPageAt(t,this._pageIds.length)},s.addPageAt=function(t,e){t=t||"";var i=""+oi++;null==e||e==this._pageIds.length?(this._pageIds.push(i),this._pageNames.push(t)):(this._pageIds.splice(e,0,i),this._pageNames.splice(e,0,t))},s.removePage=function(t){var e=this._pageNames.indexOf(t);-1!=e&&(this._pageIds.splice(e,1),this._pageNames.splice(e,1),this._selectedIndex>=this._pageIds.length?this.selectedIndex=this._selectedIndex-1:this.parent.applyController(this))},s.removePageAt=function(t){this._pageIds.splice(t,1),this._pageNames.splice(t,1),this._selectedIndex>=this._pageIds.length?this.selectedIndex=this._selectedIndex-1:this.parent.applyController(this)},s.clearPages=function(){this._pageIds.length=0,this._pageNames.length=0,-1!=this._selectedIndex?this.selectedIndex=-1:this.parent.applyController(this)},s.hasPage=function(t){return-1!=this._pageNames.indexOf(t)},s.getPageIndexById=function(t){return this._pageIds.indexOf(t)},s.getPageIdByName=function(t){var e=this._pageNames.indexOf(t);return-1!=e?this._pageIds[e]:null},s.getPageNameById=function(t){var e=this._pageIds.indexOf(t);return-1!=e?this._pageNames[e]:null},s.getPageId=function(t){return this._pageIds[t]},s.runActions=function(){if(this._actions)for(var t=this._actions.length,e=0;e<t;e++)this._actions[e].run(this,this.previousPageId,this.selectedPageId)},s.setup=function(t){var e,i,n=t.position;t.seek(n,0),this.name=t.readS(),t.readBool()&&(this.autoRadioGroupDepth=!0),t.seek(n,1);var s=t.readShort();for(e=0;e<s;e++)this._pageIds.push(t.readS()),this._pageNames.push(t.readS());var o=0;if(t.version>=2)switch(t.readByte()){case 1:o=t.readShort();break;case 2:-1==(o=this._pageNames.indexOf(He.branch))&&(o=0);break;case 3:-1==(o=this._pageNames.indexOf(He.getVar(t.readS())))&&(o=0)}if(t.seek(n,2),(s=t.readShort())>0)for(this._actions||(this._actions=new Array),e=0;e<s;e++){i=t.readShort(),i+=t.position;var r=hi(t.readByte());r.setup(t),this._actions.push(r),t.position=i}this.parent&&this._pageIds.length>0?this._selectedIndex=o:this._selectedIndex=-1},s.addAction=function(t){this._actions||(this._actions=new Array),this._actions.push(t)},i(n,[{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(t){if(this._selectedIndex!=t){if(t>this._pageIds.length-1)throw"index out of bounds: "+t;this.changing=!0,this._previousIndex=this._selectedIndex,this._selectedIndex=t,this.parent.applyController(this),this.emit(Bt.STATUS_CHANGED,this),this.changing=!1}}},{key:"previsousIndex",get:function(){return this._previousIndex}},{key:"selectedPage",get:function(){return-1==this._selectedIndex?null:this._pageNames[this._selectedIndex]},set:function(t){var e=this._pageNames.indexOf(t);-1==e&&(e=0),this.selectedIndex=e}},{key:"previousPage",get:function(){return-1==this._previousIndex?null:this._pageNames[this._previousIndex]}},{key:"pageCount",get:function(){return this._pageIds.length}},{key:"selectedPageId",get:function(){return-1==this._selectedIndex?null:this._pageIds[this._selectedIndex]},set:function(t){var e=this._pageIds.indexOf(t);this.selectedIndex=e}},{key:"oppositePageId",set:function(t){this._pageIds.indexOf(t)>0?this.selectedIndex=0:this._pageIds.length>1&&(this.selectedIndex=1)}},{key:"previousPageId",get:function(){return-1==this._previousIndex?null:this._pageIds[this._previousIndex]}}]),n}($));function hi(t){switch(t){case 0:return new ni;case 1:return new si}return null}var ai,li=function(){function t(){this.left=0,this.right=0,this.top=0,this.bottom=0}var e=t.prototype;return e.copy=function(t){this.top=t.top,this.bottom=t.bottom,this.left=t.left,this.right=t.right},e.isNone=function(){return 0==this.left&&0==this.right&&0==this.top&&0==this.bottom},t}(),_i=t("ScrollPane",function(t){function n(){var e;return(e=t.apply(this,arguments)||this)._aniFlag=0,e}e(n,t);var s=n.prototype;return s.setup=function(t){var e=this._owner=de.cast(this.node);this._maskContainer=new z("ScrollPane"),this._maskContainer.layer=_e.defaultUILayer,this._maskContainer.addComponent(A).setAnchorPoint(0,1),this._maskContainer.parent=e.node,this._container=e._container,this._container.parent=this._maskContainer,this._scrollBarMargin=new li,this._mouseWheelEnabled=!0,this._xPos=0,this._yPos=0,this._aniFlag=0,this._tweening=0,this._footerLockedSize=0,this._headerLockedSize=0,this._viewSize=new h,this._contentSize=new h,this._pageSize=new h(1,1),this._overlapSize=new h,this._tweenTime=new h,this._tweenStart=new h,this._tweenDuration=new h,this._tweenChange=new h,this._velocity=new h,this._containerPos=new h,this._beginTouchPos=new h,this._lastTouchPos=new h,this._lastTouchGlobalPos=new h,this._scrollStep=_e.defaultScrollStep,this._mouseWheelStep=2*this._scrollStep,this._decelerationRate=_e.defaultScrollDecelerationRate,this._snappingPolicy=0,e.on(Bt.TOUCH_BEGIN,this.onTouchBegin,this),e.on(Bt.TOUCH_MOVE,this.onTouchMove,this),e.on(Bt.TOUCH_END,this.onTouchEnd,this),e.on(Bt.MOUSE_WHEEL,this.onMouseWheel,this),this._scrollType=t.readByte();var i=t.readByte(),n=t.readInt();t.readBool()&&(this._scrollBarMargin.top=t.readInt(),this._scrollBarMargin.bottom=t.readInt(),this._scrollBarMargin.left=t.readInt(),this._scrollBarMargin.right=t.readInt());var s=t.readS(),o=t.readS(),r=t.readS(),a=t.readS();if(0!=(1&n)&&(this._displayOnLeft=!0),0!=(2&n)&&(this._snapToItem=!0),0!=(4&n)&&(this._displayInDemand=!0),0!=(8&n)&&(this._pageMode=!0),this._touchEffect=!!(16&n)||!(32&n)&&_e.defaultScrollTouchEffect,this._bouncebackEffect=!!(64&n)||!(128&n)&&_e.defaultScrollBounceEffect,0!=(256&n)&&(this._inertiaDisabled=!0),0==(512&n)&&this._maskContainer.addComponent(O),0!=(1024&n)&&(this._floating=!0),0!=(2048&n)&&(this._dontClipMargin=!0),i==gt.Default&&(i=_e.defaultScrollBarDisplay),i!=gt.Hidden){var l;if((this._scrollType==pt.Both||this._scrollType==pt.Vertical)&&(l=s||_e.verticalScrollBar)){if(this._vtScrollBar=He.createObjectFromURL(l),!this._vtScrollBar)throw"cannot create scrollbar from "+l;this._vtScrollBar.setScrollPane(this,!0),this._vtScrollBar.node.parent=e.node}if((this._scrollType==pt.Both||this._scrollType==pt.Horizontal)&&(l=o||_e.horizontalScrollBar)){if(this._hzScrollBar=He.createObjectFromURL(l),!this._hzScrollBar)throw"cannot create scrollbar from "+l;this._hzScrollBar.setScrollPane(this,!1),this._hzScrollBar.node.parent=e.node}i==gt.Auto&&(this._scrollBarDisplayAuto=!0),this._scrollBarDisplayAuto&&(this._vtScrollBar&&(this._vtScrollBar.node.active=!1),this._hzScrollBar&&(this._hzScrollBar.node.active=!1),e.on(Bt.ROLL_OVER,this.onRollOver,this),e.on(Bt.ROLL_OUT,this.onRollOut,this))}if(r){if(this._header=He.createObjectFromURL(r),null==this._header)throw"cannot create scrollPane header from "+r;this._maskContainer.insertChild(this._header.node,0)}if(a){if(this._footer=He.createObjectFromURL(a),null==this._footer)throw"cannot create scrollPane footer from "+a;this._maskContainer.insertChild(this._footer.node,0)}this._refreshBarAxis=this._scrollType==pt.Both||this._scrollType==pt.Vertical?"y":"x",this.setSize(e.width,e.height)},s.onDestroy=function(){delete this._pageController,this._hzScrollBar&&this._hzScrollBar.dispose(),this._vtScrollBar&&this._vtScrollBar.dispose(),this._header&&this._header.dispose(),this._footer&&this._footer.dispose()},s.hitTest=function(t,e){var i;return this._vtScrollBar&&(i=this._vtScrollBar.hitTest(e))||this._hzScrollBar&&(i=this._hzScrollBar.hitTest(e))||this._header&&this._header.node.activeInHierarchy&&(i=this._header.hitTest(e))||this._footer&&this._footer.node.activeInHierarchy&&(i=this._footer.hitTest(e))?i:t.x>=this._owner.margin.left&&t.y>=this._owner.margin.top&&t.x<this._owner.margin.left+this._viewSize.x&&t.y<this._owner.margin.top+this._viewSize.y?this._owner:null},s.setPercX=function(t,e){this._owner.ensureBoundsCorrect(),this.setPosX(this._overlapSize.x*L.clamp01(t),e)},s.setPercY=function(t,e){this._owner.ensureBoundsCorrect(),this.setPosY(this._overlapSize.y*L.clamp01(t),e)},s.setPosX=function(t,e){this._owner.ensureBoundsCorrect(),1==this._loop&&(t=this.loopCheckingNewPos(t,"x")),(t=L.clamp(t,0,this._overlapSize.x))!=this._xPos&&(this._xPos=t,this.posChanged(e))},s.setPosY=function(t,e){this._owner.ensureBoundsCorrect(),1==this._loop&&(t=this.loopCheckingNewPos(t,"y")),(t=L.clamp(t,0,this._overlapSize.y))!=this._yPos&&(this._yPos=t,this.posChanged(e))},s.setCurrentPageX=function(t,e){this._pageMode&&(this._owner.ensureBoundsCorrect(),this._overlapSize.x>0&&this.setPosX(t*this._pageSize.x,e))},s.setCurrentPageY=function(t,e){this._pageMode&&(this._owner.ensureBoundsCorrect(),this._overlapSize.y>0&&this.setPosY(t*this._pageSize.y,e))},s.scrollTop=function(t){this.setPercY(0,t)},s.scrollBottom=function(t){this.setPercY(1,t)},s.scrollUp=function(t,e){null==t&&(t=1),this._pageMode?this.setPosY(this._yPos-this._pageSize.y*t,e):this.setPosY(this._yPos-this._scrollStep*t,e)},s.scrollDown=function(t,e){null==t&&(t=1),this._pageMode?this.setPosY(this._yPos+this._pageSize.y*t,e):this.setPosY(this._yPos+this._scrollStep*t,e)},s.scrollLeft=function(t,e){null==t&&(t=1),this._pageMode?this.setPosX(this._xPos-this._pageSize.x*t,e):this.setPosX(this._xPos-this._scrollStep*t,e)},s.scrollRight=function(t,e){null==t&&(t=1),this._pageMode?this.setPosX(this._xPos+this._pageSize.x*t,e):this.setPosX(this._xPos+this._scrollStep*t,e)},s.scrollToView=function(t,e,i){var n;if(this._owner.ensureBoundsCorrect(),this._needRefresh&&this.refresh(),t instanceof de?t.parent!=this._owner?(t.parent.localToGlobalRect(t.x,t.y,t.width,t.height,pi),n=this._owner.globalToLocalRect(pi.x,pi.y,pi.width,pi.height,pi)):((n=pi).x=t.x,n.y=t.y,n.width=t.width,n.height=t.height):n=t,this._overlapSize.y>0){var s=this._yPos+this._viewSize.y;i||n.y<=this._yPos||n.height>=this._viewSize.y?this._pageMode?this.setPosY(Math.floor(n.y/this._pageSize.y)*this._pageSize.y,e):this.setPosY(n.y,e):n.y+n.height>s&&(this._pageMode?this.setPosY(Math.floor(n.y/this._pageSize.y)*this._pageSize.y,e):n.height<=this._viewSize.y/2?this.setPosY(n.y+2*n.height-this._viewSize.y,e):this.setPosY(n.y+n.height-this._viewSize.y,e))}if(this._overlapSize.x>0){var o=this._xPos+this._viewSize.x;i||n.x<=this._xPos||n.width>=this._viewSize.x?this._pageMode?this.setPosX(Math.floor(n.x/this._pageSize.x)*this._pageSize.x,e):this.setPosX(n.x,e):n.x+n.width>o&&(this._pageMode?this.setPosX(Math.floor(n.x/this._pageSize.x)*this._pageSize.x,e):n.width<=this._viewSize.x/2?this.setPosX(n.x+2*n.width-this._viewSize.x,e):this.setPosX(n.x+n.width-this._viewSize.x,e))}!e&&this._needRefresh&&this.refresh()},s.isChildInView=function(t){if(this._overlapSize.y>0){var e=t.y+-this._container.position.y;if(e<-t.height||e>this._viewSize.y)return!1}return!(this._overlapSize.x>0&&((e=t.x+this._container.position.x)<-t.width||e>this._viewSize.x))},s.cancelDragging=function(){n.draggingPane==this&&(n.draggingPane=null),ci=0,this._dragged=!1},s.lockHeader=function(t){if(this._headerLockedSize!=t){var e=this._container.position.x,i=-this._container.position.y,n="x"==this._refreshBarAxis?e:i;this._headerLockedSize=t,!this._refreshEventDispatching&&n>=0&&(this._tweenStart.x=e,this._tweenStart.y=i,this._tweenChange.set(h.ZERO),this._tweenChange[this._refreshBarAxis]=this._headerLockedSize-this._tweenStart[this._refreshBarAxis],this._tweenDuration.x=this._tweenDuration.y=ui,this.startTween(2))}},s.lockFooter=function(t){if(this._footerLockedSize!=t){var e=this._container.position.x,i=-this._container.position.y,n="x"==this._refreshBarAxis?e:i;if(this._footerLockedSize=t,!this._refreshEventDispatching&&n<=-this._overlapSize[this._refreshBarAxis]){this._tweenStart.x=e,this._tweenStart.y=i,this._tweenChange.set(h.ZERO);var s=this._overlapSize[this._refreshBarAxis];0==s?s=Math.max(this._contentSize[this._refreshBarAxis]+this._footerLockedSize-this._viewSize[this._refreshBarAxis],0):s+=this._footerLockedSize,this._tweenChange[this._refreshBarAxis]=-s-this._tweenStart[this._refreshBarAxis],this._tweenDuration.x=this._tweenDuration.y=ui,this.startTween(2)}}},s.onOwnerSizeChanged=function(){this.setSize(this._owner.width,this._owner.height),this.posChanged(!1)},s.handleControllerChanged=function(t){this._pageController==t&&(this._scrollType==pt.Horizontal?this.setCurrentPageX(t.selectedIndex,!0):this.setCurrentPageY(t.selectedIndex,!0))},s.updatePageController=function(){var t;if(this._pageController&&!this._pageController.changing&&(t=this._scrollType==pt.Horizontal?this.currentPageX:this.currentPageY)<this._pageController.pageCount){var e=this._pageController;this._pageController=null,e.selectedIndex=t,this._pageController=e}},s.adjustMaskContainer=function(){var t=0;this._displayOnLeft&&this._vtScrollBar&&!this._floating&&(t=this._vtScrollBar.width);var e=this._owner;this._dontClipMargin?this._maskContainer._uiProps.uiTransformComp.setAnchorPoint((e.margin.left+e._alignOffset.x)/e.width,1-(e.margin.top+e._alignOffset.y)/e.height):this._maskContainer._uiProps.uiTransformComp.setAnchorPoint(e._alignOffset.x/this._viewSize.x,1-e._alignOffset.y/this._viewSize.y),e._customMask?this._maskContainer.setPosition(t+e._alignOffset.x,-e._alignOffset.y):this._maskContainer.setPosition(e._pivotCorrectX+t+e._alignOffset.x,e._pivotCorrectY-e._alignOffset.y)},s.setSize=function(t,e){this._hzScrollBar&&(this._hzScrollBar.y=e-this._hzScrollBar.height,this._vtScrollBar?(this._hzScrollBar.width=t-this._vtScrollBar.width-this._scrollBarMargin.left-this._scrollBarMargin.right,this._displayOnLeft?this._hzScrollBar.x=this._scrollBarMargin.left+this._vtScrollBar.width:this._hzScrollBar.x=this._scrollBarMargin.left):(this._hzScrollBar.width=t-this._scrollBarMargin.left-this._scrollBarMargin.right,this._hzScrollBar.x=this._scrollBarMargin.left)),this._vtScrollBar&&(this._displayOnLeft||(this._vtScrollBar.x=t-this._vtScrollBar.width),this._hzScrollBar?this._vtScrollBar.height=e-this._hzScrollBar.height-this._scrollBarMargin.top-this._scrollBarMargin.bottom:this._vtScrollBar.height=e-this._scrollBarMargin.top-this._scrollBarMargin.bottom,this._vtScrollBar.y=this._scrollBarMargin.top),this._viewSize.x=t,this._viewSize.y=e,this._hzScrollBar&&!this._floating&&(this._viewSize.y-=this._hzScrollBar.height),this._vtScrollBar&&!this._floating&&(this._viewSize.x-=this._vtScrollBar.width),this._viewSize.x-=this._owner.margin.left+this._owner.margin.right,this._viewSize.y-=this._owner.margin.top+this._owner.margin.bottom,this._viewSize.x=Math.max(1,this._viewSize.x),this._viewSize.y=Math.max(1,this._viewSize.y),this._pageSize.x=this._viewSize.x,this._pageSize.y=this._viewSize.y,this.adjustMaskContainer(),this.handleSizeChanged()},s.setContentSize=function(t,e){this._contentSize.x==t&&this._contentSize.y==e||(this._contentSize.x=t,this._contentSize.y=e,this.handleSizeChanged(),this._snapToItem&&0!=this._snappingPolicy&&0==this._xPos&&0==this._yPos&&this.posChanged(!1))},s.changeContentSizeOnScrolling=function(t,e,i,n){var s=this._xPos==this._overlapSize.x,o=this._yPos==this._overlapSize.y;this._contentSize.x+=t,this._contentSize.y+=e,this.handleSizeChanged(),1==this._tweening?(0!=t&&s&&this._tweenChange.x<0&&(this._xPos=this._overlapSize.x,this._tweenChange.x=-this._xPos-this._tweenStart.x),0!=e&&o&&this._tweenChange.y<0&&(this._yPos=this._overlapSize.y,this._tweenChange.y=-this._yPos-this._tweenStart.y)):2==this._tweening?(0!=i&&(this._container.setPosition(this._container.position.x-i,this._container.position.y),this._tweenStart.x-=i,this._xPos=-this._container.position.x),0!=n&&(this._container.setPosition(this._container.position.x,this._container.position.y+n),this._tweenStart.y-=n,this._yPos=- -this._container.position.y)):this._dragged?(0!=i&&(this._container.setPosition(this._container.position.x-i,this._container.position.y),this._containerPos.x-=i,this._xPos=-this._container.position.x),0!=n&&(this._container.setPosition(this._container.position.x,this._container.position.y+n),this._containerPos.y-=n,this._yPos=- -this._container.position.y)):(0!=t&&s&&(this._xPos=this._overlapSize.x,this._container.setPosition(-this._xPos,this._container.position.y)),0!=e&&o&&(this._yPos=this._overlapSize.y,this._container.setPosition(this._container.position.x,this._yPos))),this._pageMode&&this.updatePageController()},s.handleSizeChanged=function(){this._displayInDemand&&(this._vScrollNone=this._contentSize.y<=this._viewSize.y,this._hScrollNone=this._contentSize.x<=this._viewSize.x),this._vtScrollBar&&(0==this._contentSize.y?this._vtScrollBar.setDisplayPerc(0):this._vtScrollBar.setDisplayPerc(Math.min(1,this._viewSize.y/this._contentSize.y))),this._hzScrollBar&&(0==this._contentSize.x?this._hzScrollBar.setDisplayPerc(0):this._hzScrollBar.setDisplayPerc(Math.min(1,this._viewSize.x/this._contentSize.x))),this.updateScrollBarVisible();var t=this._viewSize.x,e=this._viewSize.y;this._vScrollNone&&this._vtScrollBar&&(t+=this._vtScrollBar.width),this._hScrollNone&&this._hzScrollBar&&(e+=this._hzScrollBar.height),this._dontClipMargin&&(t+=this._owner.margin.left+this._owner.margin.right,e+=this._owner.margin.top+this._owner.margin.bottom),this._maskContainer._uiProps.uiTransformComp.setContentSize(t,e),this._vtScrollBar&&this._vtScrollBar.handlePositionChanged(),this._hzScrollBar&&this._hzScrollBar.handlePositionChanged(),this._header&&this._header.handlePositionChanged(),this._footer&&this._footer.handlePositionChanged(),this._scrollType==pt.Horizontal||this._scrollType==pt.Both?this._overlapSize.x=Math.ceil(Math.max(0,this._contentSize.x-this._viewSize.x)):this._overlapSize.x=0,this._scrollType==pt.Vertical||this._scrollType==pt.Both?this._overlapSize.y=Math.ceil(Math.max(0,this._contentSize.y-this._viewSize.y)):this._overlapSize.y=0,this._xPos=L.clamp(this._xPos,0,this._overlapSize.x),this._yPos=L.clamp(this._yPos,0,this._overlapSize.y);var i=this._overlapSize[this._refreshBarAxis];0==i?i=Math.max(this._contentSize[this._refreshBarAxis]+this._footerLockedSize-this._viewSize[this._refreshBarAxis],0):i+=this._footerLockedSize,"x"==this._refreshBarAxis?this._container.setPosition(L.clamp(this._container.position.x,-i,this._headerLockedSize),-L.clamp(-this._container.position.y,-this._overlapSize.y,0)):this._container.setPosition(L.clamp(this._container.position.x,-this._overlapSize.x,0),-L.clamp(-this._container.position.y,-i,this._headerLockedSize)),this._header&&("x"==this._refreshBarAxis?this._header.height=this._viewSize.y:this._header.width=this._viewSize.x),this._footer&&("y"==this._refreshBarAxis?this._footer.height=this._viewSize.y:this._footer.width=this._viewSize.x),this.updateScrollBarPos(),this._pageMode&&this.updatePageController()},s.posChanged=function(t){0==this._aniFlag?this._aniFlag=t?1:-1:1!=this._aniFlag||t||(this._aniFlag=-1),this._needRefresh=!0,M.getScheduler().isScheduled(this.refresh,this)||this.scheduleOnce(this.refresh)},s.refresh=function(t){this._needRefresh=!1,this.unschedule(this.refresh),(this._pageMode||this._snapToItem)&&(mi.x=-this._xPos,mi.y=-this._yPos,this.alignPosition(mi,!1),this._xPos=-mi.x,this._yPos=-mi.y),this.refresh2(),this._owner.node.emit(Bt.SCROLL,this._owner),this._needRefresh&&(this._needRefresh=!1,this.unschedule(this.refresh),this.refresh2()),this.updateScrollBarPos(),this._aniFlag=0},s.refresh2=function(){var t,e;1!=this._aniFlag||this._dragged?(0!=this._tweening&&this.killTween(),this._container.setPosition(Math.floor(-this._xPos),-Math.floor(-this._yPos)),this.loopCheckingCurrent()):(this._overlapSize.x>0?t=-Math.floor(this._xPos):(0!=this._container.position.x&&this._container.setPosition(0,this._container.position.y),t=0),this._overlapSize.y>0?e=-Math.floor(this._yPos):(0!=this._container.position.y&&this._container.setPosition(this._container.position.x,0),e=0),t!=this._container.position.x||e!=-this._container.position.y?(this._tweenDuration.x=this._tweenDuration.y=di,this._tweenStart.x=this._container.position.x,this._tweenStart.y=-this._container.position.y,this._tweenChange.x=t-this._tweenStart.x,this._tweenChange.y=e-this._tweenStart.y,this.startTween(1)):0!=this._tweening&&this.killTween()),this._pageMode&&this.updatePageController()},s.onTouchBegin=function(t){if(this._touchEffect){t.captureTouch(),0!=this._tweening?(this.killTween(),Se.GRoot.inst.inputProcessor.cancelClick(t.touchId),this._dragged=!0):this._dragged=!1;var e=this._owner.globalToLocal(t.pos.x,t.pos.y,gi);this._containerPos.x=this._container.position.x,this._containerPos.y=-this._container.position.y,this._beginTouchPos.set(e),this._lastTouchPos.set(e),this._lastTouchGlobalPos.set(t.pos),this._isHoldAreaDone=!1,this._velocity.set(h.ZERO),this._velocityScale=1,this._lastMoveTime=E.totalTime/1e3}},s.onTouchMove=function(t){if(p(this._owner.node)&&this._touchEffect&&!(de.draggingObject&&de.draggingObject.onStage||n.draggingPane&&n.draggingPane!=this&&n.draggingPane._owner.onStage)){var e,i,s,o=this._owner.globalToLocal(t.pos.x,t.pos.y,gi),r=_e.touchScrollSensitivity;if(this._scrollType==pt.Vertical){if(!this._isHoldAreaDone){if(ci|=1,(e=Math.abs(this._beginTouchPos.y-o.y))<r)return;if(0!=(2&ci)&&e<Math.abs(this._beginTouchPos.x-o.x))return}i=!0}else if(this._scrollType==pt.Horizontal){if(!this._isHoldAreaDone){if(ci|=2,(e=Math.abs(this._beginTouchPos.x-o.x))<r)return;if(0!=(1&ci)&&e<Math.abs(this._beginTouchPos.y-o.y))return}s=!0}else{if(ci=3,!this._isHoldAreaDone&&(e=Math.abs(this._beginTouchPos.y-o.y))<r&&(e=Math.abs(this._beginTouchPos.x-o.x))<r)return;i=s=!0}var h=Math.floor(this._containerPos.x+o.x-this._beginTouchPos.x),a=Math.floor(this._containerPos.y+o.y-this._beginTouchPos.y);i&&(a>0?this._bouncebackEffect?this._header&&0!=this._header.maxHeight?this._container.setPosition(this._container.position.x,-Math.floor(Math.min(.5*a,this._header.maxHeight))):this._container.setPosition(this._container.position.x,-Math.floor(Math.min(.5*a,this._viewSize.y*fi))):this._container.setPosition(this._container.position.x,0):a<-this._overlapSize.y?this._bouncebackEffect?this._footer&&this._footer.maxHeight>0?this._container.setPosition(this._container.position.x,-Math.floor(Math.max(.5*(a+this._overlapSize.y),-this._footer.maxHeight)-this._overlapSize.y)):this._container.setPosition(this._container.position.x,-Math.floor(Math.max(.5*(a+this._overlapSize.y),-this._viewSize.y*fi)-this._overlapSize.y)):this._container.setPosition(this._container.position.x,this._overlapSize.y):this._container.setPosition(this._container.position.x,-a)),s&&(h>0?this._bouncebackEffect?this._header&&0!=this._header.maxWidth?this._container.setPosition(Math.floor(Math.min(.5*h,this._header.maxWidth)),this._container.position.y):this._container.setPosition(Math.floor(Math.min(.5*h,this._viewSize.x*fi)),this._container.position.y):this._container.setPosition(0,this._container.position.y):h<0-this._overlapSize.x?this._bouncebackEffect?this._footer&&this._footer.maxWidth>0?this._container.setPosition(Math.floor(Math.max(.5*(h+this._overlapSize.x),-this._footer.maxWidth)-this._overlapSize.x),this._container.position.y):this._container.setPosition(Math.floor(Math.max(.5*(h+this._overlapSize.x),-this._viewSize.x*fi)-this._overlapSize.x),this._container.position.y):this._container.setPosition(-this._overlapSize.x,this._container.position.y):this._container.setPosition(h,this._container.position.y));var l=E.totalTime/1e3,_=Math.max(l-this._lastMoveTime,1/60),c=o.x-this._lastTouchPos.x,d=o.y-this._lastTouchPos.y;if(s||(c=0),i||(d=0),0!=_){var u=60*_-1;if(u>1){var f=Math.pow(.833,u);this._velocity.x=this._velocity.x*f,this._velocity.y=this._velocity.y*f}this._velocity.x=L.lerp(this._velocity.x,60*c/60/_,10*_),this._velocity.y=L.lerp(this._velocity.y,60*d/60/_,10*_)}var g=this._lastTouchGlobalPos.x-t.pos.x,m=this._lastTouchGlobalPos.y-t.pos.y;0!=c?this._velocityScale=Math.abs(g/c):0!=d&&(this._velocityScale=Math.abs(m/d)),this._lastTouchPos.set(o),this._lastTouchGlobalPos.set(t.pos),this._lastMoveTime=l,this._overlapSize.x>0&&(this._xPos=L.clamp(-this._container.position.x,0,this._overlapSize.x)),this._overlapSize.y>0&&(this._yPos=L.clamp(- -this._container.position.y,0,this._overlapSize.y)),0!=this._loop&&(h=this._container.position.x,a=-this._container.position.y,this.loopCheckingCurrent()&&(this._containerPos.x+=this._container.position.x-h,this._containerPos.y+=-this._container.position.y-a)),n.draggingPane=this,this._isHoldAreaDone=!0,this._dragged=!0,this.updateScrollBarPos(),this.updateScrollBarVisible(),this._pageMode&&this.updatePageController(),this._owner.node.emit(Bt.SCROLL)}},s.onTouchEnd=function(t){if(n.draggingPane==this&&(n.draggingPane=null),ci=0,this._dragged&&this._touchEffect&&this._owner.node.activeInHierarchy){this._dragged=!1,this._tweenStart.x=this._container.position.x,this._tweenStart.y=-this._container.position.y,mi.set(this._tweenStart);var e=!1;if(this._container.position.x>0?(mi.x=0,e=!0):this._container.position.x<-this._overlapSize.x&&(mi.x=-this._overlapSize.x,e=!0),-this._container.position.y>0?(mi.y=0,e=!0):-this._container.position.y<-this._overlapSize.y&&(mi.y=-this._overlapSize.y,e=!0),e){if(this._tweenChange.x=mi.x-this._tweenStart.x,this._tweenChange.y=mi.y-this._tweenStart.y,this._tweenChange.x<-_e.touchDragSensitivity||this._tweenChange.y<-_e.touchDragSensitivity?(this._refreshEventDispatching=!0,this._owner.node.emit(Bt.PULL_DOWN_RELEASE),this._owner,this._refreshEventDispatching=!1):(this._tweenChange.x>_e.touchDragSensitivity||this._tweenChange.y>_e.touchDragSensitivity)&&(this._refreshEventDispatching=!0,this._owner.node.emit(Bt.PULL_UP_RELEASE,this._owner),this._refreshEventDispatching=!1),this._headerLockedSize>0&&0==mi[this._refreshBarAxis])mi[this._refreshBarAxis]=this._headerLockedSize,this._tweenChange.x=mi.x-this._tweenStart.x,this._tweenChange.y=mi.y-this._tweenStart.y;else if(this._footerLockedSize>0&&mi[this._refreshBarAxis]==-this._overlapSize[this._refreshBarAxis]){var i=this._overlapSize[this._refreshBarAxis];0==i?i=Math.max(this._contentSize[this._refreshBarAxis]+this._footerLockedSize-this._viewSize[this._refreshBarAxis],0):i+=this._footerLockedSize,mi[this._refreshBarAxis]=-i,this._tweenChange.x=mi.x-this._tweenStart.x,this._tweenChange.y=mi.y-this._tweenStart.y}this._tweenDuration.x=this._tweenDuration.y=ui}else{if(this._inertiaDisabled)this._tweenDuration.x=this._tweenDuration.y=ui;else{var s=60*(E.totalTime/1e3-this._lastMoveTime)-1;if(s>1){var o=Math.pow(.833,s);this._velocity.x=this._velocity.x*o,this._velocity.y=this._velocity.y*o}this.updateTargetAndDuration(this._tweenStart,mi)}if(yi.x=mi.x-this._tweenStart.x,yi.y=mi.y-this._tweenStart.y,this.loopCheckingTarget(mi),(this._pageMode||this._snapToItem)&&this.alignPosition(mi,!0),this._tweenChange.x=mi.x-this._tweenStart.x,this._tweenChange.y=mi.y-this._tweenStart.y,0==this._tweenChange.x&&0==this._tweenChange.y)return void this.updateScrollBarVisible();(this._pageMode||this._snapToItem)&&(this.fixDuration("x",yi.x),this.fixDuration("y",yi.y))}this.startTween(2)}else this._dragged=!1},s.onRollOver=function(){this._hover=!0,this.updateScrollBarVisible()},s.onRollOut=function(){this._hover=!1,this.updateScrollBarVisible()},s.onMouseWheel=function(t){if(this._mouseWheelEnabled){var e=t.mouseWheelDelta>0?-1:1;this._overlapSize.x>0&&0==this._overlapSize.y?this._pageMode?this.setPosX(this._xPos+this._pageSize.x*e,!1):this.setPosX(this._xPos+this._mouseWheelStep*e,!1):this._pageMode?this.setPosY(this._yPos+this._pageSize.y*e,!1):this.setPosY(this._yPos+this._mouseWheelStep*e,!1)}},s.updateScrollBarPos=function(){this._vtScrollBar&&this._vtScrollBar.setScrollPerc(0==this._overlapSize.y?0:L.clamp(this._container.position.y,0,this._overlapSize.y)/this._overlapSize.y),this._hzScrollBar&&this._hzScrollBar.setScrollPerc(0==this._overlapSize.x?0:L.clamp(-this._container.position.x,0,this._overlapSize.x)/this._overlapSize.x),this.checkRefreshBar()},s.updateScrollBarVisible=function(){this._vtScrollBar&&(this._viewSize.y<=this._vtScrollBar.minSize||this._vScrollNone?this._vtScrollBar.node.active=!1:this.updateScrollBarVisible2(this._vtScrollBar)),this._hzScrollBar&&(this._viewSize.x<=this._hzScrollBar.minSize||this._hScrollNone?this._hzScrollBar.node.active=!1:this.updateScrollBarVisible2(this._hzScrollBar))},s.updateScrollBarVisible2=function(t){this._scrollBarDisplayAuto&&ie.kill(t,!1,"alpha"),!this._scrollBarDisplayAuto||this._hover||0!=this._tweening||this._dragged||t.gripDragging?(t.alpha=1,t.node.active=!0):t.node.active&&ie.to(1,0,.5).setDelay(.5).onComplete(this.__barTweenComplete,this).setTarget(t,"alpha")},s.__barTweenComplete=function(t){var e=t.target;e.alpha=1,e.node.active=!1},s.getLoopPartSize=function(t,e){return(this._contentSize[e]+("x"==e?this._owner.columnGap:this._owner.lineGap))/t},s.loopCheckingCurrent=function(){var t=!1;return 1==this._loop&&this._overlapSize.x>0?this._xPos<.001?(this._xPos+=this.getLoopPartSize(2,"x"),t=!0):this._xPos>=this._overlapSize.x&&(this._xPos-=this.getLoopPartSize(2,"x"),t=!0):2==this._loop&&this._overlapSize.y>0&&(this._yPos<.001?(this._yPos+=this.getLoopPartSize(2,"y"),t=!0):this._yPos>=this._overlapSize.y&&(this._yPos-=this.getLoopPartSize(2,"y"),t=!0)),t&&this._container.setPosition(Math.floor(-this._xPos),-Math.floor(-this._yPos)),t},s.loopCheckingTarget=function(t){1==this._loop&&this.loopCheckingTarget2(t,"x"),2==this._loop&&this.loopCheckingTarget2(t,"y")},s.loopCheckingTarget2=function(t,e){var i,n;t[e]>0?(i=this.getLoopPartSize(2,e),(n=this._tweenStart[e]-i)<=0&&n>=-this._overlapSize[e]&&(t[e]-=i,this._tweenStart[e]=n)):t[e]<-this._overlapSize[e]&&(i=this.getLoopPartSize(2,e),(n=this._tweenStart[e]+i)<=0&&n>=-this._overlapSize[e]&&(t[e]+=i,this._tweenStart[e]=n))},s.loopCheckingNewPos=function(t,e){if(0==this._overlapSize[e])return t;var i,n="x"==e?this._xPos:this._yPos,s=!1;return t<.001?(t+=this.getLoopPartSize(2,e))>n&&(i=this.getLoopPartSize(6,e),i=Math.ceil((t-n)/i)*i,n=L.clamp(n+i,0,this._overlapSize[e]),s=!0):t>=this._overlapSize[e]&&(t-=this.getLoopPartSize(2,e))<n&&(i=this.getLoopPartSize(6,e),i=Math.ceil((n-t)/i)*i,n=L.clamp(n-i,0,this._overlapSize[e]),s=!0),s&&("x"==e?this._container.setPosition(-Math.floor(n),this._container.position.y):this._container.setPosition(this._container.position.x,Math.floor(n))),t},s.alignPosition=function(t,e){var i=0,n=0;if(1==this._snappingPolicy){if(this._owner.numChildren>0){var s=this._owner.getChildAt(0);i=Math.floor(.5*this._viewSize.x-.5*s.width),n=Math.floor(.5*this._viewSize.y-.5*s.height)}}else if(2==this._snappingPolicy&&this._owner.numChildren>0){var o=this._owner.getChildAt(0);i=Math.floor(this._viewSize.x-o.width),n=Math.floor(this._viewSize.y-o.height)}if(t.x-=i,t.y-=n,this._pageMode)t.x=this.alignByPage(t.x,"x",e),t.y=this.alignByPage(t.y,"y",e);else if(this._snapToItem){var r=this._owner.getSnappingPosition(-t.x,-t.y,gi);t.x<0&&t.x>-this._overlapSize.x&&(t.x=-r.x),t.y<0&&t.y>-this._overlapSize.y&&(t.y=-r.y)}t.x+=i,t.y+=n},s.alignByPage=function(t,e,i){var n;if(t>0)n=0;else if(t<-this._overlapSize[e])n=Math.ceil(this._contentSize[e]/this._pageSize[e])-1;else{n=Math.floor(-t/this._pageSize[e]);var s=i?t-this._containerPos[e]:t-("x"==e?this._container.position.x:-this._container.position.y),o=Math.min(this._pageSize[e],this._contentSize[e]-(n+1)*this._pageSize[e]),r=-t-n*this._pageSize[e];Math.abs(s)>this._pageSize[e]?r>.5*o&&n++:r>o*(s<0?.3:.7)&&n++,(t=-n*this._pageSize[e])<-this._overlapSize[e]&&(t=-this._overlapSize[e])}if(i){var h,a=this._tweenStart[e];h=a>0?0:a<-this._overlapSize[e]?Math.ceil(this._contentSize[e]/this._pageSize[e])-1:Math.floor(-a/this._pageSize[e]);var l=Math.floor(-this._containerPos[e]/this._pageSize[e]);Math.abs(n-l)>1&&Math.abs(h-l)<=1&&(t=-(n=n>l?l+1:l-1)*this._pageSize[e])}return t},s.updateTargetAndDuration=function(t,e){e.x=this.updateTargetAndDuration2(t.x,"x"),e.y=this.updateTargetAndDuration2(t.y,"y")},s.updateTargetAndDuration2=function(t,e){var i=this._velocity[e],n=0;if(t>0)t=0;else if(t<-this._overlapSize[e])t=-this._overlapSize[e];else{var s=Math.abs(i)*this._velocityScale;R.windowSize;var o=0;this._pageMode,s>500&&(o=Math.pow((s-500)/500,2)),0!=o&&(o>1&&(o=1),s*=o,i*=o,this._velocity[e]=i,n=Math.log(60/s)/Math.log(this._decelerationRate)/60,t+=Math.floor(i*n*.4))}return n<ui&&(n=ui),this._tweenDuration[e]=n,t},s.fixDuration=function(t,e){if(!(0==this._tweenChange[t]||Math.abs(this._tweenChange[t])>=Math.abs(e))){var i=Math.abs(this._tweenChange[t]/e)*this._tweenDuration[t];i<ui&&(i=ui),this._tweenDuration[t]=i}},s.startTween=function(t){this._tweenTime.set(h.ZERO),this._tweening=t,this.updateScrollBarVisible()},s.killTween=function(){1==this._tweening&&(this._container.setPosition(this._tweenStart.x+this._tweenChange.x,-(this._tweenStart.y+this._tweenChange.y)),this._owner.node.emit(Bt.SCROLL,this._owner)),this._tweening=0,this.updateScrollBarVisible(),this._owner.node.emit(Bt.SCROLL_END,this._owner)},s.checkRefreshBar=function(){if(null!=this._header||null!=this._footer){var t="x"==this._refreshBarAxis?this._container.position.x:-this._container.position.y;if(this._header)if(t>0){this._header.node.active=!0;var e=gi;e.x=this._header.width,e.y=this._header.height,e[this._refreshBarAxis]=t,this._header.setSize(e.x,e.y)}else this._header.node.active=!1;if(this._footer){var i=this._overlapSize[this._refreshBarAxis];t<-i||0==i&&this._footerLockedSize>0?(this._footer.node.active=!0,(e=gi).x=this._footer.x,e.y=this._footer.y,e[this._refreshBarAxis]=i>0?t+this._contentSize[this._refreshBarAxis]:Math.max(Math.min(t+this._viewSize[this._refreshBarAxis],this._viewSize[this._refreshBarAxis]-this._footerLockedSize),this._viewSize[this._refreshBarAxis]-this._contentSize[this._refreshBarAxis]),this._footer.setPosition(e.x,e.y),e.x=this._footer.width,e.y=this._footer.height,e[this._refreshBarAxis]=i>0?-i-t:this._viewSize[this._refreshBarAxis]-this._footer[this._refreshBarAxis],this._footer.setSize(e.x,e.y)):this._footer.node.active=!1}}},s.update=function(t){if(0!=this._tweening){var e=this.runTween("x",t),i=this.runTween("y",t);return this._container.setPosition(e,-i),2==this._tweening&&(this._overlapSize.x>0&&(this._xPos=L.clamp(-e,0,this._overlapSize.x)),this._overlapSize.y>0&&(this._yPos=L.clamp(-i,0,this._overlapSize.y)),this._pageMode&&this.updatePageController()),0==this._tweenChange.x&&0==this._tweenChange.y?(this._tweening=0,this.loopCheckingCurrent(),this.updateScrollBarPos(),this.updateScrollBarVisible(),this._owner.node.emit(Bt.SCROLL,this._owner),this._owner.node.emit(Bt.SCROLL_END,this._owner)):(this.updateScrollBarPos(),this._owner.node.emit(Bt.SCROLL,this._owner)),!0}},s.runTween=function(t,e){var i;if(0!=this._tweenChange[t]){if(this._tweenTime[t]+=e,this._tweenTime[t]>=this._tweenDuration[t])i=this._tweenStart[t]+this._tweenChange[t],this._tweenChange[t]=0;else{var n=function(t,e){return(t=t/e-1)*t*t+1}(this._tweenTime[t],this._tweenDuration[t]);i=this._tweenStart[t]+Math.floor(this._tweenChange[t]*n)}var s=0,o=-this._overlapSize[t];if(this._headerLockedSize>0&&this._refreshBarAxis==t&&(s=this._headerLockedSize),this._footerLockedSize>0&&this._refreshBarAxis==t){var r=this._overlapSize[this._refreshBarAxis];0==r?r=Math.max(this._contentSize[this._refreshBarAxis]+this._footerLockedSize-this._viewSize[this._refreshBarAxis],0):r+=this._footerLockedSize,o=-r}2==this._tweening&&this._bouncebackEffect?i>20+s&&this._tweenChange[t]>0||i>s&&0==this._tweenChange[t]?(this._tweenTime[t]=0,this._tweenDuration[t]=ui,this._tweenChange[t]=-i+s,this._tweenStart[t]=i):(i<o-20&&this._tweenChange[t]<0||i<o&&0==this._tweenChange[t])&&(this._tweenTime[t]=0,this._tweenDuration[t]=ui,this._tweenChange[t]=o-i,this._tweenStart[t]=i):i>s?(i=s,this._tweenChange[t]=0):i<o&&(i=o,this._tweenChange[t]=0)}else i="x"==t?this._container.position.x:-this._container.position.y;return i},i(n,[{key:"owner",get:function(){return this._owner}},{key:"hzScrollBar",get:function(){return this._hzScrollBar}},{key:"vtScrollBar",get:function(){return this._vtScrollBar}},{key:"header",get:function(){return this._header}},{key:"footer",get:function(){return this._footer}},{key:"bouncebackEffect",get:function(){return this._bouncebackEffect},set:function(t){this._bouncebackEffect=t}},{key:"touchEffect",get:function(){return this._touchEffect},set:function(t){this._touchEffect=t}},{key:"scrollStep",get:function(){return this._scrollStep},set:function(t){this._scrollStep=t,0==this._scrollStep&&(this._scrollStep=_e.defaultScrollStep),this._mouseWheelStep=2*this._scrollStep}},{key:"decelerationRate",get:function(){return this._decelerationRate},set:function(t){this._decelerationRate=t}},{key:"snapToItem",get:function(){return this._snapToItem},set:function(t){this._snapToItem=t}},{key:"snappingPolicy",get:function(){return this._snappingPolicy},set:function(t){this._snappingPolicy=t}},{key:"mouseWheelEnabled",get:function(){return this._mouseWheelEnabled},set:function(t){this._mouseWheelEnabled=t}},{key:"isDragged",get:function(){return this._dragged}},{key:"percX",get:function(){return 0==this._overlapSize.x?0:this._xPos/this._overlapSize.x},set:function(t){this.setPercX(t,!1)}},{key:"percY",get:function(){return 0==this._overlapSize.y?0:this._yPos/this._overlapSize.y},set:function(t){this.setPercY(t,!1)}},{key:"posX",get:function(){return this._xPos},set:function(t){this.setPosX(t,!1)}},{key:"posY",get:function(){return this._yPos},set:function(t){this.setPosY(t,!1)}},{key:"contentWidth",get:function(){return this._contentSize.x}},{key:"contentHeight",get:function(){return this._contentSize.y}},{key:"viewWidth",get:function(){return this._viewSize.x},set:function(t){t=t+this._owner.margin.left+this._owner.margin.right,this._vtScrollBar&&!this._floating&&(t+=this._vtScrollBar.width),this._owner.width=t}},{key:"viewHeight",get:function(){return this._viewSize.y},set:function(t){t=t+this._owner.margin.top+this._owner.margin.bottom,this._hzScrollBar&&!this._floating&&(t+=this._hzScrollBar.height),this._owner.height=t}},{key:"currentPageX",get:function(){if(!this._pageMode)return 0;var t=Math.floor(this._xPos/this._pageSize.x);return this._xPos-t*this._pageSize.x>.5*this._pageSize.x&&t++,t},set:function(t){this.setCurrentPageX(t,!1)}},{key:"currentPageY",get:function(){if(!this._pageMode)return 0;var t=Math.floor(this._yPos/this._pageSize.y);return this._yPos-t*this._pageSize.y>.5*this._pageSize.y&&t++,t},set:function(t){this.setCurrentPageY(t,!1)}},{key:"isBottomMost",get:function(){return this._yPos==this._overlapSize.y||0==this._overlapSize.y}},{key:"isRightMost",get:function(){return this._xPos==this._overlapSize.x||0==this._overlapSize.x}},{key:"pageController",get:function(){return this._pageController},set:function(t){this._pageController=t}},{key:"scrollingPosX",get:function(){return L.clamp(-this._container.position.x,0,this._overlapSize.x)}},{key:"scrollingPosY",get:function(){return L.clamp(- -this._container.position.y,0,this._overlapSize.y)}}]),n}(U)),ci=0,di=.5,ui=.3,fi=.5,gi=new h,pi=new d,mi=new h,yi=new h;!function(t){t[t.CRSpline=0]="CRSpline",t[t.Bezier=1]="Bezier",t[t.CubicBezier=2]="CubicBezier",t[t.Straight=3]="Straight"}(ai||(ai=t("CurveType",{})));var vi=t("GPathPoint",function(){function t(){this.x=0,this.y=0,this.control1_x=0,this.control1_y=0,this.control2_x=0,this.control2_y=0,this.curveType=0}return t.newPoint=function(e,i,n){var s=new t;return s.x=e||0,s.y=i||0,s.control1_x=0,s.control1_y=0,s.control2_x=0,s.control2_y=0,s.curveType=n||ai.CRSpline,s},t.newBezierPoint=function(e,i,n,s){var o=new t;return o.x=e||0,o.y=i||0,o.control1_x=n||0,o.control1_y=s||0,o.control2_x=0,o.control2_y=0,o.curveType=ai.Bezier,o},t.newCubicBezierPoint=function(e,i,n,s,o,r){var h=new t;return h.x=e||0,h.y=i||0,h.control1_x=n||0,h.control1_y=s||0,h.control2_x=o||0,h.control2_y=r||0,h.curveType=ai.CubicBezier,h},t.prototype.clone=function(){var e=new t;return e.x=this.x,e.y=this.y,e.control1_x=this.control1_x,e.control1_y=this.control1_y,e.control2_x=this.control2_x,e.control2_y=this.control2_y,e.curveType=this.curveType,e},t}()),wi=t("GPath",function(){function t(){this._segments=new Array,this._points=new Array}var e=t.prototype;return e.create2=function(t,e,i,n){var s=new Array;s.push(t),s.push(e),i&&s.push(i),n&&s.push(n),this.create(s)},e.create=function(t){this._segments.length=0,this._points.length=0,this._fullLength=0;var e=t.length;if(0!=e){var i=[],n=t[0];n.curveType==ai.CRSpline&&i.push(new h(n.x,n.y));for(var s=1;s<e;s++){var o=t[s];if(n.curveType!=ai.CRSpline){var r={};r.type=n.curveType,r.ptStart=this._points.length,n.curveType==ai.Straight?(r.ptCount=2,this._points.push(new h(n.x,n.y)),this._points.push(new h(o.x,o.y))):n.curveType==ai.Bezier?(r.ptCount=3,this._points.push(new h(n.x,n.y)),this._points.push(new h(o.x,o.y)),this._points.push(new h(n.control1_x,n.control1_y))):n.curveType==ai.CubicBezier&&(r.ptCount=4,this._points.push(new h(n.x,n.y)),this._points.push(new h(o.x,o.y)),this._points.push(new h(n.control1_x,n.control1_y)),this._points.push(new h(n.control2_x,n.control2_y))),r.length=Ci(n.x,n.y,o.x,o.y),this._fullLength+=r.length,this._segments.push(r)}o.curveType!=ai.CRSpline?i.length>0&&(i.push(new h(o.x,o.y)),this.createSplineSegment(i)):i.push(new h(o.x,o.y)),n=o}i.length>1&&this.createSplineSegment(i)}},e.createSplineSegment=function(t){var e=t.length;t.splice(0,0,t[0]),t.push(t[e]),t.push(t[e]),e+=3;var i={};i.type=ai.CRSpline,i.ptStart=this._points.length,i.ptCount=e,this._points=this._points.concat(t),i.length=0;for(var n=1;n<e;n++)i.length+=Ci(t[n-1].x,t[n-1].y,t[n].x,t[n].y);this._fullLength+=i.length,this._segments.push(i),t.length=0},e.clear=function(){this._segments.length=0,this._points.length=0},e.getPointAt=function(t,e){e?e.set(0,0):e=new h,t=L.clamp01(t);var i,n=this._segments.length;if(0==n)return e;if(1==t)return(i=this._segments[n-1]).type==ai.Straight?(e.x=L.lerp(this._points[i.ptStart].x,this._points[i.ptStart+1].x,t),e.y=L.lerp(this._points[i.ptStart].y,this._points[i.ptStart+1].y,t),e):i.type==ai.Bezier||i.type==ai.CubicBezier?this.onBezierCurve(i.ptStart,i.ptCount,t,e):this.onCRSplineCurve(i.ptStart,i.ptCount,t,e);for(var s=t*this._fullLength,o=0;o<n;o++)if((s-=(i=this._segments[o]).length)<0){t=1+s/i.length,i.type==ai.Straight?(e.x=L.lerp(this._points[i.ptStart].x,this._points[i.ptStart+1].x,t),e.y=L.lerp(this._points[i.ptStart].y,this._points[i.ptStart+1].y,t)):e=i.type==ai.Bezier||i.type==ai.CubicBezier?this.onBezierCurve(i.ptStart,i.ptCount,t,e):this.onCRSplineCurve(i.ptStart,i.ptCount,t,e);break}return e},e.getAnchorsInSegment=function(t,e){null==e&&(e=new Array);for(var i=this._segments[t],n=0;n<i.ptCount;n++)e.push(new h(this._points[i.ptStart+n].x,this._points[i.ptStart+n].y));return e},e.getPointsInSegment=function(t,e,i,n,s,o){null==n&&(n=new Array),o&&!isNaN(o)||(o=.1),s&&s.push(e);var r=this._segments[t];if(r.type==ai.Straight)n.push(new h(L.lerp(this._points[r.ptStart].x,this._points[r.ptStart+1].x,e),L.lerp(this._points[r.ptStart].y,this._points[r.ptStart+1].y,e))),n.push(new h(L.lerp(this._points[r.ptStart].x,this._points[r.ptStart+1].x,i),L.lerp(this._points[r.ptStart].y,this._points[r.ptStart+1].y,i)));else{var a;a=r.type==ai.Bezier||r.type==ai.CubicBezier?this.onBezierCurve:this.onCRSplineCurve,n.push(a.call(this,r.ptStart,r.ptCount,e,new h));for(var l=Math.min(r.length*o,50),_=0;_<=l;_++){var c=_/l;c>e&&c<i&&(n.push(a.call(this,r.ptStart,r.ptCount,c,new h)),s&&s.push(c))}n.push(a.call(this,r.ptStart,r.ptCount,i,new h))}return s&&s.push(i),n},e.getAllPoints=function(t,e,i){null==t&&(t=new Array),i&&!isNaN(i)||(i=.1);for(var n=this._segments.length,s=0;s<n;s++)this.getPointsInSegment(s,0,1,t,e,i);return t},e.onCRSplineCurve=function(t,e,i,n){var s=Math.floor(i*(e-4))+t,o=this._points[s].x,r=this._points[s].y,h=this._points[s+1].x,a=this._points[s+1].y,l=this._points[s+2].x,_=this._points[s+2].y,c=this._points[s+3].x,d=this._points[s+3].y,u=1==i?1:L.repeat(i*(e-4),1),f=((2-u)*u-1)*u*.5,g=.5*((3*u-5)*u*u+2),p=((-3*u+4)*u+1)*u*.5,m=(u-1)*u*u*.5;return n.x=o*f+h*g+l*p+c*m,n.y=r*f+a*g+_*p+d*m,n},e.onBezierCurve=function(t,e,i,n){var s=1-i,o=this._points[t].x,r=this._points[t].y,h=this._points[t+1].x,a=this._points[t+1].y,l=this._points[t+2].x,_=this._points[t+2].y;if(4==e){var c=this._points[t+3].x,d=this._points[t+3].y;n.x=s*s*s*o+3*s*s*i*l+3*s*i*i*c+i*i*i*h,n.y=s*s*s*r+3*s*s*i*_+3*s*i*i*d+i*i*i*a}else n.x=s*s*o+2*s*i*l+i*i*h,n.y=s*s*r+2*s*i*_+i*i*a;return n},i(t,[{key:"length",get:function(){return this._fullLength}},{key:"segmentCount",get:function(){return this._segments.length}}]),t}());function Ci(t,e,i,n){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-n,2))}var Si,xi=t("Transition",function(){function t(t){this._ownerBaseX=0,this._ownerBaseY=0,this._totalTimes=0,this._totalTasks=0,this._options=0,this._totalDuration=0,this._autoPlayTimes=1,this._autoPlayDelay=0,this._timeScale=1,this._startTime=0,this._endTime=0,this._owner=t,this._items=new Array}var e=t.prototype;return e.play=function(t,e,i,n,s){this._play(t,e,i,n,s,!1)},e.playReverse=function(t,e,i){this._play(t,e,i,0,-1,!0)},e.changePlayTimes=function(t){this._totalTimes=t},e.setAutoPlay=function(t,e,i){null==e&&(e=-1),null==i&&(i=0),this._autoPlay!=t&&(this._autoPlay=t,this._autoPlayTimes=e,this._autoPlayDelay=i,this._autoPlay?this._owner.onStage&&this.play(null,this._autoPlayTimes,this._autoPlayDelay):this._owner.onStage||this.stop(!1,!0))},e._play=function(t,e,i,n,s,o){null==e&&(e=1),null==i&&(i=0),null==n&&(n=0),null==s&&(s=-1),this.stop(!0,!0),this._totalTimes=e,this._reversed=o,this._startTime=n,this._endTime=s,this._playing=!0,this._paused=!1,this._onComplete=t;for(var r=this._items.length,h=0;h<r;h++){var a=this._items[h];if(null==a.target?a.targetId?a.target=this._owner.getChildById(a.targetId):a.target=this._owner:a.target!=this._owner&&a.target.parent!=this._owner&&(a.target=null),a.target&&a.type==Si.Transition){var l=a.target.getTransition(a.value.transName);if(l==this&&(l=null),l)if(0==a.value.playTimes){var _;for(_=h-1;_>=0;_--){var c=this._items[_];if(c.type==Si.Transition&&c.value.trans==l){c.value.stopTime=a.time-c.time;break}}_<0?a.value.stopTime=0:l=null}else a.value.stopTime=-1;a.value.trans=l}}0==i?this.onDelayedPlay():ie.delayedCall(i).setTarget(this).onComplete(this.onDelayedPlay,this)},e.stop=function(t,e){if(null==t&&(t=!0),this._playing){this._playing=!1,this._totalTasks=0,this._totalTimes=0;var i=this._onComplete;this._onComplete=null,ie.kill(this);var n=this._items.length;if(this._reversed)for(var s=n-1;s>=0;s--){var o=this._items[s];null!=o.target&&this.stopItem(o,t)}else for(s=0;s<n;s++)null!=(o=this._items[s]).target&&this.stopItem(o,t);e&&null!=i&&i()}},e.stopItem=function(t,e){if(0!=t.displayLockToken&&(t.target.releaseDisplayLock(t.displayLockToken),t.displayLockToken=0),t.tweener&&(t.tweener.kill(e),t.tweener=null,t.type!=Si.Shake||e||(t.target._gearLocked=!0,t.target.setPosition(t.target.x-t.value.lastOffsetX,t.target.y-t.value.lastOffsetY),t.target._gearLocked=!1)),t.type==Si.Transition){var i=t.value.trans;i&&i.stop(e,!1)}},e.setPaused=function(t){if(this._playing&&this._paused!=t){this._paused=t;var e=ie.getTween(this);e&&e.setPaused(t);for(var i=this._items.length,n=0;n<i;n++){var s=this._items[n];null!=s.target&&(s.type==Si.Transition?s.value.trans&&s.value.trans.setPaused(t):s.type==Si.Animation&&(t?(s.value.flag=s.target.getProp(bt.Playing),s.target.setProp(bt.Playing,!1)):s.target.setProp(bt.Playing,s.value.flag)),s.tweener&&s.tweener.setPaused(t))}}},e.dispose=function(){this._playing&&ie.kill(this);for(var t=this._items.length,e=0;e<t;e++){var i=this._items[e];i.tweener&&(i.tweener.kill(),i.tweener=null),i.target=null,i.hook=null,i.tweenConfig&&(i.tweenConfig.endHook=null)}this._items.length=0,this._playing=!1,this._onComplete=null},e.setValue=function(t){for(var e,i=this._items.length,n=0;n<i;n++){var s=this._items[n];if(s.label==t)e=s.tweenConfig?s.tweenConfig.startValue:s.value;else{if(!s.tweenConfig||s.tweenConfig.endLabel!=t)continue;e=s.tweenConfig.endValue}switch(s.type){case Si.XY:case Si.Size:case Si.Pivot:case Si.Scale:case Si.Skew:e.b1=!0,e.b2=!0,e.f1=parseFloat(arguments.length<=1?void 0:arguments[1]),e.f2=parseFloat(arguments.length<=2?void 0:arguments[2]);break;case Si.Alpha:case Si.Rotation:case Si.Color:e.f1=parseFloat(arguments.length<=1?void 0:arguments[1]);break;case Si.Animation:e.frame=parseInt(arguments.length<=1?void 0:arguments[1]),(arguments.length<=1?0:arguments.length-1)>1&&(e.playing=arguments.length<=2?void 0:arguments[2]);break;case Si.Visible:e.visible=arguments.length<=1?void 0:arguments[1];break;case Si.Sound:e.sound=arguments.length<=1?void 0:arguments[1],(arguments.length<=1?0:arguments.length-1)>1&&(e.volume=parseFloat(arguments.length<=2?void 0:arguments[2]));break;case Si.Transition:e.transName=arguments.length<=1?void 0:arguments[1],(arguments.length<=1?0:arguments.length-1)>1&&(e.playTimes=parseInt(arguments.length<=2?void 0:arguments[2]));break;case Si.Shake:e.amplitude=parseFloat(arguments.length<=1?void 0:arguments[1]),(arguments.length<=1?0:arguments.length-1)>1&&(e.duration=parseFloat(arguments.length<=2?void 0:arguments[2]));break;case Si.ColorFilter:e.f1=parseFloat(arguments.length<=1?void 0:arguments[1]),e.f2=parseFloat(arguments.length<=2?void 0:arguments[2]),e.f3=parseFloat(arguments.length<=3?void 0:arguments[3]),e.f4=parseFloat(arguments.length<=4?void 0:arguments[4]);break;case Si.Text:case Si.Icon:e.text=arguments.length<=1?void 0:arguments[1]}}},e.setHook=function(t,e){for(var i=this._items.length,n=0;n<i;n++){var s=this._items[n];if(s.label==t){s.hook=e;break}if(s.tweenConfig&&s.tweenConfig.endLabel==t){s.tweenConfig.endHook=e;break}}},e.clearHooks=function(){for(var t=this._items.length,e=0;e<t;e++){var i=this._items[e];i.hook=null,i.tweenConfig&&(i.tweenConfig.endHook=null)}},e.setTarget=function(t,e){for(var i=this._items.length,n=0;n<i;n++){var s=this._items[n];s.label==t&&(s.targetId=e.id,s.target=null)}},e.setDuration=function(t,e){for(var i=this._items.length,n=0;n<i;n++){var s=this._items[n];s.tweenConfig&&s.label==t&&(s.tweenConfig.duration=e)}},e.getLabelTime=function(t){for(var e=this._items.length,i=0;i<e;i++){var n=this._items[i];if(n.label==t)return n.time;if(n.tweenConfig&&n.tweenConfig.endLabel==t)return n.time+n.tweenConfig.duration}return Number.NaN},e.updateFromRelations=function(t,e,i){var n=this._items.length;if(0!=n)for(var s=0;s<n;s++){var o=this._items[s];o.type==Si.XY&&o.targetId==t&&(o.tweenConfig?(o.tweenConfig.startValue.f1+=e,o.tweenConfig.startValue.f2+=i,o.tweenConfig.endValue.f1+=e,o.tweenConfig.endValue.f2+=i):(o.value.f1+=e,o.value.f2+=i))}},e.onEnable=function(){this._autoPlay&&!this._playing&&this.play(null,this._autoPlayTimes,this._autoPlayDelay)},e.onDisable=function(){0==(this._options&Ii)&&this.stop(0!=(this._options&ki),!1)},e.onDelayedPlay=function(){if(this.internalPlay(),this._playing=this._totalTasks>0,this._playing){if(0!=(this._options&bi))for(var t=this._items.length,e=0;e<t;e++){var i=this._items[e];i.target&&i.target!=this._owner&&(i.displayLockToken=i.target.addDisplayLock())}}else if(null!=this._onComplete){var n=this._onComplete;this._onComplete=null,n()}},e.internalPlay=function(){this._ownerBaseX=this._owner.x,this._ownerBaseY=this._owner.y,this._totalTasks=1;var t,e,i=this._items.length,n=!1;if(this._reversed)for(e=i-1;e>=0;e--)null!=(t=this._items[e]).target&&this.playItem(t);else for(e=0;e<i;e++)null!=(t=this._items[e]).target&&(t.type==Si.Animation&&0!=this._startTime&&t.time<=this._startTime?(n=!0,t.value.flag=!1):this.playItem(t));n&&this.skipAnimations(),this._totalTasks--},e.playItem=function(t){var e;if(t.tweenConfig){if(e=this._reversed?this._totalDuration-t.time-t.tweenConfig.duration:t.time,-1==this._endTime||e<=this._endTime){var i,n;switch(this._reversed?(i=t.tweenConfig.endValue,n=t.tweenConfig.startValue):(i=t.tweenConfig.startValue,n=t.tweenConfig.endValue),t.value.b1=i.b1||n.b1,t.value.b2=i.b2||n.b2,t.type){case Si.XY:case Si.Size:case Si.Scale:case Si.Skew:t.tweener=ie.to2(i.f1,i.f2,n.f1,n.f2,t.tweenConfig.duration);break;case Si.Alpha:case Si.Rotation:t.tweener=ie.to(i.f1,n.f1,t.tweenConfig.duration);break;case Si.Color:t.tweener=ie.toColor(i.f1,n.f1,t.tweenConfig.duration);break;case Si.ColorFilter:t.tweener=ie.to4(i.f1,i.f2,i.f3,i.f4,n.f1,n.f2,n.f3,n.f4,t.tweenConfig.duration)}t.tweener.setDelay(e).setEase(t.tweenConfig.easeType).setRepeat(t.tweenConfig.repeat,t.tweenConfig.yoyo).setTimeScale(this._timeScale).setTarget(t).onStart(this.onTweenStart,this).onUpdate(this.onTweenUpdate,this).onComplete(this.onTweenComplete,this),this._endTime>=0&&t.tweener.setBreakpoint(this._endTime-e),this._totalTasks++}}else t.type==Si.Shake?(e=this._reversed?this._totalDuration-t.time-t.value.duration:t.time,t.value.offsetX=t.value.offsetY=0,t.value.lastOffsetX=t.value.lastOffsetY=0,t.tweener=ie.shake(0,0,t.value.amplitude,t.value.duration).setDelay(e).setTimeScale(this._timeScale).setTarget(t).onUpdate(this.onTweenUpdate,this).onComplete(this.onTweenComplete,this),this._endTime>=0&&t.tweener.setBreakpoint(this._endTime-t.time),this._totalTasks++):(e=this._reversed?this._totalDuration-t.time:t.time)<=this._startTime?(this.applyValue(t),this.callHook(t,!1)):(-1==this._endTime||e<=this._endTime)&&(this._totalTasks++,t.tweener=ie.delayedCall(e).setTimeScale(this._timeScale).setTarget(t).onComplete(this.onDelayedPlayItem,this));t.tweener&&t.tweener.seek(this._startTime)},e.skipAnimations=function(){for(var t,e,i,n,s,o,r=this._items.length,h=0;h<r;h++)if(!((o=this._items[h]).type!=Si.Animation||o.time>this._startTime||(n=o.value).flag)){t=(s=o.target).getProp(bt.Frame),e=s.getProp(bt.Playing)?0:-1,i=0;for(var a=h;a<r;a++)(o=this._items[a]).type!=Si.Animation||o.target!=s||o.time>this._startTime||((n=o.value).flag=!0,-1!=n.frame?(t=n.frame,e=n.playing?o.time:-1,i=0):n.playing?e<0&&(e=o.time):(e>=0&&(i+=o.time-e),e=-1),this.callHook(o,!1));e>=0&&(i+=this._startTime-e),s.setProp(bt.Playing,e>=0),s.setProp(bt.Frame,t),i>0&&s.setProp(bt.DeltaTime,i)}},e.onDelayedPlayItem=function(t){var e=t.target;e.tweener=null,this._totalTasks--,this.applyValue(e),this.callHook(e,!1),this.checkAllComplete()},e.onTweenStart=function(t){var e,i,n=t.target;n.type!=Si.XY&&n.type!=Si.Size||(this._reversed?(e=n.tweenConfig.endValue,i=n.tweenConfig.startValue):(e=n.tweenConfig.startValue,i=n.tweenConfig.endValue),n.type==Si.XY?n.target!=this._owner?(e.b1?e.b3&&(t.startValue.x=e.f1*this._owner.width):t.startValue.x=n.target.x,e.b2?e.b3&&(t.startValue.y=e.f2*this._owner.height):t.startValue.y=n.target.y,i.b1?i.b3&&(t.endValue.x=i.f1*this._owner.width):t.endValue.x=t.startValue.x,i.b2?i.b3&&(t.endValue.y=i.f2*this._owner.height):t.endValue.y=t.startValue.y):(e.b1||(t.startValue.x=n.target.x-this._ownerBaseX),e.b2||(t.startValue.y=n.target.y-this._ownerBaseY),i.b1||(t.endValue.x=t.startValue.x),i.b2||(t.endValue.y=t.startValue.y)):(e.b1||(t.startValue.x=n.target.width),e.b2||(t.startValue.y=n.target.height),i.b1||(t.endValue.x=t.startValue.x),i.b2||(t.endValue.y=t.startValue.y)),n.tweenConfig.path&&(n.value.b1=n.value.b2=!0,t.setPath(n.tweenConfig.path))),this.callHook(n,!1)},e.onTweenUpdate=function(t){var e=t.target;switch(e.type){case Si.XY:case Si.Size:case Si.Scale:case Si.Skew:e.value.f1=t.value.x,e.value.f2=t.value.y,e.tweenConfig.path&&(e.value.f1+=t.startValue.x,e.value.f2+=t.startValue.y);break;case Si.Alpha:case Si.Rotation:e.value.f1=t.value.x;break;case Si.Color:e.value.f1=t.value.color;break;case Si.ColorFilter:e.value.f1=t.value.x,e.value.f2=t.value.y,e.value.f3=t.value.z,e.value.f4=t.value.w;break;case Si.Shake:e.value.offsetX=t.deltaValue.x,e.value.offsetY=t.deltaValue.y}this.applyValue(e)},e.onTweenComplete=function(t){var e=t.target;e.tweener=null,this._totalTasks--,t.allCompleted&&this.callHook(e,!0),this.checkAllComplete()},e.onPlayTransCompleted=function(t){this._totalTasks--,this.checkAllComplete()},e.callHook=function(t,e){e?t.tweenConfig&&null!=t.tweenConfig.endHook&&t.tweenConfig.endHook(t.label):t.time>=this._startTime&&null!=t.hook&&t.hook(t.label)},e.checkAllComplete=function(){if(this._playing&&0==this._totalTasks)if(this._totalTimes<0)this.internalPlay(),0==this._totalTasks&&ie.delayedCall(0).setTarget(this).onComplete(this.checkAllComplete,this);else if(this._totalTimes--,this._totalTimes>0)this.internalPlay(),0==this._totalTasks&&ie.delayedCall(0).setTarget(this).onComplete(this.checkAllComplete,this);else{this._playing=!1;for(var t=this._items.length,e=0;e<t;e++){var i=this._items[e];i.target&&0!=i.displayLockToken&&(i.target.releaseDisplayLock(i.displayLockToken),i.displayLockToken=0)}if(null!=this._onComplete){var n=this._onComplete;this._onComplete=null,n()}}},e.applyValue=function(t){t.target._gearLocked=!0;var e=t.value;switch(t.type){case Si.XY:t.target==this._owner?e.b1&&e.b2?t.target.setPosition(e.f1+this._ownerBaseX,e.f2+this._ownerBaseY):e.b1?t.target.x=e.f1+this._ownerBaseX:t.target.y=e.f2+this._ownerBaseY:e.b3?e.b1&&e.b2?t.target.setPosition(e.f1*this._owner.width,e.f2*this._owner.height):e.b1?t.target.x=e.f1*this._owner.width:e.b2&&(t.target.y=e.f2*this._owner.height):e.b1&&e.b2?t.target.setPosition(e.f1,e.f2):e.b1?t.target.x=e.f1:e.b2&&(t.target.y=e.f2);break;case Si.Size:e.b1||(e.f1=t.target.width),e.b2||(e.f2=t.target.height),t.target.setSize(e.f1,e.f2);break;case Si.Pivot:t.target.setPivot(e.f1,e.f2,t.target.pivotAsAnchor);break;case Si.Alpha:t.target.alpha=e.f1;break;case Si.Rotation:t.target.rotation=e.f1;break;case Si.Scale:t.target.setScale(e.f1,e.f2);break;case Si.Skew:break;case Si.Color:var i=t.target.getProp(bt.Color);if(i instanceof a){var n=Math.floor(e.f1);i.r=n>>16&255,i.g=n>>8&255,i.b=255&n,t.target.setProp(bt.Color,i)}break;case Si.Animation:e.frame>=0&&t.target.setProp(bt.Frame,e.frame),t.target.setProp(bt.Playing,e.playing),t.target.setProp(bt.TimeScale,this._timeScale);break;case Si.Visible:t.target.visible=e.visible;break;case Si.Transition:if(this._playing){var s=e.trans;if(s){this._totalTasks++;var o=this._startTime>t.time?this._startTime-t.time:0,r=this._endTime>=0?this._endTime-t.time:-1;e.stopTime>=0&&(r<0||r>e.stopTime)&&(r=e.stopTime),s.timeScale=this._timeScale;var h=this;s._play((function(){h.onPlayTransCompleted(t)}),e.playTimes,0,o,r,this._reversed)}}break;case Si.Sound:if(this._playing&&t.time>=this._startTime){if(null==e.audioClip){var l=He.getItemByURL(e.sound);l&&(e.audioClip=l.owner.getItemAsset(l))}e.audioClip&&Se.GRoot.inst.playOneShotSound(e.audioClip,e.volume)}break;case Si.Shake:t.target.setPosition(t.target.x-e.lastOffsetX+e.offsetX,t.target.y-e.lastOffsetY+e.offsetY),e.lastOffsetX=e.offsetX,e.lastOffsetY=e.offsetY;break;case Si.ColorFilter:break;case Si.Text:t.target.text=e.text;break;case Si.Icon:t.target.icon=e.text}t.target._gearLocked=!1},e.setup=function(t){this.name=t.readS(),this._options=t.readInt(),this._autoPlay=t.readBool(),this._autoPlayTimes=t.readInt(),this._autoPlayDelay=t.readFloat();for(var e=t.readShort(),i=0;i<e;i++){var n=t.readShort(),s=t.position;t.seek(s,0);var o=new Pi(t.readByte());this._items[i]=o,o.time=t.readFloat();var r=t.readShort();if(o.targetId=r<0?"":this._owner.getChildAt(r).id,o.label=t.readS(),t.readBool()){if(t.seek(s,1),o.tweenConfig=new Ti,o.tweenConfig.duration=t.readFloat(),o.time+o.tweenConfig.duration>this._totalDuration&&(this._totalDuration=o.time+o.tweenConfig.duration),o.tweenConfig.easeType=t.readByte(),o.tweenConfig.repeat=t.readInt(),o.tweenConfig.yoyo=t.readBool(),o.tweenConfig.endLabel=t.readS(),t.seek(s,2),this.decodeValue(o,t,o.tweenConfig.startValue),t.seek(s,3),this.decodeValue(o,t,o.tweenConfig.endValue),t.version>=2){var h=t.readInt();if(h>0){o.tweenConfig.path=new wi;for(var a=new Array,l=0;l<h;l++){var _=t.readByte();switch(_){case ai.Bezier:a.push(vi.newBezierPoint(t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat()));break;case ai.CubicBezier:a.push(vi.newCubicBezierPoint(t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat()));break;default:a.push(vi.newPoint(t.readFloat(),t.readFloat(),_))}}o.tweenConfig.path.create(a)}}}else o.time>this._totalDuration&&(this._totalDuration=o.time),t.seek(s,2),this.decodeValue(o,t,o.value);t.position=s+n}},e.decodeValue=function(t,e,i){switch(t.type){case Si.XY:case Si.Size:case Si.Pivot:case Si.Skew:i.b1=e.readBool(),i.b2=e.readBool(),i.f1=e.readFloat(),i.f2=e.readFloat(),e.version>=2&&t.type==Si.XY&&(i.b3=e.readBool());break;case Si.Alpha:case Si.Rotation:i.f1=e.readFloat();break;case Si.Scale:i.f1=e.readFloat(),i.f2=e.readFloat();break;case Si.Color:var n=e.readColor();i.f1=(n.r<<16)+(n.g<<8)+n.b;break;case Si.Animation:i.playing=e.readBool(),i.frame=e.readInt();break;case Si.Visible:i.visible=e.readBool();break;case Si.Sound:i.sound=e.readS(),i.volume=e.readFloat();break;case Si.Transition:i.transName=e.readS(),i.playTimes=e.readInt();break;case Si.Shake:i.amplitude=e.readFloat(),i.duration=e.readFloat();break;case Si.ColorFilter:i.f1=e.readFloat(),i.f2=e.readFloat(),i.f3=e.readFloat(),i.f4=e.readFloat();break;case Si.Text:case Si.Icon:i.text=e.readS()}},e.copyFrom=function(t,e){void 0===e&&(e=!0);var i=t._items.length;this.name=t.name,this._options=t._options,this._autoPlay=t._autoPlay,this._autoPlayTimes=t._autoPlayTimes,this._autoPlayDelay=t._autoPlayDelay,this._totalDuration=t._totalDuration;for(var n=0;n<i;n++){var s=t._items[n].clone();if(e){var o=s.tweenConfig,r=t._items[n].tweenConfig;o&&(s.type==Si.Scale?(o.startValue&&(o.startValue.f1=r.startValue.f1*this._owner.scaleX,o.startValue.f2=r.startValue.f2*this._owner.scaleY),o.endValue&&(o.endValue.f1=r.endValue.f1*this._owner.scaleX,o.endValue.f2=r.endValue.f2*this._owner.scaleY)):s.type==Si.Alpha&&(o.startValue&&(o.startValue.f1=r.startValue.f1*this._owner.alpha),o.endValue&&(o.endValue.f1=r.endValue.f1*this._owner.alpha)))}this._items.push(s)}},i(t,[{key:"playing",get:function(){return this._playing}},{key:"timeScale",get:function(){return this._timeScale},set:function(t){if(this._timeScale!=t&&(this._timeScale=t,this._playing))for(var e=this._items.length,i=0;i<e;i++){var n=this._items[i];n.tweener?n.tweener.setTimeScale(t):n.type==Si.Transition?n.value.trans&&(n.value.trans.timeScale=t):n.type==Si.Animation&&n.target&&n.target.setProp(bt.TimeScale,t)}}}]),t}()),bi=1,Ii=2,ki=4;!function(t){t[t.XY=0]="XY",t[t.Size=1]="Size",t[t.Scale=2]="Scale",t[t.Pivot=3]="Pivot",t[t.Alpha=4]="Alpha",t[t.Rotation=5]="Rotation",t[t.Color=6]="Color",t[t.Animation=7]="Animation",t[t.Visible=8]="Visible",t[t.Sound=9]="Sound",t[t.Transition=10]="Transition",t[t.Shake=11]="Shake",t[t.ColorFilter=12]="ColorFilter",t[t.Skew=13]="Skew",t[t.Text=14]="Text",t[t.Icon=15]="Icon",t[t.Unknown=16]="Unknown"}(Si||(Si={}));var Pi=function(){function t(t){this.type=t,this.value={},this.displayLockToken=0}return t.prototype.clone=function(){var e=new t(this.type);return e.time=this.time,e.targetId=this.targetId,this.tweenConfig&&(e.tweenConfig=this.tweenConfig.clone()),e.label=this.label,e.value=Object.assign({},this.value),e},t}(),Ti=function(){function t(){this.easeType=zt.QuadOut,this.startValue={b1:!0,b2:!0},this.endValue={b1:!0,b2:!0}}return t.prototype.clone=function(){for(var e=Object.keys(this),i=new t,n=0;n<e.length;n++){var s=e[n],o=this[s];null!=o&&"endHook"!=s&&("object"==typeof o&&(o=Object.assign({},o)),i[s]=o)}return i},t}(),Bi=t("GComponent",function(t){function n(){var e;return(e=t.call(this)||this)._sortingChildCount=0,e._childrenRenderOrder=yt.Ascent,e._apexIndex=0,e._invertedMask=!1,e._excludeInvisibles=!1,e._onAddedToStage=null,e._onRemovedFromStage=null,e._node.name="GComponent",e._children=new Array,e._controllers=new Array,e._transitions=new Array,e._margin=new li,e._alignOffset=new h,e._container=new z("Container"),e._container.layer=_e.defaultUILayer,e._container.addComponent(A).setAnchorPoint(0,1),e._node.addChild(e._container),e._onAddedToStage=[],e._onRemovedFromStage=[],e}e(n,t);var s=n.prototype;return s.dispose=function(){var e,i;for(i=this._transitions.length,e=0;e<i;++e)this._transitions[e].dispose();for(i=this._controllers.length,e=0;e<i;++e)this._controllers[e].dispose();for(this._scrollPane&&this._scrollPane.destroy(),e=(i=this._children.length)-1;e>=0;--e){var n=this._children[e];n._parent=null,n.dispose()}this._boundsChanged=!1,t.prototype.dispose.call(this)},s.addChild=function(t){return this.addChildAt(t,this._children.length),t},s.addChildAt=function(t,e){if(!t)throw"child is null";var i=this._children.length;if(e>=0&&e<=i){if(t.parent==this)this.setChildIndex(t,e);else{t.removeFromParent(),t._parent=this;var s=this._children.length;if(0!=t.sortingOrder?(this._sortingChildCount++,e=this.getInsertPosForSortingChild(t)):this._sortingChildCount>0&&e>s-this._sortingChildCount&&(e=s-this._sortingChildCount),e==s?this._children.push(t):this._children.splice(e,0,t),t instanceof n)for(var o=0;o<t._onAddedToStage.length;o++)t._onAddedToStage[o]();this.onChildAdd(t,e),this.setBoundsChangedFlag()}return t}throw"Invalid child index"},s.getInsertPosForSortingChild=function(t){var e=this._children.length,i=0;for(i=0;i<e;i++){var n=this._children[i];if(n!=t&&t.sortingOrder<n.sortingOrder)break}return i},s.removeChild=function(t,e){var i=this._children.indexOf(t);return-1!=i&&this.removeChildAt(i,e),t},s.removeChildAt=function(t,e){if(t>=0&&t<this.numChildren){var i=this._children[t];return i._parent=null,0!=i.sortingOrder&&this._sortingChildCount--,this._children.splice(t,1),i.group=null,this._container.removeChild(i.node),this._childrenRenderOrder==yt.Arch&&this._partner.callLater(this.buildNativeDisplayList),e?i.dispose():i.node.parent=null,this.setBoundsChangedFlag(),i}throw"Invalid child index"},s.removeChildren=function(t,e,i){null==t&&(t=0),null==e&&(e=-1),(e<0||e>=this.numChildren)&&(e=this.numChildren-1);for(var n=t;n<=e;++n)this.removeChildAt(t,i)},s.getChildAt=function(t,e){if(t>=0&&t<this.numChildren)return this._children[t];throw"Invalid child index"},s.getChild=function(t,e){for(var i=this._children.length,n=0;n<i;++n)if(this._children[n].name==t)return this._children[n];return null},s.getChildByPath=function(t,e){for(var i,s=t.split("."),o=s.length,r=this,h=0;h<o&&(i=r.getChild(s[h]));++h)if(h!=o-1){if(!(i instanceof n)){i=null;break}r=i}return i},s.getVisibleChild=function(t){for(var e=this._children.length,i=0;i<e;++i){var n=this._children[i];if(n._finalVisible&&n.name==t)return n}return null},s.getChildInGroup=function(t,e){for(var i=this._children.length,n=0;n<i;++n){var s=this._children[n];if(s.group==e&&s.name==t)return s}return null},s.getChildById=function(t){for(var e=this._children.length,i=0;i<e;++i)if(this._children[i]._id==t)return this._children[i];return null},s.getChildIndex=function(t){return this._children.indexOf(t)},s.setChildIndex=function(t,e){var i=this._children.indexOf(t);if(-1==i)throw"Not a child of this container";if(0==t.sortingOrder){var n=this._children.length;this._sortingChildCount>0&&e>n-this._sortingChildCount-1&&(e=n-this._sortingChildCount-1),this._setChildIndex(t,i,e)}},s.setChildIndexBefore=function(t,e){var i=this._children.indexOf(t);if(-1==i)throw"Not a child of this container";if(0!=t.sortingOrder)return i;var n=this._children.length;return this._sortingChildCount>0&&e>n-this._sortingChildCount-1&&(e=n-this._sortingChildCount-1),i<e?this._setChildIndex(t,i,e-1):this._setChildIndex(t,i,e)},s._setChildIndex=function(t,e,i){var n=this._children.length;return i>n&&(i=n),e==i?e:(this._children.splice(e,1),this._children.splice(i,0,t),this._childrenRenderOrder==yt.Ascent?t.node.setSiblingIndex(i):this._childrenRenderOrder==yt.Descent?t.node.setSiblingIndex(n-i):this._partner.callLater(this.buildNativeDisplayList),this.setBoundsChangedFlag(),i)},s.swapChildren=function(t,e){var i=this._children.indexOf(t),n=this._children.indexOf(e);if(-1==i||-1==n)throw"Not a child of this container";this.swapChildrenAt(i,n)},s.swapChildrenAt=function(t,e){var i=this._children[t],n=this._children[e];this.setChildIndex(i,e),this.setChildIndex(n,t)},s.isAncestorOf=function(t){if(null==t)return!1;for(var e=t.parent;e;){if(e==this)return!0;e=e.parent}return!1},s.addController=function(t){this._controllers.push(t),t.parent=this,this.applyController(t)},s.getControllerAt=function(t){return this._controllers[t]},s.getController=function(t){for(var e=this._controllers.length,i=0;i<e;++i){var n=this._controllers[i];if(n.name==t)return n}return null},s.removeController=function(t){var e=this._controllers.indexOf(t);if(-1==e)throw"controller not exists";t.parent=null,this._controllers.splice(e,1);for(var i=this._children.length,n=0;n<i;n++)this._children[n].handleControllerChanged(t)},s.onChildAdd=function(t,e){if(t.node){if(t.node.parent=this._container,t.node.active=t._finalVisible,!this._buildingDisplayList){var i=this._children.length;this._childrenRenderOrder==yt.Ascent?t.node.setSiblingIndex(e):this._childrenRenderOrder==yt.Descent?t.node.setSiblingIndex(i-e):this._partner.callLater(this.buildNativeDisplayList)}}else console.error("child.node is null")},s.buildNativeDisplayList=function(t){if(isNaN(t)){var e=this._children.length;if(0!=e)switch(this._childrenRenderOrder){case yt.Ascent:for(var i=0,n=0;n<e;n++)this._children[n].node.setSiblingIndex(i++);break;case yt.Descent:for(var s=0,o=e-1;o>=0;o--)this._children[o].node.setSiblingIndex(s++);break;case yt.Arch:for(var r=0,h=0;h<this._apexIndex;h++)this._children[h].node.setSiblingIndex(r++);for(var a=e-1;a>=this._apexIndex;a--)this._children[a].node.setSiblingIndex(r++)}}else de.cast(this.node).buildNativeDisplayList()},s.applyController=function(t){this._applyingController=t;for(var e=this._children.length,i=0;i<e;i++)this._children[i].handleControllerChanged(t);this._applyingController=null,t.runActions()},s.applyAllControllers=function(){for(var t=this._controllers.length,e=0;e<t;++e)this.applyController(this._controllers[e])},s.adjustRadioGroupDepth=function(t,e){var i,n,s=this._children.length,o=-1,r=-1;for(i=0;i<s;i++)(n=this._children[i])==t?o=i:"relatedController"in n&&n.relatedController==e&&i>r&&(r=i);o<r&&(this._applyingController&&this._children[r].handleControllerChanged(this._applyingController),this.swapChildrenAt(o,r))},s.getTransitionAt=function(t){return this._transitions[t]},s.getTransition=function(t){for(var e=this._transitions.length,i=0;i<e;++i){var n=this._transitions[i];if(n.name==t)return n}return null},s.isChildInView=function(t){return this._rectMask?t.x+t.width>=0&&t.x<=this.width&&t.y+t.height>=0&&t.y<=this.height:!this._scrollPane||this._scrollPane.isChildInView(t)},s.getFirstChildInView=function(){for(var t=this._children.length,e=0;e<t;++e){var i=this._children[e];if(this.isChildInView(i))return e}return-1},s.setMask=function(t,e){if(this._maskContent&&(this._maskContent.node.off(z.EventType.TRANSFORM_CHANGED,this.onMaskContentChanged,this),this._maskContent.node.off(z.EventType.SIZE_CHANGED,this.onMaskContentChanged,this),this._maskContent.node.off(z.EventType.ANCHOR_CHANGED,this.onMaskContentChanged,this),this._maskContent.visible=!0),this._maskContent=t,this._maskContent){if(!(t instanceof Pe||t instanceof Ie))return;if(!this._customMask){var i=new z("Mask");i.layer=_e.defaultUILayer,i.addComponent(A),i.parent=this._node,this._scrollPane?this._container.parent.parent=i:this._container.parent=i,this._customMask=i.addComponent(O)}t.visible=!1,t.node.on(z.EventType.TRANSFORM_CHANGED,this.onMaskContentChanged,this),t.node.on(z.EventType.SIZE_CHANGED,this.onMaskContentChanged,this),t.node.on(z.EventType.ANCHOR_CHANGED,this.onMaskContentChanged,this),this._invertedMask=e,_e.enableDelayLoad&&this._maskContent instanceof Pe&&!this._maskContent._content.spriteFrame?this._maskContent.onReady=this.onMaskContentReady.bind(this):this.onMaskContentReady()}else this._customMask&&(this._scrollPane?this._container.parent.parent=this._node:this._container.parent=this._node,this._customMask.node.destroy(),this._customMask=null,this._scrollPane?this._scrollPane.adjustMaskContainer():this._container.setPosition(this._pivotCorrectX,this._pivotCorrectY))},s.onMaskContentReady=function(){this._node.activeInHierarchy?this.onMaskReady():this.on(Bt.DISPLAY,this.onMaskReady,this),this.onMaskContentChanged(),this._scrollPane?this._scrollPane.adjustMaskContainer():this._container.setPosition(0,0)},s.onMaskReady=function(){this.off(Bt.DISPLAY,this.onMaskReady,this),this._maskContent instanceof Pe?(this._customMask.type=O.Type.SPRITE_STENCIL,this._customMask.alphaThreshold=1e-4,this._customMask.spriteFrame=this._maskContent._content.spriteFrame):this._maskContent instanceof Ie&&(2==this._maskContent.type?this._customMask.type=O.Type.GRAPHICS_ELLIPSE:this._customMask.type=O.Type.GRAPHICS_RECT),this._customMask.inverted=this._invertedMask},s.onMaskContentChanged=function(){var t=this._customMask.node,e=t.getComponent(A),i=this._maskContent.node,n=this._maskContent._uiTrans,s=this._maskContent.width*this._maskContent.scaleX,o=this._maskContent.height*this._maskContent.scaleY;e.setContentSize(s,o);var r=i.position.x-n.anchorX*s,h=i.position.y-n.anchorY*o;e.setAnchorPoint(-r/e.width,-h/e.height),t.setPosition(this._pivotCorrectX,this._pivotCorrectY)},s.setupScroll=function(t){this._scrollPane=this._node.addComponent(_i),this._scrollPane.setup(t)},s.setupOverflow=function(t){t==ct.Hidden&&(this._rectMask=this._container.addComponent(O)),this._margin.isNone||this.handleSizeChanged()},s.handleAnchorChanged=function(){t.prototype.handleAnchorChanged.call(this),this._customMask?this._customMask.node.setPosition(this._pivotCorrectX,this._pivotCorrectY):this._scrollPane?this._scrollPane.adjustMaskContainer():this._container.setPosition(this._pivotCorrectX+this._alignOffset.x,this._pivotCorrectY-this._alignOffset.y)},s.handleSizeChanged=function(){t.prototype.handleSizeChanged.call(this),this._customMask?this._customMask.node.setPosition(this._pivotCorrectX,this._pivotCorrectY):this._scrollPane||this._container.setPosition(this._pivotCorrectX,this._pivotCorrectY),this._scrollPane?this._scrollPane.onOwnerSizeChanged():this._container._uiProps.uiTransformComp.setContentSize(this.viewWidth,this.viewHeight)},s.handleGrayedChanged=function(){var t=this.getController("grayed");if(t)t.selectedIndex=this.grayed?1:0;else for(var e=this.grayed,i=this._children.length,n=0;n<i;++n)this._children[n].grayed=e},s.handleControllerChanged=function(e){t.prototype.handleControllerChanged.call(this,e),this._scrollPane&&this._scrollPane.handleControllerChanged(e)},s._hitTest=function(t,e){if(this._customMask&&(zi.set(e),zi.y=ze.rootSize.height-e.y,!this._customMask.isHit(zi)))return null;if(this.hitArea){if(!this.hitArea.hitTest(t,e))return null}else if(this._rectMask){zi.set(t),zi.x+=this._container.position.x,zi.y+=this._container.position.y;var i=this._container._uiProps.uiTransformComp.contentSize;if(zi.x<0||zi.y<0||zi.x>=i.width||zi.y>=i.height)return null}if(this._scrollPane){var n=this._scrollPane.hitTest(t,e);if(!n)return null;if(n!=this)return n}for(var s=null,o=this._children.length-1;o>=0;o--){var r=this._children[o];if(this._maskContent!=r&&!r._touchDisabled&&(s=r.hitTest(e)))break}return!s&&this._opaque&&(this.hitArea||t.x>=0&&t.y>=0&&t.x<this._width&&t.y<this._height)&&(s=this),s},s.setBoundsChangedFlag=function(){(this._scrollPane||this._trackBounds)&&(this._boundsChanged||(this._boundsChanged=!0,this._partner.callLater(this.refresh)))},s.refresh=function(t){if(isNaN(t)){if(this._boundsChanged){var e=this._children.length;if(e>0)for(var i=0;i<e;i++)this._children[i].ensureSizeCorrect();this.updateBounds()}}else de.cast(this.node).refresh()},s.ensureBoundsCorrect=function(){var t=this._children.length;if(t>0)for(var e=0;e<t;e++)this._children[e].ensureSizeCorrect();this._boundsChanged&&this.updateBounds()},s.updateBounds=function(){var t=0,e=0,i=0,n=0,s=this._children.length;if(s>0){t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY;var o=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,h=0,a=0;for(a=0;a<s;a++){var l=this._children[a];this._excludeInvisibles&&!l.internalVisible3||((h=l.x)<t&&(t=h),(h=l.y)<e&&(e=h),(h=l.x+l.actualWidth)>o&&(o=h),(h=l.y+l.actualHeight)>r&&(r=h))}i=o-t,n=r-e}this.setBounds(t,e,i,n)},s.setBounds=function(t,e,i,n){void 0===n&&(n=0),this._boundsChanged=!1,this._scrollPane&&this._scrollPane.setContentSize(Math.round(t+i),Math.round(e+n))},s.getSnappingPosition=function(t,e,i){i||(i=new h);var n=this._children.length;if(0==n)return i.x=0,i.y=0,i;this.ensureBoundsCorrect();var s=null,o=null,r=0;if(0!=e){for(;r<n;r++)if(e<(s=this._children[r]).y){if(0==r){e=0;break}e=e<(o=this._children[r-1]).y+o.actualHeight/2?o.y:s.y;break}r==n&&(e=s.y)}if(0!=t){for(r>0&&r--;r<n;r++)if(t<(s=this._children[r]).x){if(0==r){t=0;break}t=t<(o=this._children[r-1]).x+o.actualWidth/2?o.x:s.x;break}r==n&&(t=s.x)}return i.x=t,i.y=e,i},s.childSortingOrderChanged=function(t,e,i){if(void 0===i&&(i=0),0==i)this._sortingChildCount--,this.setChildIndex(t,this._children.length);else{0==e&&this._sortingChildCount++;var n=this._children.indexOf(t),s=this.getInsertPosForSortingChild(t);n<s?this._setChildIndex(t,n,s-1):this._setChildIndex(t,n,s)}},s.constructFromResource=function(){this.constructFromResource2(null,0)},s.constructFromResource2=function(t,e){var i,n,s,o,r,h,a,l,_=this,c=this.packageItem.getBranch();c.decoded||(c.decoded=!0,Le.translateComponent(c));var d=c.rawData;d.seek(0,0),this._underConstruct=!0,this.sourceWidth=d.readInt(),this.sourceHeight=d.readInt(),this.initWidth=this.sourceWidth,this.initHeight=this.sourceHeight,this.setSize(this.sourceWidth,this.sourceHeight),d.readBool()&&(this.minWidth=d.readInt(),this.maxWidth=d.readInt(),this.minHeight=d.readInt(),this.maxHeight=d.readInt()),d.readBool()&&(r=d.readFloat(),h=d.readFloat(),this.setPivot(r,h,d.readBool())),d.readBool()&&(this._margin.top=d.readInt(),this._margin.bottom=d.readInt(),this._margin.left=d.readInt(),this._margin.right=d.readInt());var u=d.readByte();if(u==ct.Scroll){var f=d.position;d.seek(0,7),this.setupScroll(d),d.position=f}else this.setupOverflow(u);d.readBool()&&d.skip(8),this._buildingDisplayList=!0,d.seek(0,1);var g,p=d.readShort();for(i=0;i<p;i++){o=d.readShort(),o+=d.position;var m=new ri;this._controllers.push(m),m.parent=this,m.setup(d),d.position=o}d.seek(0,2);var y=d.readShort();for(i=0;i<y;i++){if(n=d.readShort(),s=d.position,t)g=t[e+i];else{d.seek(s,0);var v,w=d.readByte(),C=d.readS(),S=d.readS(),x=null;null!=C&&(x=(v=null!=S?He.getById(S):c.owner)?v.getItemById(C):null),x?(g=Ye.UIObjectFactory.newObject(x)).constructFromResource():g=Ye.UIObjectFactory.newObject(w)}g._underConstruct=!0,g.setup_beforeAdd(d,s),g._parent=this,g.node.parent=this._container,this._children.push(g),d.position=s+n}for(d.seek(0,3),this.relations.setup(d,!0),d.seek(0,2),d.skip(2),i=0;i<y;i++)o=d.readShort(),o+=d.position,d.seek(d.position,3),this._children[i].relations.setup(d,!1),d.position=o;for(d.seek(0,2),d.skip(2),i=0;i<y;i++)o=d.readShort(),o+=d.position,(g=this._children[i]).setup_afterAdd(d,d.position),g._underConstruct=!1,d.position=o;d.seek(0,4),d.skip(2),this.opaque=d.readBool();var b=d.readShort();-1!=b&&this.setMask(this.getChildAt(b),d.readBool());var I=d.readS();if(a=d.readInt(),l=d.readInt(),null!=I?(x=c.owner.getItemById(I))&&x.hitTestData&&(this.hitArea=new Ee(x.hitTestData,a,l)):0!=a&&-1!=l&&(this.hitArea=new Fe(this.getChildAt(l))),d.version>=5){var k=d.readS();null!=k&&this._onAddedToStage.push((function(){_.playBackGroundMusic2(k,1,!0)}));var P=d.readS();null!=P&&this._onAddedToStage.push((function(){_.playBackGroundMusic2(P,1,!0)}))}d.seek(0,5);var T=d.readShort();for(i=0;i<T;i++){o=d.readShort(),o+=d.position;var B=new xi(this);B.setup(d),this._transitions.push(B),d.position=o}this.applyAllControllers(),this._buildingDisplayList=!1,this._underConstruct=!1,this.buildNativeDisplayList(),this.setBoundsChangedFlag(),c.objectType!=ut.Component&&this.constructExtension(d),this.onConstruct()},s.constructExtension=function(t){},s.onConstruct=function(){},s.playOneShotSound2=function(t,e){var i=He.getItemByURL(t);if(i){var n=i.owner.getItemAsset(i);n&&Oi.inst.playOneShotSound(n,e)}},s.playBackGroundMusic2=function(t,e,i){var n=He.getItemByURL(t);if(n){var s=n.owner.getItemAsset(n);s&&Oi.inst.playBackGroundMusic(s,e,i)}},s.setup_afterAdd=function(e,i){t.prototype.setup_afterAdd.call(this,e,i),e.seek(i,4);var n=e.readShort();-1!=n&&this._scrollPane&&(this._scrollPane.pageController=this._parent.getControllerAt(n));for(var s=e.readShort(),o=0;o<s;o++){var r=this.getController(e.readS()),h=e.readS();r&&(r.selectedPageId=h)}if(e.version>=2)for(s=e.readShort(),o=0;o<s;o++){var a=e.readS(),l=e.readShort(),_=e.readS(),c=this.getChildByPath(a);c&&c.setProp(l,_)}},s.onEnable=function(){for(var t=this._transitions.length,e=0;e<t;++e)this._transitions[e].onEnable()},s.onDisable=function(){for(var t=this._transitions.length,e=0;e<t;++e)this._transitions[e].onDisable()},s.addTransition=function(t,e,i){void 0===i&&(i=!0);var n=new xi(this);n.copyFrom(t,i),e&&(n.name=e),this._transitions.push(n)},s.addControllerAction=function(t,e,i,n,s){void 0===s&&(s=!0);var o=this.getController(t);if(o){this.addTransition(e,null,s);var r=hi(0);r.transitionName=e.name,i&&(i=i.map((function(t){return o.getPageIdByName(t)}))),n&&(n=n.map((function(t){return o.getPageIdByName(t)}))),r.fromPage=i,r.toPage=n,o.addAction(r)}},i(n,[{key:"excludeInvisibles",get:function(){return this._excludeInvisibles},set:function(t){this._excludeInvisibles!=t&&(this._excludeInvisibles=t,this.setBoundsChangedFlag())}},{key:"enableLevelRender",get:function(){return this._container._enableLevelRender},set:function(t){this._container._enableLevelRender!=t&&(this._container._enableLevelRender=t)}},{key:"displayListContainer",get:function(){return this._container}},{key:"numChildren",get:function(){return this._children.length}},{key:"controllers",get:function(){return this._controllers}},{key:"scrollPane",get:function(){return this._scrollPane}},{key:"opaque",get:function(){return this._opaque},set:function(t){this._opaque=t}},{key:"margin",get:function(){return this._margin},set:function(t){this._margin.copy(t),this.handleSizeChanged()}},{key:"childrenRenderOrder",get:function(){return this._childrenRenderOrder},set:function(t){this._childrenRenderOrder!=t&&(this._childrenRenderOrder=t,this.buildNativeDisplayList())}},{key:"apexIndex",get:function(){return this._apexIndex},set:function(t){this._apexIndex!=t&&(this._apexIndex=t,this._childrenRenderOrder==yt.Arch&&this.buildNativeDisplayList())}},{key:"mask",get:function(){return this._maskContent},set:function(t){this.setMask(t,!1)}},{key:"_pivotCorrectX",get:function(){return-this.pivotX*this._width+this._margin.left}},{key:"_pivotCorrectY",get:function(){return this.pivotY*this._height-this._margin.top}},{key:"baseUserData",get:function(){var t=this.packageItem.rawData;return t.seek(0,4),t.readS()}},{key:"viewWidth",get:function(){return this._scrollPane?this._scrollPane.viewWidth:this.width-this._margin.left-this._margin.right},set:function(t){this._scrollPane?this._scrollPane.viewWidth=t:this.width=t+this._margin.left+this._margin.right}},{key:"viewHeight",get:function(){return this._scrollPane?this._scrollPane.viewHeight:this.height-this._margin.top-this._margin.bottom},set:function(t){this._scrollPane?this._scrollPane.viewHeight=t:this.height=t+this._margin.top+this._margin.bottom}}]),n}(de)),zi=new h,Ai=t("Window",function(t){function n(){var e;return(e=t.call(this)||this)._requestingCmd=0,e._uiSources=new Array,e.bringToFontOnClick=_e.bringWindowToFrontOnClick,e._node.on(Bt.TOUCH_BEGIN,e.onTouchBegin_1,s(e),!0),e}e(n,t);var o=n.prototype;return o.addUISource=function(t){this._uiSources.push(t)},o.show=function(){Oi.inst.showWindow(this)},o.showOn=function(t){t.showWindow(this)},o.hide=function(){this.isShowing&&this.doHideAnimation()},o.hideImmediately=function(){var t=this.parent instanceof Oi?this.parent:null;t||(t=Oi.inst),t.hideWindowImmediately(this)},o.centerOn=function(t,e){this.setPosition(Math.round((t.width-this.width)/2),Math.round((t.height-this.height)/2)),e&&(this.addRelation(t,Ct.Center_Center),this.addRelation(t,Ct.Middle_Middle))},o.toggleStatus=function(){this.isTop?this.hide():this.show()},o.bringToFront=function(){Oi.inst.bringToFront(this)},o.showModalWait=function(t){null!=t&&(this._requestingCmd=t),_e.windowModalWaiting&&(this._modalWaitPane||(this._modalWaitPane=He.createObjectFromURL(_e.windowModalWaiting)),this.layoutModalWaitPane(),this.addChild(this._modalWaitPane))},o.layoutModalWaitPane=function(){if(this._contentArea){var t=this._frame.localToGlobal();t=this.globalToLocal(t.x,t.y,t),this._modalWaitPane.setPosition(t.x+this._contentArea.x,t.y+this._contentArea.y),this._modalWaitPane.setSize(this._contentArea.width,this._contentArea.height)}else this._modalWaitPane.setSize(this.width,this.height)},o.closeModalWait=function(t){return(null==t||this._requestingCmd==t)&&(this._requestingCmd=0,this._modalWaitPane&&this._modalWaitPane.parent&&this.removeChild(this._modalWaitPane),!0)},o.init=function(){if(!this._inited&&!this._loading)if(this._uiSources.length>0){this._loading=!1;for(var t=this._uiSources.length,e=0;e<t;e++){var i=this._uiSources[e];i.loaded||(i.load(this.__uiLoadComplete,this),this._loading=!0)}this._loading||this._init()}else this._init()},o.onInit=function(){},o.onShown=function(){},o.onHide=function(){},o.doShowAnimation=function(){this.onShown()},o.doHideAnimation=function(){this.hideImmediately()},o.__uiLoadComplete=function(){for(var t=this._uiSources.length,e=0;e<t;e++)if(!this._uiSources[e].loaded)return;this._loading=!1,this._init()},o._init=function(){this._inited=!0,this.onInit(),this.isShowing&&this.doShowAnimation()},o.dispose=function(){this.parent&&this.hideImmediately(),t.prototype.dispose.call(this)},o.closeEventHandler=function(t){this.hide()},o.onEnable=function(){t.prototype.onEnable.call(this),this._inited?this.doShowAnimation():this.init()},o.onDisable=function(){t.prototype.onDisable.call(this),this.closeModalWait(),this.onHide()},o.onTouchBegin_1=function(t){this.isShowing&&this.bringToFontOnClick&&this.bringToFront()},o.onDragStart_1=function(t){de.cast(t.currentTarget).stopDrag(),this.startDrag(t.touchId)},i(n,[{key:"contentPane",get:function(){return this._contentPane},set:function(t){this._contentPane!=t&&(this._contentPane&&this.removeChild(this._contentPane),this._contentPane=t,this._contentPane&&(this.addChild(this._contentPane),this.setSize(this._contentPane.width,this._contentPane.height),this._contentPane.addRelation(this,Ct.Size),this._frame=this._contentPane.getChild("frame"),this._frame&&(this.closeButton=this._frame.getChild("closeButton"),this.dragArea=this._frame.getChild("dragArea"),this.contentArea=this._frame.getChild("contentArea"))))}},{key:"frame",get:function(){return this._frame}},{key:"closeButton",get:function(){return this._closeButton},set:function(t){this._closeButton&&this._closeButton.offClick(this.closeEventHandler,this),this._closeButton=t,this._closeButton&&this._closeButton.onClick(this.closeEventHandler,this)}},{key:"dragArea",get:function(){return this._dragArea},set:function(t){this._dragArea!=t&&(this._dragArea&&(this._dragArea.draggable=!1,this._dragArea.off(Bt.DRAG_START,this.onDragStart_1,this)),this._dragArea=t,this._dragArea&&(this._dragArea.draggable=!0,this._dragArea.on(Bt.DRAG_START,this.onDragStart_1,this)))}},{key:"contentArea",get:function(){return this._contentArea},set:function(t){this._contentArea=t}},{key:"isShowing",get:function(){return null!=this.parent}},{key:"isTop",get:function(){return this.parent&&this.parent.getChildIndex(this)==this.parent.numChildren-1}},{key:"modal",get:function(){return this._modal},set:function(t){this._modal=t}},{key:"modalWaiting",get:function(){return this._modalWaitPane&&null!=this._modalWaitPane.parent}}]),n}(Bi)),Oi=t("GRoot",function(t){function n(){var e;return(e=t.call(this)||this).enableAutoClosePopup=!0,e._node.name="GRoot",e.opaque=!1,e._soundVolume=1,e._musicVolume=1,e._popupStack=new Array,e._justClosedPopups=new Array,e._modalLayer=new Ie,e._modalLayer.setSize(e.width,e.height),e._modalLayer.drawRect(0,a.TRANSPARENT,_e.modalLayerColor),e._modalLayer.addRelation(s(e),Ct.Size),e._thisOnResized=e.onWinResize.bind(s(e)),e._inputProcessor=e.node.addComponent($e),e._inputProcessor._captureCallback=e.onTouchBegin_1,F.instance.on("design-resolution-changed",e.onWinResize,s(e)),F.instance.on("canvas-resize",e._thisOnResized),window.addEventListener("orientationchange",e._thisOnResized),e}e(n,t),n.create=function(){return n._inst=new n,M.getScene().getChildByName("Canvas").addChild(n._inst.node),n._inst.onWinResize(),n._inst};var o=n.prototype;return o.onDestroy=function(){F.instance.off("design-resolution-changed",this.onWinResize,this),F.instance.off("canvas-resize",this._thisOnResized),window.removeEventListener("orientationchange",this._thisOnResized),this==n._inst&&(n._inst=null)},o.getTouchPosition=function(t){return this._inputProcessor.getTouchPosition(t)},o.showWindow=function(t){this.addChild(t),t.requestFocus(),t.x>this.width?t.x=this.width-t.width:t.x+t.width<0&&(t.x=0),t.y>this.height?t.y=this.height-t.height:t.y+t.height<0&&(t.y=0),this.adjustModalLayer()},o.hideWindow=function(t){t.hide()},o.hideWindowImmediately=function(t){t.parent==this&&this.removeChild(t),this.adjustModalLayer()},o.bringToFront=function(t){var e,i=this.numChildren;for(e=this._modalLayer.parent&&!t.modal?this.getChildIndex(this._modalLayer)-1:i-1;e>=0;e--){var n=this.getChildAt(e);if(n==t)return;if(n instanceof Ai)break}e>=0&&this.setChildIndex(t,e)},o.showModalWait=function(t){var e;null!=_e.globalModalWaiting&&((null===(e=this._modalWaitPane)||void 0===e?void 0:e.isDisposed)&&(this._modalWaitPane=null),null==this._modalWaitPane&&(this._modalWaitPane=He.createObjectFromURL(_e.globalModalWaiting)),this._modalWaitPane.setSize(this.width,this.height),this._modalWaitPane.addRelation(this,Ct.Size),this.addChild(this._modalWaitPane),this._modalWaitPane.sortingOrder=1e4,this._modalWaitPane.text=t)},o.closeModalWait=function(){this._modalWaitPane&&this._modalWaitPane.parent&&this.removeChild(this._modalWaitPane)},o.closeAllExceptModals=function(){for(var t=this._children.slice(),e=t.length,i=0;i<e;i++){var n=t[i];n instanceof Ai&&!n.modal&&n.hide()}},o.closeAllWindows=function(){for(var t=this._children.slice(),e=t.length,i=0;i<e;i++){var n=t[i];n instanceof Ai&&n.hide()}},o.getTopWindow=function(){for(var t=this.numChildren-1;t>=0;t--){var e=this.getChildAt(t);if(e instanceof Ai)return e}return null},o.getPopupPosition=function(t,e,i,s){var o=s||new h,r=0,a=0;if(e){o=e.localToGlobal(),n.inst.globalToLocal(o.x,o.y,o);var l=e.localToGlobal(e.width,e.height);n.inst.globalToLocal(l.x,l.y,l),r=l.x-o.x,a=l.y-o.y}else o=this.getTouchPosition(),o=this.globalToLocal(o.x,o.y);return o.x+t.width>this.width&&(o.x=o.x+r-t.width),o.y+=a,((void 0===i||i===wt.Auto)&&o.y+t.height>this.height||!1===i||i===wt.Up)&&(o.y=o.y-a-t.height-1,o.y<0&&(o.y=0,o.x+=r/2)),o},o.removeChildAt=function(e,i){var n=t.prototype.removeChildAt.call(this,e,i);if(i&&n==this._modalWaitPane&&(this._modalWaitPane=null),n&&n instanceof Bi)for(var s=0;s<n._onRemovedFromStage.length;s++)n._onRemovedFromStage[s]();return n},o.showPopup=function(t,e,i){if(this._popupStack.length>0){var n=this._popupStack.indexOf(t);if(-1!=n)for(var s=this._popupStack.length-1;s>=n;s--)this.removeChild(this._popupStack.pop())}if(this._popupStack.push(t),e)for(var o=e;o;){if(o.parent==this){t.sortingOrder<o.sortingOrder&&(t.sortingOrder=o.sortingOrder);break}o=o.parent}this.addChild(t),this.adjustModalLayer();var r=this.getPopupPosition(t,e,i);t.setPosition(r.x,r.y)},o.togglePopup=function(t,e,i){-1==this._justClosedPopups.indexOf(t)&&this.showPopup(t,e,i)},o.hidePopup=function(t){if(t){var e=this._popupStack.indexOf(t);if(-1!=e)for(var i=this._popupStack.length-1;i>=e;i--)this.closePopup(this._popupStack.pop())}else{for(i=this._popupStack.length-1;i>=0;i--)this.closePopup(this._popupStack[i]);this._popupStack.length=0}},o.closePopup=function(t){t.parent&&(t instanceof Ai?t.hide():this.removeChild(t))},o.showTooltips=function(t){if(null==this._defaultTooltipWin){var e=_e.tooltipsWin;if(!e)return void console.error("UIConfig.tooltipsWin not defined");this._defaultTooltipWin=He.createObjectFromURL(e)}this._defaultTooltipWin.text=t,this.showTooltipsWin(this._defaultTooltipWin)},o.showTooltipsWin=function(t){this.hideTooltips(),this._tooltipWin=t;var e=this.getTouchPosition();e.x+=10,e.y+=20,this.globalToLocal(e.x,e.y,e),e.x+this._tooltipWin.width>this.width&&(e.x=e.x-this._tooltipWin.width-1,e.x<0&&(e.x=10)),e.y+this._tooltipWin.height>this.height&&(e.y=e.y-this._tooltipWin.height-1,e.y<0&&(e.y=10)),this._tooltipWin.setPosition(e.x,e.y),this.addChild(this._tooltipWin)},o.hideTooltips=function(){this._tooltipWin&&(this._tooltipWin.parent&&this.removeChild(this._tooltipWin),this._tooltipWin=null)},o.playOneShotSound=function(t,e){if(!this.audioEngine2){var i=new z("ShotSound");this.node.addChild(i),this.audioEngine2=i.addComponent(D)}void 0===e&&(e=1),this.audioEngine2.isValid&&this.audioEngine2.playOneShot(t,this._soundVolume*e)},o.playBackGroundMusic=function(t,e,i){if(!this.audioEngine){var n=new z("BackGroundMusic");this.node.addChild(n),this.audioEngine=n.addComponent(D)}void 0===e&&(e=1),this.audioEngine.isValid&&(this.audioEngine.clip==t&&this.audioEngine.loop==!!i||(this.audioEngine.stop(),this.audioEngine.clip=t,this.audioEngine.volume=this._musicVolume*e,this.audioEngine.loop=!!i,this.audioEngine.play()))},o.stopBackGroundMusic=function(){this.audioEngine.stop()},o.pauseBackGroundMusic=function(){this.audioEngine.pause()},o.resumeBackGroundMusic=function(){this.audioEngine.play()},o.adjustModalLayer=function(){var t=this.numChildren;this._modalWaitPane&&this._modalWaitPane.parent&&this.setChildIndex(this._modalWaitPane,t-1);for(var e=t-1;e>=0;e--){var i=this.getChildAt(e);if(i instanceof Ai&&i.modal)return void(null==this._modalLayer.parent?this.addChildAt(this._modalLayer,e):this.setChildIndexBefore(this._modalLayer,e))}this._modalLayer.parent&&this.removeChild(this._modalLayer)},o.onTouchBegin_1=function(t){if(this._tooltipWin&&this.hideTooltips(),this._justClosedPopups.length=0,this.enableAutoClosePopup&&this._popupStack.length>0){for(var e=t.initiator;e&&e!=this;){var i=this._popupStack.indexOf(e);if(-1!=i){for(var n=this._popupStack.length-1;n>i;n--){var s=this._popupStack.pop();this.closePopup(s),this._justClosedPopups.push(s)}return}e=e.findParent()}for(var o=this._popupStack.length-1;o>=0;o--)s=this._popupStack[o],this.closePopup(s),this._justClosedPopups.push(s);this._popupStack.length=0}},o.onWinResize=function(){(function(){var t=R.windowSize;t.width/=X.getScaleX(),t.height/=X.getScaleY(),ze.rootSize.set(t);var e=Math.max(X.getScaleX(),X.getScaleY());ze.scaleFactor=e,ze.scaleLevel=e>=3.5?3:e>=2.5?2:e>=1.5?1:0})(),this.setSize(ze.rootSize.width,ze.rootSize.height);var t=this.node.getParent()._uiProps.uiTransformComp.anchorPoint;this.node.setPosition(-this._width*t.x,this._height*(1-t.y))},o.handlePositionChanged=function(){},o.onUpdate=function(){t.prototype.onUpdate.call(this),this._inputProcessor.touching||Ae.update(E.frameTime/1e3)},i(n,[{key:"touchTarget",get:function(){return this._inputProcessor.getTouchTarget()}},{key:"inputProcessor",get:function(){return this._inputProcessor}},{key:"modalLayer",get:function(){return this._modalLayer}},{key:"hasModalWindow",get:function(){return null!=this._modalLayer.parent}},{key:"modalWaiting",get:function(){return this._modalWaitPane&&this._modalWaitPane.node.activeInHierarchy}},{key:"hasAnyPopup",get:function(){return 0!=this._popupStack.length}},{key:"musicVolume",get:function(){return this._musicVolume},set:function(t){if(!this.audioEngine){var e=new z("BackGroundMusic");this.node.addChild(e),this.audioEngine=e.addComponent(D)}this.audioEngine.isValid&&(this.audioEngine.volume=t,this._musicVolume=t)}},{key:"soundVolume",get:function(){return this._soundVolume},set:function(t){this._soundVolume=t}}],[{key:"inst",get:function(){if(!n._inst)throw"Call GRoot.create first!";return n._inst}}]),n}(Bi));Se.GRoot=Oi;var Li=t("GTextInput",function(t){function n(){var e;return(e=t.call(this)||this)._node.name="GTextInput",e._touchDisabled=!1,e}e(n,t);var s=n.prototype;return s.createRenderer=function(){this._editBox=this._node.addComponent(Mi),this._editBox.maxLength=-1,this._editBox._updateTextLabel(),this._node.on("text-changed",this.onTextChanged,this),this.on(Bt.TOUCH_END,this.onTouchEnd1,this),this.autoSize=ot.None},s.requestFocus=function(){this._editBox.focus()},s.markSizeChanged=function(){},s.updateText=function(){var t=this._text;this._templateVars&&(t=this.parseTemplate(t)),this._ubbEnabled&&(t=Qe.parse(t,!0)),this._editBox.string=t},s.updateFont=function(){this.assignFont(this._editBox.textLabel,this._realFont),this._editBox.placeholderLabel&&this.assignFont(this._editBox.placeholderLabel,this._realFont)},s.updateFontColor=function(){this.assignFontColor(this._editBox.textLabel,this._color)},s.updateFontSize=function(){this._editBox.textLabel.fontSize=this._fontSize,this._editBox.textLabel.lineHeight=this._fontSize+this._leading,this._editBox.placeholderLabel&&(this._editBox.placeholderLabel.fontSize=this._editBox.textLabel.fontSize)},s.updateOverflow=function(){},s.onTextChanged=function(){this._text=this._editBox.string},s.onTouchEnd1=function(t){this._editBox.openKeyboard()},s.setup_beforeAdd=function(e,i){t.prototype.setup_beforeAdd.call(this,e,i),e.seek(i,4);var n=e.readS();null!=n?this.promptText=n:this._editBox.placeholderLabel&&(this._editBox.placeholderLabel.string=""),null!=(n=e.readS())&&(this.restrict=n);var s=e.readInt();if(0!=s&&(this.maxLength=s),s=e.readInt(),e.readBool()&&(this.password=!0),this._editBox.placeholderLabel){var o=this._editBox.textLabel.horizontalAlign;this._editBox.placeholderLabel.horizontalAlign=o;var r=this._editBox.textLabel.verticalAlign;this._editBox.placeholderLabel.verticalAlign=r}},i(n,[{key:"editable",get:function(){return this._editBox.enabled},set:function(t){this._editBox.enabled=t}},{key:"maxLength",get:function(){return this._editBox.maxLength},set:function(t){0==t&&(t=-1),this._editBox.maxLength=t}},{key:"promptText",get:function(){return this._promptText},set:function(t){this._promptText=t;var e=!this._editBox.placeholderLabel;if(this._editBox._updatePlaceholderLabel(),e&&this.assignFont(this._editBox.placeholderLabel,this._realFont),this._editBox.placeholderLabel.string=Qe.parse(this._promptText,!0),Qe.lastColor){var i=this._editBox.placeholderLabel.color;i||(i=new a),i.fromHEX(Qe.lastColor),this.assignFontColor(this._editBox.placeholderLabel,i)}else this.assignFontColor(this._editBox.placeholderLabel,this._color);Qe.lastSize?this._editBox.placeholderLabel.fontSize=parseInt(Qe.lastSize):this._editBox.placeholderLabel.fontSize=this._fontSize}},{key:"restrict",get:function(){return""},set:function(t){}},{key:"password",get:function(){return this._editBox.inputFlag==J.InputFlag.PASSWORD},set:function(t){this._editBox.inputFlag=t?J.InputFlag.PASSWORD:J.InputFlag.DEFAULT}},{key:"align",get:function(){return this._editBox.textLabel.horizontalAlign},set:function(t){this._editBox.textLabel.horizontalAlign=t,this._editBox.placeholderLabel&&(this._editBox.placeholderLabel.horizontalAlign=t)}},{key:"verticalAlign",get:function(){return this._editBox.textLabel.verticalAlign},set:function(t){this._editBox.textLabel.verticalAlign=t,this._editBox.placeholderLabel&&(this._editBox.placeholderLabel.verticalAlign=t)}},{key:"singleLine",get:function(){return this._editBox.inputMode!=J.InputMode.ANY},set:function(t){this._editBox.inputMode=t?J.InputMode.SINGLE_LINE:J.InputMode.ANY}}]),n}(Ze)),Mi=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n._registerEvent=function(){this.placeholderLabel.getComponent(A).setAnchorPoint(0,1),this.textLabel.getComponent(A).setAnchorPoint(0,1),this.placeholderLabel.overflow=V.CLAMP,this.textLabel.overflow=V.CLAMP},n.openKeyboard=function(){var t=this._impl;t&&t.beginEditing()},i}(J),Ei=t("GObjectPool",function(){function t(){this._count=0,this._pool={}}var e=t.prototype;return e.clear=function(){for(var t in this._pool)for(var e=this._pool[t],i=e.length,n=0;n<i;n++)e[n].dispose();this._pool={},this._count=0},e.getObject=function(t){if(null==(t=He.normalizeURL(t)))return null;var e=this._pool[t];return e&&e.length?(this._count--,e.shift()):He.createObjectFromURL(t)},e.returnObject=function(t){var e=t.resourceURL;if(e){var i=this._pool[e];null==i&&(i=new Array,this._pool[e]=i),this._count++,i.push(t)}},i(t,[{key:"count",get:function(){return this._count}}]),t}()),Ri=new H((function(){return new w}),1),Fi=new Map,Di=t("GLoader",function(t){function n(){var e;return(e=t.call(this)||this).extension="",e._frame=0,e._dirtyVersion=0,e._externalAssets={},e._node.name="GLoader",e._playing=!0,e._url="",e._fill=at.None,e._align=rt.Left,e._verticalAlign=ht.Top,e._showErrorSign=!0,e._color=new a(255,255,255,255),e._container=new z("Image"),e._container.layer=_e.defaultUILayer,e._container.addComponent(A).setAnchorPoint(0,1),e._node.addChild(e._container),e._content=e._container.addComponent(Te),e._content.sizeMode=g.SizeMode.CUSTOM,e._content.trim=!1,e._content.setPlaySettings(),e}e(n,t);var s=n.prototype;return s.dispose=function(){this._content2&&(this._content2.dispose(),this._content2=null),t.prototype.dispose.call(this),this.clearContent()},s.loadContent=function(){this.clearContent(),this._url&&(this._url.startsWith("ui://")?this.loadFromPackage(this._url):this.loadExternal())},s.init=function(t,e,i){if(p(this.node)&&this._dirtyVersion==i)if(this._contentItem=t,this._contentItem.addRef(),this._autoSize&&this.setSize(this.sourceWidth,this.sourceHeight),this._contentItem.type==dt.Image)this._contentItem.asset?(this._content.spriteFrame=this._contentItem.asset,0==this._content.fillMethod?this._contentItem.scale9Grid?this._content.type=g.Type.SLICED:this._contentItem.scaleByTile?this._content.type=g.Type.TILED:this._content.type=g.Type.SIMPLE:this._content.type=g.Type.FILLED,this._content.__update(),this.updateLayout()):this.setErrorState();else if(this._contentItem.type==dt.MovieClip)this._content.interval=this._contentItem.interval,this._content.swing=this._contentItem.swing,this._content.repeatDelay=this._contentItem.repeatDelay,this._content.frames=this._contentItem.frames,this.updateLayout();else if(this._contentItem.type==dt.Component){var n=He.createObjectFromURL(e);n?n instanceof Bi?(this._content2=n,this._container.addChild(this._content2.node),this.updateLayout()):(n.dispose(),this.setErrorState()):this.setErrorState()}else this.setErrorState()},s.loadFromPackage=function(t){var e=this;this._dirtyVersion++;var i=this._dirtyVersion,n=He.getItemByURL(t);n?(n=n.getBranch(),this.sourceWidth=n.width,this.sourceHeight=n.height,n=n.getHighResolution(),!_e.enableDelayLoad||n.__loaded&&n.decoded||n.type==dt.Component?(n.load(),this.init(n,t,i)):n.loadAsync().then((function(){e.init(n,t,i)}))):this.setErrorState()},s.loadExternal=function(){var t=this,e=this.url,i=!1,n=function(t){function e(e,i){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(n,s){if(t.url==e&&p(t._node))if(n)console.warn(n);else{var o=[s];if(s instanceof w)t.onExternalLoadSuccess(s);else if(s instanceof v){var r=Ri.alloc();r.texture=s,o.push(r),t.onExternalLoadSuccess(r)}else if(s instanceof b){var h=Fi.get(e);h||(tt.isNative?h.image=s:((h=new v).reset({width:s.width,height:s.height}),h.uploadData(s.data)),Fi.set(e,h));var a=Ri.alloc();a.texture=h,o.push(h),o.push(a),t.onExternalLoadSuccess(a)}i&&_e.autoReleaseAssets&&t.addExternalAssetRef(t._url,o)}}));if(this.url.startsWith("http://")||this.url.startsWith("https://")||this.url.startsWith("/"))this.extension?y.loadRemote(this.url,{ext:this.extension},n):y.loadRemote(this.url,n),i=!0;else{var s=c,o=this.url;if(this.url.startsWith("db://")){var r=this.url.substring(5),h=r.indexOf("/"),a=r.substring(0,h);if(o=r.substring(h+1),!(s=y.getBundle(a)))return void console.error("bundle '"+a+"' not found")}s.load(o,N,n)}},s.addExternalAssetRef=function(t,e){if(!this._externalAssets[t]){this._externalAssets[t]=e;for(var i=0;i<e.length;i++)e[i].addRef()}},s.freeExternal=function(){for(var t in this._externalAssets)if(Object.prototype.hasOwnProperty.call(this._externalAssets,t))for(var e=this._externalAssets[t],i=0;i<e.length;i++){var n=e[i];n instanceof w?(n.decRef(!1),n.refCount<=0&&Ri.free(n)):(n.decRef(_e.autoReleaseAssets),_e.autoReleaseAssets&&n.refCount<=0&&(n instanceof v?(y.releaseAsset(n),Fi.delete(t)):y.releaseAsset(n)))}this._externalAssets={}},s.onExternalLoadSuccess=function(t){this._content.spriteFrame=t,this._content.type=g.Type.SIMPLE,this.sourceWidth=t.getRect().width,this.sourceHeight=t.getRect().height,this._autoSize&&this.setSize(this.sourceWidth,this.sourceHeight),this.updateLayout()},s.onExternalLoadFailed=function(){this.setErrorState()},s.setErrorState=function(){this._showErrorSign&&(null==this._errorSign&&null!=_e.loaderErrorSign&&(this._errorSign=n._errorSignPool.getObject(_e.loaderErrorSign)),this._errorSign&&(this._errorSign.setSize(this.width,this.height),this._container.addChild(this._errorSign.node)))},s.clearErrorState=function(){this._errorSign&&(this._container.removeChild(this._errorSign.node),n._errorSignPool.returnObject(this._errorSign),this._errorSign=null)},s.updateLayout=function(){if(null!=this._content2||null!=this._content){var t=this.sourceWidth,e=this.sourceHeight,i=-this.pivotX*this._width,n=this.pivotY*this._height;if(!this._autoSize||(this._updatingLayout=!0,0==t&&(t=50),0==e&&(e=30),this.setSize(t,e),this._updatingLayout=!1,this._container._uiProps.uiTransformComp.setContentSize(this._width,this._height),this._container.setPosition(i,n),this._content2&&(this._content2.setPosition(i+this._width*this.pivotX,n-this._height*this.pivotY),this._content2.setScale(1,1)),t!=this._width||e!=this._height)){var s,o,r=1,h=1;this._fill!=at.None&&(r=this.width/this.sourceWidth,h=this.height/this.sourceHeight,1==r&&1==h||(this._fill==at.ScaleMatchHeight?r=h:this._fill==at.ScaleMatchWidth?h=r:this._fill==at.Scale?r>h?r=h:h=r:this._fill==at.ScaleNoBorder&&(r>h?h=r:r=h),this._shrinkOnly&&(r>1&&(r=1),h>1&&(h=1)),t=this.sourceWidth*r,e=this.sourceHeight*h)),this._container._uiProps.uiTransformComp.setContentSize(t,e),this._content2&&(this._content2.setPosition(i+this._width*this.pivotX,n-this._height*this.pivotY),this._content2.setScale(r,h)),s=this._align==rt.Left?0:this._align==rt.Center?Math.floor((this._width-t)/2):this._width-t,o=-(o=this._verticalAlign==ht.Top?0:this._verticalAlign==ht.Middle?Math.floor((this._height-e)/2):this._height-e),this._container.setPosition(i+s,n+o)}}else this._autoSize&&(this._updatingLayout=!0,this.setSize(50,30),this._updatingLayout=!1)},s.clearContent=function(){this.clearErrorState(),this._contentItem&&this._contentItem.decRef(),this._content2&&(this._container.removeChild(this._content2.node),this._content2.dispose(),this._content2=null),this._content.frames=null,this._content.spriteFrame=null,this._contentItem=null,this.freeExternal()},s.handleSizeChanged=function(){t.prototype.handleSizeChanged.call(this),this._updatingLayout||this.updateLayout()},s.handleAnchorChanged=function(){t.prototype.handleAnchorChanged.call(this),this._updatingLayout||this.updateLayout()},s.handleGrayedChanged=function(){this._content.grayscale=this._grayed},s._hitTest=function(t,e){if(this._content2){var i=this._content2.hitTest(e);if(i)return i}return t.x>=0&&t.y>=0&&t.x<this._width&&t.y<this._height?this:null},s.getProp=function(e){switch(e){case bt.Color:return this.color;case bt.Playing:return this.playing;case bt.Frame:return this.frame;case bt.TimeScale:return this._content.timeScale;default:return t.prototype.getProp.call(this,e)}},s.setProp=function(e,i){switch(e){case bt.Color:this.color=i;break;case bt.Playing:this.playing=i;break;case bt.Frame:this.frame=i;break;case bt.TimeScale:this._content.timeScale=i;break;case bt.DeltaTime:this._content.advance(i);break;default:t.prototype.setProp.call(this,e,i)}},s.setup_beforeAdd=function(e,i){t.prototype.setup_beforeAdd.call(this,e,i),e.seek(i,5),this._url=e.readS(),this._align=e.readByte(),this._verticalAlign=e.readByte(),this._fill=e.readByte(),this._shrinkOnly=e.readBool(),this._autoSize=e.readBool(),this._showErrorSign=e.readBool(),this._playing=e.readBool(),this._frame=e.readInt(),e.readBool()&&(this.color=e.readColor()),this._url&&this.loadContent(),this._content.fillMethod=e.readByte(),0!=this._content.fillMethod&&(this._content.fillOrigin=e.readByte(),this._content.fillClockwise=e.readBool(),this._content.fillAmount=e.readFloat())},i(n,[{key:"url",get:function(){return this._url},set:function(t){this._url!=t&&(this._url=t,this.loadContent(),this.updateGear(7))}},{key:"icon",get:function(){return this._url},set:function(t){this.url=t}},{key:"align",get:function(){return this._align},set:function(t){this._align!=t&&(this._align=t,this.updateLayout())}},{key:"verticalAlign",get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.updateLayout())}},{key:"fill",get:function(){return this._fill},set:function(t){this._fill!=t&&(this._fill=t,this.updateLayout())}},{key:"shrinkOnly",get:function(){return this._shrinkOnly},set:function(t){this._shrinkOnly!=t&&(this._shrinkOnly=t,this.updateLayout())}},{key:"autoSize",get:function(){return this._autoSize},set:function(t){this._autoSize!=t&&(this._autoSize=t,this.updateLayout())}},{key:"playing",get:function(){return this._playing},set:function(t){this._playing!=t&&(this._playing=t,this._content instanceof Te&&(this._content.playing=t),this.updateGear(5))}},{key:"frame",get:function(){return this._frame},set:function(t){this._frame!=t&&(this._frame=t,this._content instanceof Te&&(this._content.frame=t),this.updateGear(5))}},{key:"color",get:function(){return this._color},set:function(t){this._color.set(t),this.updateGear(4),this._content.color=t}},{key:"fillMethod",get:function(){return this._content.fillMethod},set:function(t){this._content.fillMethod=t}},{key:"fillOrigin",get:function(){return this._content.fillOrigin},set:function(t){this._content.fillOrigin=t}},{key:"fillClockwise",get:function(){return this._content.fillClockwise},set:function(t){this._content.fillClockwise=t}},{key:"fillAmount",get:function(){return this._content.fillAmount},set:function(t){this._content.fillAmount=t}},{key:"showErrorSign",get:function(){return this._showErrorSign},set:function(t){this._showErrorSign=t}},{key:"component",get:function(){return this._content2}},{key:"texture",get:function(){return this._content.spriteFrame},set:function(t){this.url=null,this.clearContent(),this._content.spriteFrame=t,this._content.type=g.Type.SIMPLE,null!=t?(this.sourceWidth=t.getRect().width,this.sourceHeight=t.getRect().height):this.sourceWidth=this.sourceHeight=0,this.updateLayout()}}]),n}(de));Di._errorSignPool=new Ei;var Vi=t("GLoader3D",function(t){function n(){var e;return(e=t.call(this)||this)._frame=0,e._durations=Object.create(null),e._events=Object.create(null),e._node.name="GLoader3D",e._playing=!0,e._url="",e._fill=at.None,e._align=rt.Left,e._verticalAlign=ht.Top,e._color=new a(255,255,255,255),e._container=new z("Wrapper"),e._container.layer=_e.defaultUILayer,e._container.addComponent(A).setAnchorPoint(0,1),e._node.addChild(e._container),e._data={},e}e(n,t);var s=n.prototype;return s.dispose=function(){this.clearContent(),t.prototype.dispose.call(this)},s.loadContent=function(){this.clearContent(),this._url&&(this._url.startsWith("ui://")?this.loadFromPackage(this._url):this.loadExternal())},s.loadFromPackage=function(t){this._contentItem=He.getItemByURL(t),this._contentItem&&(this._contentItem=this._contentItem.getBranch(),this.sourceWidth=this._contentItem.width,this.sourceHeight=this._contentItem.height,this._contentItem=this._contentItem.getHighResolution(),this._autoSize&&this.setSize(this.sourceWidth,this.sourceHeight),this._contentItem.type!=dt.Spine&&this._contentItem.type!=dt.DragonBones||this._contentItem.owner.getItemAssetAsync(this._contentItem,this.onLoaded.bind(this)))},s.onLoaded=function(t,e){this._contentItem==e&&(t&&console.warn(t),this._contentItem.asset&&(this._contentItem.type==dt.Spine?this.setSpine(this._contentItem.asset,this._contentItem.skeletonAnchor):this._contentItem.type==dt.DragonBones&&this.setDragonBones(this._contentItem.asset,this._contentItem.atlasAsset,this._contentItem.skeletonAnchor)))},s.setSpine=function(t,e,i){if(p(this.node)&&t&&(null==t?void 0:t.isValid)){if(this._content&&this._content.skeletonData==t);else{this.freeSpine(),this._asset=t,this._asset.addRef();var n=new z;this._container.addChild(n),n.layer=_e.defaultUILayer,n.setPosition(e.x,-e.y),this._content=n.addComponent(S.Skeleton),this._content.skeletonData=t,this.startCb&&this._content.setStartListener(this.startCb.bind(this)),this.eventCb&&this._content.setEventListener(this.eventCb.bind(this)),this.endCb&&this._content.setEndListener(this.endCb.bind(this)),this.completeCb&&this._content.setCompleteListener(this.completeCb.bind(this)),this.initAnimations(t.getRuntimeData()),this.initEvent(t.skeletonJson)}this._content.premultipliedAlpha=i,this._content.color=this._color,this.onChangeSpine(),this.updateLayout()}},s.setSpineByPath=function(t,e,i){var n=this;y.loadBundle(t,null,(function(t,s){t?console.error(t):s.load(e,S.SkeletonData,(function(t,e){if(t)console.error(t);else{var s=e.getRuntimeData();n.sourceWidth=s.width,n.sourceHeight=s.height;var o=new h(s.width+s.x,s.height+s.y);n.setSpine(e,o,i)}}))}))},s.freeSpine=function(){this._content&&(this._content.node.destroy(),this._content=null),this._asset&&(this._asset.decRef(),this._asset=null)},s.setDragonBones=function(t,e,i,n){this.freeDragonBones();var s=new z;s.layer=_e.defaultUILayer,this._container.addChild(s),s.setPosition(i.x,-i.y),this._content=s.addComponent(x.ArmatureDisplay),this._content.premultipliedAlpha=n,this._content.dragonAsset=t,this._content.dragonAtlasAsset=e,this._content.color=this._color;var o=t.init(x.CCFactory.getInstance(),e._uuid),r=this._content._factory.getDragonBonesData(o);this._content.armatureName=r.armatureNames[0],this.onChangeDragonBones(),this.updateLayout()},s.freeDragonBones=function(){this._content&&this._content.destroy()},s.onChange=function(){null!=this._contentItem&&(this._contentItem.type==dt.Spine&&this.onChangeSpine(),this._contentItem.type==dt.DragonBones&&this.onChangeDragonBones())},s.onChangeSpine=function(){var t,e;if(this._content instanceof S.Skeleton&&p(this.node)&&this._content.skeletonData&&(null===(t=this._content.skeletonData)||void 0===t?void 0:t.isValid)){if(this._animationName){var i=this._content.getCurrent(0);(!i||i.animation.name!=this._animationName||i.isComplete()&&!i.loop)&&(i=this._content.setAnimation(0,this._animationName,this._loop)),this._playing?this._content.paused=!1:(this._content.paused=!0,i&&(i.trackTime=L.lerp(0,i.animationEnd-i.animationStart,this._frame/100)))}else this._content.clearTrack(0),this._content.setToSetupPose();var n=this._skinName||this._content.skeletonData.getRuntimeData().skins[0].name;(null===(e=this._content._skeleton.skin)||void 0===e?void 0:e.name)!=n&&this._content.setSkin(n)}},s.onChangeDragonBones=function(){this._content instanceof x.ArmatureDisplay&&(this._animationName?this._playing?this._content.playAnimation(this._animationName,this._loop?0:1):this._content.armature().animation.gotoAndStopByFrame(this._animationName,this._frame):this._content.armature().animation.reset())},s.loadExternal=function(){this._url.startsWith("http://")||this._url.startsWith("https://")||this._url.startsWith("/")?y.loadRemote(this._url,S.SkeletonData,this.onLoaded2.bind(this)):c.load(this._url,S.SkeletonData,this.onLoaded2.bind(this))},s.onLoaded2=function(t,e){this._url&&p(this._node)&&t&&console.warn(t)},s.updateLayout=function(){var t=this.sourceWidth,e=this.sourceHeight,i=-this.pivotX*this._width,n=this.pivotY*this._height;if(this._autoSize&&(this._updatingLayout=!0,0==t&&(t=50),0==e&&(e=30),this.setSize(t,e),this._updatingLayout=!1,t==this._width&&e==this._height))return this._container.setScale(1,1),void this._container.setPosition(i,n);var s,o,r=1,h=1;this._fill!=at.None&&(r=this.width/this.sourceWidth,h=this.height/this.sourceHeight,1==r&&1==h||(this._fill==at.ScaleMatchHeight?r=h:this._fill==at.ScaleMatchWidth?h=r:this._fill==at.Scale?r>h?r=h:h=r:this._fill==at.ScaleNoBorder&&(r>h?h=r:r=h),this._shrinkOnly&&(r>1&&(r=1),h>1&&(h=1)),t=this.sourceWidth*r,e=this.sourceHeight*h)),this._container.setScale(r,h),s=this._align==rt.Left?0:this._align==rt.Center?Math.floor((this._width-t)/2):this._width-t,o=-(o=this._verticalAlign==ht.Top?0:this._verticalAlign==ht.Middle?Math.floor((this._height-e)/2):this._height-e),this._container.setPosition(i+s,n+o)},s.clearContent=function(){this._contentItem=null,this._content&&(this._content.node.destroy(),this._content=null),this._asset&&(this._asset.decRef(),this._asset=null)},s.handleSizeChanged=function(){t.prototype.handleSizeChanged.call(this),this._updatingLayout||this.updateLayout()},s.handleAnchorChanged=function(){t.prototype.handleAnchorChanged.call(this),this._updatingLayout||this.updateLayout()},s.handleGrayedChanged=function(){},s.getProp=function(e){switch(e){case bt.Color:return this.color;case bt.Playing:return this.playing;case bt.Frame:return this.frame;case bt.TimeScale:return 1;default:return t.prototype.getProp.call(this,e)}},s.setProp=function(e,i){switch(e){case bt.Color:this.color=i;break;case bt.Playing:this.playing=i;break;case bt.Frame:this.frame=i;break;case bt.TimeScale:case bt.DeltaTime:break;default:t.prototype.setProp.call(this,e,i)}},s.getProperty=function(t){if(this._data.hasOwnProperty(t))return this._data[t];console.error('getProperty: Property "'+t+'" not found.')},s.setProperty=function(t,e){this._data.hasOwnProperty(t)?this._data[t]=e:console.error('setProperty: Property "'+t+'" not found.')},s.initAnimations=function(t){if(t){var e=t.animations;for(var i in e)this._durations[e[i].name]=e[i].duration}},s.getAnimationDuration=function(t){return this._durations[t]},s.initEvent=function(t){if(t){var e=t.animations;for(var i in e)e[i].events&&(this._events[i]=e[i].events[0].time)}},s.getAnimationEventTime=function(t){return this._events[t]},s.setup_beforeAdd=function(e,i){t.prototype.setup_beforeAdd.call(this,e,i),e.seek(i,5),this._url=e.readS(),this._align=e.readByte(),this._verticalAlign=e.readByte(),this._fill=e.readByte(),this._shrinkOnly=e.readBool(),this._autoSize=e.readBool(),this._animationName=e.readS(),this._skinName=e.readS(),this._playing=e.readBool(),this._frame=e.readInt(),this._loop=e.readBool(),e.readBool()&&(this.color=e.readColor()),this._url&&this.loadContent()},i(n,[{key:"url",get:function(){return this._url},set:function(t){this._url!=t&&(this._url=t,this.loadContent(),this.updateGear(7))}},{key:"icon",get:function(){return this._url},set:function(t){this.url=t}},{key:"align",get:function(){return this._align},set:function(t){this._align!=t&&(this._align=t,this.updateLayout())}},{key:"verticalAlign",get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.updateLayout())}},{key:"fill",get:function(){return this._fill},set:function(t){this._fill!=t&&(this._fill=t,this.updateLayout())}},{key:"shrinkOnly",get:function(){return this._shrinkOnly},set:function(t){this._shrinkOnly!=t&&(this._shrinkOnly=t,this.updateLayout())}},{key:"autoSize",get:function(){return this._autoSize},set:function(t){this._autoSize!=t&&(this._autoSize=t,this.updateLayout())}},{key:"playing",get:function(){return this._playing},set:function(t){this._playing!=t&&(this._playing=t,this.updateGear(5),this.onChange())}},{key:"frame",get:function(){return this._frame},set:function(t){this._frame!=t&&(this._frame=t,this.updateGear(5),this.onChange())}},{key:"animationName",get:function(){return this._animationName},set:function(t){this._animationName!=t&&(this._animationName=t,this.onChange())}},{key:"skinName",get:function(){return this._skinName},set:function(t){this._skinName!=t&&(this._skinName=t,this.onChange())}},{key:"loop",get:function(){return this._loop},set:function(t){this._loop!=t&&(this._loop=t,this.onChange())}},{key:"color",get:function(){return this._color},set:function(t){this._color.set(t),this.updateGear(4),this._content&&(this._content.color=t)}},{key:"content",get:function(){return this._content}}]),n}(de)),Hi=t("GLabel",function(t){function n(){var e;return(e=t.call(this)||this)._node.name="GLabel",e}e(n,t);var s=n.prototype;return s.getTextField=function(){return this._titleObject instanceof Ze?this._titleObject:"getTextField"in this._titleObject?this._titleObject.getTextField():null},s.getProp=function(e){switch(e){case bt.Color:return this.titleColor;case bt.OutlineColor:var i=this.getTextField();return i?i.strokeColor:0;case bt.FontSize:return this.titleFontSize;default:return t.prototype.getProp.call(this,e)}},s.setProp=function(e,i){switch(e){case bt.Color:this.titleColor=i;break;case bt.OutlineColor:var n=this.getTextField();n&&(n.strokeColor=i);break;case bt.FontSize:this.titleFontSize=i;break;default:t.prototype.setProp.call(this,e,i)}},s.constructExtension=function(t){this._titleObject=this.getChild("title"),this._iconObject=this.getChild("icon")},s.setup_afterAdd=function(e,i){if(t.prototype.setup_afterAdd.call(this,e,i),e.seek(i,6)&&e.readByte()==this.packageItem.objectType){var n;null!=(n=e.readS())&&(this.title=n),null!=(n=e.readS())&&(this.icon=n),e.readBool()&&(this.titleColor=e.readColor());var s=e.readInt();if(0!=s&&(this.titleFontSize=s),e.readBool()){var o=this.getTextField();o instanceof Li?(null!=(n=e.readS())&&(o.promptText=n),null!=(n=e.readS())&&(o.restrict=n),0!=(s=e.readInt())&&(o.maxLength=s),s=e.readInt(),e.readBool()&&(o.password=!0)):e.skip(13)}null!=(n=e.readS())&&(this._sound=n,e.readBool()&&(this._soundVolumeScale=e.readFloat()),this._node.on(Bt.CLICK,this.onClick_1,this))}},s.onClick_1=function(){if(this._sound){var t=He.getItemByURL(this._sound);if(t){var e=t.owner.getItemAsset(t);e&&Oi.inst.playOneShotSound(e,this._soundVolumeScale)}}},i(n,[{key:"icon",get:function(){if(this._iconObject)return this._iconObject.icon},set:function(t){this._iconObject&&(this._iconObject.icon=t),this.updateGear(7)}},{key:"title",get:function(){return this._titleObject?this._titleObject.text:null},set:function(t){this._titleObject&&(this._titleObject.text=t),this.updateGear(6)}},{key:"text",get:function(){return this.title},set:function(t){this.title=t}},{key:"titleColor",get:function(){var t=this.getTextField();return t?t.color:a.WHITE},set:function(t){var e=this.getTextField();e&&(e.color=t),this.updateGear(4)}},{key:"titleFontSize",get:function(){var t=this.getTextField();return t?t.fontSize:0},set:function(t){var e=this.getTextField();e&&(e.fontSize=t)}},{key:"editable",get:function(){return!!(this._titleObject&&this._titleObject instanceof Li)&&this._titleObject.editable},set:function(t){this._titleObject&&this._titleObject instanceof Li&&(this._titleObject.editable=t)}}]),n}(Bi)),Ni=t("GButton",function(t){function n(){var e;return(e=t.call(this)||this)._node.name="GButton",e._mode=st.Common,e._title="",e._icon="",e._sound=_e.buttonSound,e._soundVolumeScale=_e.buttonSoundVolumeScale,e._changeStateOnClick=!0,e._downEffect=0,e._downEffectValue=.8,e}e(n,t);var s=n.prototype;return s.getTextField=function(){return this._titleObject instanceof Ze?this._titleObject:"getTextField"in this._titleObject?this._titleObject.getTextField():null},s.fireClick=function(){Oi.inst.inputProcessor.simulateClick(this)},s.setState=function(t){if(this._buttonController&&(this._buttonController.selectedPage=t),1==this._downEffect){var e=this.numChildren;if(t==n.DOWN||t==n.SELECTED_OVER||t==n.SELECTED_DISABLED){this._downColor||(this._downColor=new a);var i=255*this._downEffectValue;this._downColor.r=this._downColor.g=this._downColor.b=i;for(var s=0;s<e;s++)(o=this.getChildAt(s))instanceof Ze||o.setProp(bt.Color,this._downColor)}else for(s=0;s<e;s++){var o;(o=this.getChildAt(s))instanceof Ze||o.setProp(bt.Color,a.WHITE)}}else 2==this._downEffect&&(t==n.DOWN||t==n.SELECTED_OVER||t==n.SELECTED_DISABLED?this._downScaled||(this._downScaled=!0,this.setScale(this.scaleX*this._downEffectValue,this.scaleY*this._downEffectValue)):this._downScaled&&(this._downScaled=!1,this.setScale(this.scaleX/this._downEffectValue,this.scaleY/this._downEffectValue)))},s.setCurrentState=function(){this.grayed&&this._buttonController&&this._buttonController.hasPage(n.DISABLED)?this._selected?this.setState(n.SELECTED_DISABLED):this.setState(n.DISABLED):this._selected?this.setState(this._over?n.SELECTED_OVER:n.DOWN):this.setState(this._over?n.OVER:n.UP)},s.handleControllerChanged=function(e){t.prototype.handleControllerChanged.call(this,e),this._relatedController==e&&(this.selected=this._relatedPageId==e.selectedPageId)},s.handleGrayedChanged=function(){this._buttonController&&this._buttonController.hasPage(n.DISABLED)?this.grayed?this._selected&&this._buttonController.hasPage(n.SELECTED_DISABLED)?this.setState(n.SELECTED_DISABLED):this.setState(n.DISABLED):this._selected?this.setState(n.DOWN):this.setState(n.UP):t.prototype.handleGrayedChanged.call(this)},s.getProp=function(e){switch(e){case bt.Color:return this.titleColor;case bt.OutlineColor:var i=this.getTextField();return i?i.strokeColor:0;case bt.FontSize:return this.titleFontSize;case bt.Selected:return this.selected;default:return t.prototype.getProp.call(this,e)}},s.setProp=function(e,i){switch(e){case bt.Color:this.titleColor=i;break;case bt.OutlineColor:var n=this.getTextField();n&&(n.strokeColor=i);break;case bt.FontSize:this.titleFontSize=i;break;case bt.Selected:this.selected=i;break;default:t.prototype.setProp.call(this,e,i)}},s.constructExtension=function(t){t.seek(0,6),this._mode=t.readByte();var e=t.readS();e&&(this._sound=e),this._soundVolumeScale=t.readFloat(),this._downEffect=t.readByte(),this._downEffectValue=t.readFloat(),2==this._downEffect&&this.setPivot(.5,.5,this.pivotAsAnchor),this._buttonController=this.getController("button"),this._titleObject=this.getChild("title"),this._iconObject=this.getChild("icon"),this._titleObject&&(this._title=this._titleObject.text),this._iconObject&&(this._icon=this._iconObject.icon),this._mode==st.Common&&this.setState(n.UP),this._node.on(Bt.TOUCH_BEGIN,this.onTouchBegin_1,this),this._node.on(Bt.TOUCH_END,this.onTouchEnd_1,this),this._node.on(Bt.ROLL_OVER,this.onRollOver_1,this),this._node.on(Bt.ROLL_OUT,this.onRollOut_1,this),this._node.on(Bt.CLICK,this.onClick_1,this)},s.setup_afterAdd=function(e,i){var n,s;t.prototype.setup_afterAdd.call(this,e,i),e.seek(i,6)&&e.readByte()==this.packageItem.objectType&&(null!=(n=e.readS())&&(this.title=n),null!=(n=e.readS())&&(this.selectedTitle=n),null!=(n=e.readS())&&(this.icon=n),null!=(n=e.readS())&&(this.selectedIcon=n),e.readBool()&&(this.titleColor=e.readColor()),0!=(s=e.readInt())&&(this.titleFontSize=s),(s=e.readShort())>=0&&(this._relatedController=this.parent.getControllerAt(s)),this._relatedPageId=e.readS(),null!=(n=e.readS())&&(this._sound=n),e.readBool()&&(this._soundVolumeScale=e.readFloat()),this.selected=e.readBool())},s.onRollOver_1=function(){this._buttonController&&this._buttonController.hasPage(n.OVER)&&(this._over=!0,this._down||this.grayed&&this._buttonController.hasPage(n.DISABLED)||this.setState(this._selected?n.SELECTED_OVER:n.OVER))},s.onRollOut_1=function(){this._buttonController&&this._buttonController.hasPage(n.OVER)&&(this._over=!1,this._down||this.grayed&&this._buttonController.hasPage(n.DISABLED)||this.setState(this._selected?n.DOWN:n.UP))},s.onTouchBegin_1=function(t){t.button==G.BUTTON_LEFT&&(this._down=!0,t.captureTouch(),this._mode==st.Common&&(this.grayed&&this._buttonController&&this._buttonController.hasPage(n.DISABLED)?this.setState(n.SELECTED_DISABLED):this.setState(n.DOWN)),this._linkedPopup&&(this._linkedPopup instanceof Ai?this._linkedPopup.toggleStatus():Oi.inst.togglePopup(this._linkedPopup,this)))},s.onTouchEnd_1=function(t){if(t.button==G.BUTTON_LEFT&&this._down){if(this._down=!1,null==this._node)return;this._mode==st.Common?this.grayed&&this._buttonController&&this._buttonController.hasPage(n.DISABLED)?this.setState(n.DISABLED):this._over?this.setState(n.OVER):this.setState(n.UP):this._over||null==this._buttonController||this._buttonController.selectedPage!=n.OVER&&this._buttonController.selectedPage!=n.SELECTED_OVER||this.setCurrentState()}},s.onClick_1=function(){if(this._sound){var t=He.getItemByURL(this._sound);if(t){var e=t.owner.getItemAsset(t);e&&Oi.inst.playOneShotSound(e,this._soundVolumeScale)}}this._mode==st.Check?this._changeStateOnClick&&(this.selected=!this._selected,this._node.emit(Bt.STATUS_CHANGED,this)):this._mode==st.Radio?this._changeStateOnClick&&!this._selected&&(this.selected=!0,this._node.emit(Bt.STATUS_CHANGED,this)):this._relatedController&&(this._relatedController.selectedPageId=this._relatedPageId)},i(n,[{key:"downEffect",get:function(){return this._downEffect},set:function(t){this._downEffect=t}},{key:"icon",get:function(){return this._icon},set:function(t){this._icon=t,t=this._selected&&this._selectedIcon?this._selectedIcon:this._icon,this._iconObject&&(this._iconObject.icon=t),this.updateGear(7)}},{key:"selectedIcon",get:function(){return this._selectedIcon},set:function(t){this._selectedIcon=t,t=this._selected&&this._selectedIcon?this._selectedIcon:this._icon,this._iconObject&&(this._iconObject.icon=t)}},{key:"title",get:function(){return this._title},set:function(t){this._title=t,this._titleObject&&(this._titleObject.text=this._selected&&this._selectedTitle?this._selectedTitle:this._title),this.updateGear(6)}},{key:"text",get:function(){return this.title},set:function(t){this.title=t}},{key:"selectedTitle",get:function(){return this._selectedTitle},set:function(t){this._selectedTitle=t,this._titleObject&&(this._titleObject.text=this._selected&&this._selectedTitle?this._selectedTitle:this._title)}},{key:"titleColor",get:function(){var t=this.getTextField();return t?t.color:a.BLACK},set:function(t){var e=this.getTextField();e&&(e.color=t)}},{key:"titleFontSize",get:function(){var t=this.getTextField();return t?t.fontSize:0},set:function(t){var e=this.getTextField();e&&(e.fontSize=t)}},{key:"sound",get:function(){return this._sound},set:function(t){this._sound=t}},{key:"soundVolumeScale",get:function(){return this._soundVolumeScale},set:function(t){this._soundVolumeScale=t}},{key:"selected",get:function(){return this._selected},set:function(t){if(this._mode!=st.Common&&this._selected!=t){if(this._selected=t,this.setCurrentState(),this._selectedTitle&&this._titleObject&&(this._titleObject.text=this._selected?this._selectedTitle:this._title),this._selectedIcon){var e=this._selected?this._selectedIcon:this._icon;this._iconObject&&(this._iconObject.icon=e)}this._relatedController&&this._parent&&!this._parent._buildingDisplayList&&(this._selected?(this._relatedController.selectedPageId=this._relatedPageId,this._relatedController.autoRadioGroupDepth&&this._parent.adjustRadioGroupDepth(this,this._relatedController)):this._mode==st.Check&&this._relatedController.selectedPageId==this._relatedPageId&&(this._relatedController.oppositePageId=this._relatedPageId))}}},{key:"mode",get:function(){return this._mode},set:function(t){this._mode!=t&&(t==st.Common&&(this.selected=!1),this._mode=t)}},{key:"relatedController",get:function(){return this._relatedController},set:function(t){this._relatedController=t}},{key:"relatedPageId",get:function(){return this._relatedPageId},set:function(t){this._relatedPageId=t}},{key:"changeStateOnClick",get:function(){return this._changeStateOnClick},set:function(t){this._changeStateOnClick=t}},{key:"linkedPopup",get:function(){return this._linkedPopup},set:function(t){this._linkedPopup=t}}]),n}(Bi));Ni.UP="up",Ni.DOWN="down",Ni.OVER="over",Ni.SELECTED_OVER="selectedOver",Ni.DISABLED="disabled",Ni.SELECTED_DISABLED="selectedDisabled";var Gi=t("GList",function(t){function n(){var e;return(e=t.call(this)||this).scrollItemToViewOnClick=!0,e.foldInvisibleItems=!1,e._lineCount=0,e._columnCount=0,e._lineGap=0,e._columnGap=0,e._lastSelectedIndex=0,e._numItems=0,e._realNumItems=0,e._firstIndex=0,e._curLineItemCount=0,e._curLineItemCount2=0,e._virtualListChanged=0,e.itemInfoVer=0,e._node.name="GList",e._trackBounds=!0,e._pool=new Ei,e._layout=lt.SingleColumn,e._autoResizeItem=!0,e._lastSelectedIndex=-1,e._selectionMode=_t.Single,e.opaque=!0,e._align=rt.Left,e._verticalAlign=ht.Top,e.enableLevelRender=!0,e}e(n,t);var s=n.prototype;return s.dispose=function(){this._partner.unschedule(this._refreshVirtualList),this._pool.clear(),t.prototype.dispose.call(this)},s.getFromPool=function(t){t||(t=this._defaultItem);var e=this._pool.getObject(t);return e&&(e.visible=!0),e},s.returnToPool=function(t){this._pool.returnObject(t)},s.addChildAt=function(e,i){return t.prototype.addChildAt.call(this,e,i),e instanceof Ni&&(e.selected=!1,e.changeStateOnClick=!1),e.on(Bt.CLICK,this.onClickItem,this),e},s.addItem=function(t){return t||(t=this._defaultItem),this.addChild(He.createObjectFromURL(t))},s.addItemFromPool=function(t){return this.addChild(this.getFromPool(t))},s.removeChildAt=function(e,i){var n=t.prototype.removeChildAt.call(this,e,i);return i||n.off(Bt.CLICK,this.onClickItem,this),n},s.removeChildToPoolAt=function(e){var i=t.prototype.removeChildAt.call(this,e);this.returnToPool(i)},s.removeChildToPool=function(e){t.prototype.removeChild.call(this,e),this.returnToPool(e)},s.removeChildrenToPool=function(t,e){null==t&&(t=0),null==e&&(e=-1),(e<0||e>=this._children.length)&&(e=this._children.length-1);for(var i=t;i<=e;++i)this.removeChildToPoolAt(t)},s.getSelection=function(t){var e;if(t||(t=new Array),this._virtual)for(e=0;e<this._realNumItems;e++){var i=this._virtualItems[e];if(i.obj instanceof Ni&&i.obj.selected||!i.obj&&i.selected){var n=e;if(this._loop&&(n=e%this._numItems,-1!=t.indexOf(n)))continue;t.push(n)}}else{var s=this._children.length;for(e=0;e<s;e++){var o=this._children[e];o instanceof Ni&&o.selected&&t.push(e)}}return t},s.addSelection=function(t,e){if(this._selectionMode!=_t.None){var i;if(this.checkVirtualList(),this._selectionMode==_t.Single&&this.clearSelection(),e&&this.scrollToView(t),this._lastSelectedIndex=t,this._virtual){var n=this._virtualItems[t];n.obj&&(i=n.obj),n.selected=!0}else i=this.getChildAt(t);i instanceof Ni&&!i.selected&&(i.selected=!0,this.updateSelectionController(t))}},s.removeSelection=function(t){if(this._selectionMode!=_t.None){var e;if(this._virtual){var i=this._virtualItems[t];i.obj&&(e=i.obj),i.selected=!1}else e=this.getChildAt(t);e instanceof Ni&&(e.selected=!1)}},s.clearSelection=function(){var t;if(this._virtual)for(t=0;t<this._realNumItems;t++){var e=this._virtualItems[t];e.obj instanceof Ni&&(e.obj.selected=!1),e.selected=!1}else{var i=this._children.length;for(t=0;t<i;t++){var n=this._children[t];n instanceof Ni&&(n.selected=!1)}}},s.clearSelectionExcept=function(t){var e;if(this._virtual)for(e=0;e<this._realNumItems;e++){var i=this._virtualItems[e];i.obj!=t&&(i.obj instanceof Ni&&(i.obj.selected=!1),i.selected=!1)}else{var n=this._children.length;for(e=0;e<n;e++){var s=this._children[e];s instanceof Ni&&s!=t&&(s.selected=!1)}}},s.selectAll=function(){this.checkVirtualList();var t,e=-1;if(this._virtual)for(t=0;t<this._realNumItems;t++){var i=this._virtualItems[t];i.obj instanceof Ni&&!i.obj.selected&&(i.obj.selected=!0,e=t),i.selected=!0}else{var n=this._children.length;for(t=0;t<n;t++){var s=this._children[t];s instanceof Ni&&!s.selected&&(s.selected=!0,e=t)}}-1!=e&&this.updateSelectionController(e)},s.selectNone=function(){this.clearSelection()},s.selectReverse=function(){this.checkVirtualList();var t,e=-1;if(this._virtual)for(t=0;t<this._realNumItems;t++){var i=this._virtualItems[t];i.obj instanceof Ni&&(i.obj.selected=!i.obj.selected,i.obj.selected&&(e=t)),i.selected=!i.selected}else{var n=this._children.length;for(t=0;t<n;t++){var s=this._children[t];s instanceof Ni&&(s.selected=!s.selected,s.selected&&(e=t))}}-1!=e&&this.updateSelectionController(e)},s.handleArrowKey=function(t){var e=this.selectedIndex;if(-1!=e)switch(t){case 1:if(this._layout==lt.SingleColumn||this._layout==lt.FlowVertical)--e>=0&&(this.clearSelection(),this.addSelection(e,!0));else if(this._layout==lt.FlowHorizontal||this._layout==lt.Pagination){for(var i=this._children[e],n=0,s=e-1;s>=0;s--){var o=this._children[s];if(o.y!=i.y){i=o;break}n++}for(;s>=0;s--)if((o=this._children[s]).y!=i.y){this.clearSelection(),this.addSelection(s+n+1,!0);break}}break;case 3:if(this._layout==lt.SingleRow||this._layout==lt.FlowHorizontal||this._layout==lt.Pagination)++e<this._children.length&&(this.clearSelection(),this.addSelection(e,!0));else if(this._layout==lt.FlowVertical){i=this._children[e],n=0;var r=this._children.length;for(s=e+1;s<r;s++){if((o=this._children[s]).x!=i.x){i=o;break}n++}for(;s<r;s++)if((o=this._children[s]).x!=i.x){this.clearSelection(),this.addSelection(s-n-1,!0);break}}break;case 5:if(this._layout==lt.SingleColumn||this._layout==lt.FlowVertical)++e<this._children.length&&(this.clearSelection(),this.addSelection(e,!0));else if(this._layout==lt.FlowHorizontal||this._layout==lt.Pagination){for(i=this._children[e],n=0,r=this._children.length,s=e+1;s<r;s++){if((o=this._children[s]).y!=i.y){i=o;break}n++}for(;s<r;s++)if((o=this._children[s]).y!=i.y){this.clearSelection(),this.addSelection(s-n-1,!0);break}}break;case 7:if(this._layout==lt.SingleRow||this._layout==lt.FlowHorizontal||this._layout==lt.Pagination)--e>=0&&(this.clearSelection(),this.addSelection(e,!0));else if(this._layout==lt.FlowVertical){for(i=this._children[e],n=0,s=e-1;s>=0;s--){if((o=this._children[s]).x!=i.x){i=o;break}n++}for(;s>=0;s--)if((o=this._children[s]).x!=i.x){this.clearSelection(),this.addSelection(s+n+1,!0);break}}}},s.onClickItem=function(t){if(!this._scrollPane||!this._scrollPane.isDragged){var e=de.cast(t.currentTarget);this.setSelectionOnEvent(e,t),this._scrollPane&&this.scrollItemToViewOnClick&&this._scrollPane.scrollToView(e,!0),this.dispatchItemEvent(e,t)}},s.dispatchItemEvent=function(t,e){this._node.emit(Bt.CLICK_ITEM,t,e)},s.setSelectionOnEvent=function(t,e){if(t instanceof Ni&&this._selectionMode!=_t.None){var i=!1,n=this.childIndexToItemIndex(this.getChildIndex(t));if(this._selectionMode==_t.Single)t.selected||(this.clearSelectionExcept(t),t.selected=!0);else if(e.isShiftDown){if(!t.selected)if(-1!=this._lastSelectedIndex){var s,o=Math.min(this._lastSelectedIndex,n),r=Math.max(this._lastSelectedIndex,n);if(r=Math.min(r,this.numItems-1),this._virtual)for(s=o;s<=r;s++){var h=this._virtualItems[s];h.obj instanceof Ni&&(h.obj.selected=!0),h.selected=!0}else for(s=o;s<=r;s++){var a=this.getChildAt(s);a instanceof Ni&&(a.selected=!0)}i=!0}else t.selected=!0}else e.isCtrlDown||this._selectionMode==_t.Multiple_SingleClick?t.selected=!t.selected:t.selected?this.clearSelectionExcept(t):(this.clearSelectionExcept(t),t.selected=!0);i||(this._lastSelectedIndex=n),t.selected&&this.updateSelectionController(n)}},s.resizeToFit=function(t,e){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=0),this.ensureBoundsCorrect();var i=this.numItems;if(t>i&&(t=i),this._virtual){var n=Math.ceil(t/this._curLineItemCount);this._layout==lt.SingleColumn||this._layout==lt.FlowHorizontal?this.viewHeight=n*this._itemSize.height+Math.max(0,n-1)*this._lineGap:this.viewWidth=n*this._itemSize.width+Math.max(0,n-1)*this._columnGap}else if(0==t)this._layout==lt.SingleColumn||this._layout==lt.FlowHorizontal?this.viewHeight=e:this.viewWidth=e;else{for(var s=t-1,o=null;s>=0&&(o=this.getChildAt(s),this.foldInvisibleItems&&!o.visible);)s--;if(s<0)this._layout==lt.SingleColumn||this._layout==lt.FlowHorizontal?this.viewHeight=e:this.viewWidth=e;else{var r=0;this._layout==lt.SingleColumn||this._layout==lt.FlowHorizontal?((r=o.y+o.height)<e&&(r=e),this.viewHeight=r):((r=o.x+o.width)<e&&(r=e),this.viewWidth=r)}}},s.getMaxItemWidth=function(){for(var t=this._children.length,e=0,i=0;i<t;i++){var n=this.getChildAt(i);n.width>e&&(e=n.width)}return e},s.handleSizeChanged=function(){t.prototype.handleSizeChanged.call(this),this.setBoundsChangedFlag(),this._virtual&&this.setVirtualListChangedFlag(!0)},s.handleControllerChanged=function(e){t.prototype.handleControllerChanged.call(this,e),this._selectionController==e&&(this.selectedIndex=e.selectedIndex)},s.updateSelectionController=function(t){if(this._selectionController&&!this._selectionController.changing&&t<this._selectionController.pageCount){var e=this._selectionController;this._selectionController=null,e.selectedIndex=t,this._selectionController=e}},s.getSnappingPosition=function(e,i,n){var s,o;return this._virtual?(n=n||new h,this._layout==lt.SingleColumn||this._layout==lt.FlowHorizontal?(s=i,ji=i,o=this.getIndexOnPos1(!1),i=ji,o<this._virtualItems.length&&s-i>this._virtualItems[o].height/2&&o<this._realNumItems&&(i+=this._virtualItems[o].height+this._lineGap)):this._layout==lt.SingleRow||this._layout==lt.FlowVertical?(s=e,ji=e,o=this.getIndexOnPos2(!1),e=ji,o<this._virtualItems.length&&s-e>this._virtualItems[o].width/2&&o<this._realNumItems&&(e+=this._virtualItems[o].width+this._columnGap)):(s=e,ji=e,o=this.getIndexOnPos3(!1),e=ji,o<this._virtualItems.length&&s-e>this._virtualItems[o].width/2&&o<this._realNumItems&&(e+=this._virtualItems[o].width+this._columnGap)),n.x=e,n.y=i,n):t.prototype.getSnappingPosition.call(this,e,i,n)},s.scrollToView=function(t,e,i){if(this._virtual){if(0==this._numItems)return;if(this.checkVirtualList(),t>=this._virtualItems.length)throw"Invalid child index: "+t+">"+this._virtualItems.length;var n;this._loop&&(t=Math.floor(this._firstIndex/this._numItems)*this._numItems+t);var s,o=this._virtualItems[t],r=0;if(this._layout==lt.SingleColumn||this._layout==lt.FlowHorizontal){for(s=this._curLineItemCount-1;s<t;s+=this._curLineItemCount)r+=this._virtualItems[s].height+this._lineGap;n=new d(0,r,this._itemSize.width,o.height)}else if(this._layout==lt.SingleRow||this._layout==lt.FlowVertical){for(s=this._curLineItemCount-1;s<t;s+=this._curLineItemCount)r+=this._virtualItems[s].width+this._columnGap;n=new d(r,0,o.width,this._itemSize.height)}else{var h=t/(this._curLineItemCount*this._curLineItemCount2);n=new d(h*this.viewWidth+t%this._curLineItemCount*(o.width+this._columnGap),t/this._curLineItemCount%this._curLineItemCount2*(o.height+this._lineGap),o.width,o.height)}this._scrollPane&&this._scrollPane.scrollToView(n,e,i)}else{var a=this.getChildAt(t);a&&(this._scrollPane?this._scrollPane.scrollToView(a,e,i):this.parent&&this.parent.scrollPane&&this.parent.scrollPane.scrollToView(a,e,i))}},s.getFirstChildInView=function(){return this.childIndexToItemIndex(t.prototype.getFirstChildInView.call(this))},s.childIndexToItemIndex=function(t){if(!this._virtual)return t;if(this._layout==lt.Pagination){for(var e=this._firstIndex;e<this._realNumItems;e++)if(this._virtualItems[e].obj&&--t<0)return e;return t}return t+=this._firstIndex,this._loop&&this._numItems>0&&(t%=this._numItems),t},s.itemIndexToChildIndex=function(t){if(!this._virtual)return t;if(this._layout==lt.Pagination)return this.getChildIndex(this._virtualItems[t].obj);if(this._loop&&this._numItems>0){var e=this._firstIndex%this._numItems;t>=e?t-=e:t=this._numItems-e+t}else t-=this._firstIndex;return t},s.setVirtual=function(){this._setVirtual(!1)},s.setVirtualAndLoop=function(){this._setVirtual(!0)},s._setVirtual=function(t){if(!this._virtual){if(!this._scrollPane)throw"Virtual list must be scrollable!";if(t){if(this._layout==lt.FlowHorizontal||this._layout==lt.FlowVertical)throw"Loop list is not supported for FlowHorizontal or FlowVertical layout!";this._scrollPane.bouncebackEffect=!1}if(this._virtual=!0,this._loop=t,this._virtualItems=new Array,this.removeChildrenToPool(),null==this._itemSize){this._itemSize=new m(0,0);var e=this.getFromPool(null);if(!e)throw"Virtual List must have a default list item resource.";this._itemSize.width=e.width,this._itemSize.height=e.height,this.returnToPool(e)}this._layout==lt.SingleColumn||this._layout==lt.FlowHorizontal?(this._scrollPane.scrollStep=this._itemSize.height,this._loop&&(this._scrollPane._loop=2)):(this._scrollPane.scrollStep=this._itemSize.width,this._loop&&(this._scrollPane._loop=1)),this._node.on(Bt.SCROLL,this.__scrolled,this),this.setVirtualListChangedFlag(!0)}},s.refreshVirtualList=function(){this.setVirtualListChangedFlag(!1)},s.checkVirtualList=function(){0!=this._virtualListChanged&&(this._refreshVirtualList(),this._partner.unschedule(this._refreshVirtualList))},s.setVirtualListChangedFlag=function(t){t?this._virtualListChanged=2:0==this._virtualListChanged&&(this._virtualListChanged=1),this._partner.callLater(this._refreshVirtualList)},s._refreshVirtualList=function(t){if(isNaN(t)){var e=2==this._virtualListChanged;this._virtualListChanged=0,this._eventLocked=!0,e&&(this._layout==lt.SingleColumn||this._layout==lt.SingleRow?this._curLineItemCount=1:this._layout==lt.FlowHorizontal?this._columnCount>0?this._curLineItemCount=this._columnCount:(this._curLineItemCount=Math.floor((this._scrollPane.viewWidth+this._columnGap)/(this._itemSize.width+this._columnGap)),this._curLineItemCount<=0&&(this._curLineItemCount=1)):this._layout==lt.FlowVertical?this._lineCount>0?this._curLineItemCount=this._lineCount:(this._curLineItemCount=Math.floor((this._scrollPane.viewHeight+this._lineGap)/(this._itemSize.height+this._lineGap)),this._curLineItemCount<=0&&(this._curLineItemCount=1)):(this._columnCount>0?this._curLineItemCount=this._columnCount:(this._curLineItemCount=Math.floor((this._scrollPane.viewWidth+this._columnGap)/(this._itemSize.width+this._columnGap)),this._curLineItemCount<=0&&(this._curLineItemCount=1)),this._lineCount>0?this._curLineItemCount2=this._lineCount:(this._curLineItemCount2=Math.floor((this._scrollPane.viewHeight+this._lineGap)/(this._itemSize.height+this._lineGap)),this._curLineItemCount2<=0&&(this._curLineItemCount2=1))));var i=0,n=0;if(this._realNumItems>0){var s,o=Math.ceil(this._realNumItems/this._curLineItemCount)*this._curLineItemCount,r=Math.min(this._curLineItemCount,this._realNumItems);if(this._layout==lt.SingleColumn||this._layout==lt.FlowHorizontal){for(s=0;s<o;s+=this._curLineItemCount)i+=this._virtualItems[s].height+this._lineGap;if(i>0&&(i-=this._lineGap),this._autoResizeItem)n=this._scrollPane.viewWidth;else{for(s=0;s<r;s++)n+=this._virtualItems[s].width+this._columnGap;n>0&&(n-=this._columnGap)}}else if(this._layout==lt.SingleRow||this._layout==lt.FlowVertical){for(s=0;s<o;s+=this._curLineItemCount)n+=this._virtualItems[s].width+this._columnGap;if(n>0&&(n-=this._columnGap),this._autoResizeItem)i=this._scrollPane.viewHeight;else{for(s=0;s<r;s++)i+=this._virtualItems[s].height+this._lineGap;i>0&&(i-=this._lineGap)}}else n=Math.ceil(o/(this._curLineItemCount*this._curLineItemCount2))*this.viewWidth,i=this.viewHeight}this.handleAlign(n,i),this._scrollPane.setContentSize(n,i),this._eventLocked=!1,this.handleScroll(!0)}else de.cast(this.node)._refreshVirtualList()},s.__scrolled=function(t){this.handleScroll(!1)},s.getIndexOnPos1=function(t){if(this._realNumItems<this._curLineItemCount)return ji=0,0;var e,i,n;if(this.numChildren>0&&!t){if((i=this.getChildAt(0).y)>ji){for(e=this._firstIndex-this._curLineItemCount;e>=0;e-=this._curLineItemCount)if((i-=this._virtualItems[e].height+this._lineGap)<=ji)return ji=i,e;return ji=0,0}for(e=this._firstIndex;e<this._realNumItems;e+=this._curLineItemCount){if((n=i+this._virtualItems[e].height+this._lineGap)>ji)return ji=i,e;i=n}return ji=i,this._realNumItems-this._curLineItemCount}for(i=0,e=0;e<this._realNumItems;e+=this._curLineItemCount){if((n=i+this._virtualItems[e].height+this._lineGap)>ji)return ji=i,e;i=n}return ji=i,this._realNumItems-this._curLineItemCount},s.getIndexOnPos2=function(t){if(this._realNumItems<this._curLineItemCount)return ji=0,0;var e,i,n;if(this.numChildren>0&&!t){if((i=this.getChildAt(0).x)>ji){for(e=this._firstIndex-this._curLineItemCount;e>=0;e-=this._curLineItemCount)if((i-=this._virtualItems[e].width+this._columnGap)<=ji)return ji=i,e;return ji=0,0}for(e=this._firstIndex;e<this._realNumItems;e+=this._curLineItemCount){if((n=i+this._virtualItems[e].width+this._columnGap)>ji)return ji=i,e;i=n}return ji=i,this._realNumItems-this._curLineItemCount}for(i=0,e=0;e<this._realNumItems;e+=this._curLineItemCount){if((n=i+this._virtualItems[e].width+this._columnGap)>ji)return ji=i,e;i=n}return ji=i,this._realNumItems-this._curLineItemCount},s.getIndexOnPos3=function(t){if(this._realNumItems<this._curLineItemCount)return ji=0,0;var e,i,n=this.viewWidth,s=Math.floor(ji/n),o=s*(this._curLineItemCount*this._curLineItemCount2),r=s*n;for(e=0;e<this._curLineItemCount;e++){if((i=r+this._virtualItems[o+e].width+this._columnGap)>ji)return ji=r,o+e;r=i}return ji=r,o+this._curLineItemCount-1},s.handleScroll=function(t){if(!this._eventLocked){if(this._layout==lt.SingleColumn||this._layout==lt.FlowHorizontal){for(var e=0;this.handleScroll1(t);)if(t=!1,++e>20){console.log("FairyGUI: list will never be filled as the item renderer function always returns a different size.");break}this.handleArchOrder1()}else if(this._layout==lt.SingleRow||this._layout==lt.FlowVertical){for(e=0;this.handleScroll2(t);)if(t=!1,++e>20){console.log("FairyGUI: list will never be filled as the item renderer function always returns a different size.");break}this.handleArchOrder2()}else this.handleScroll3(t);this._boundsChanged=!1}},s.handleScroll1=function(t){var e=this._scrollPane.scrollingPosY,i=e+this._scrollPane.viewHeight,n=i==this._scrollPane.contentHeight;ji=e;var s=this.getIndexOnPos1(t);if(e=ji,s==this._firstIndex&&!t)return!1;var o=this._firstIndex;this._firstIndex=s;var r,h,a,l,_,c=s,d=o>s,u=this.numChildren,f=o+u-1,g=d?f:o,p=0,m=e,y=0,v=0,w=this._defaultItem,C=(this._scrollPane.viewWidth-this._columnGap*(this._curLineItemCount-1))/this._curLineItemCount;for(this.itemInfoVer++;c<this._realNumItems&&(n||m<i);){if((h=this._virtualItems[c]).obj&&!t||(null!=this.itemProvider&&(null==(w=this.itemProvider(c%this._numItems))&&(w=this._defaultItem),w=He.normalizeURL(w)),h.obj&&h.obj.resourceURL!=w&&(h.obj instanceof Ni&&(h.selected=h.obj.selected),this.removeChildToPool(h.obj),h.obj=null)),h.obj)r=t;else{if(d){for(_=g;_>=o;_--)if((a=this._virtualItems[_]).obj&&a.updateFlag!=this.itemInfoVer&&a.obj.resourceURL==w){a.obj instanceof Ni&&(a.selected=a.obj.selected),h.obj=a.obj,a.obj=null,_==g&&g--;break}}else for(_=g;_<=f;_++)if((a=this._virtualItems[_]).obj&&a.updateFlag!=this.itemInfoVer&&a.obj.resourceURL==w){a.obj instanceof Ni&&(a.selected=a.obj.selected),h.obj=a.obj,a.obj=null,_==g&&g++;break}h.obj?this.setChildIndex(h.obj,d?c-s:this.numChildren):(h.obj=this._pool.getObject(w),d?this.addChildAt(h.obj,c-s):this.addChild(h.obj)),h.obj instanceof Ni&&(h.obj.selected=h.selected),r=!0}r&&(this._autoResizeItem&&(this._layout==lt.SingleColumn||this._columnCount>0)&&h.obj.setSize(C,h.obj.height,!0),this.itemRenderer(c%this._numItems,h.obj),c%this._curLineItemCount==0&&(y+=Math.ceil(h.obj.height)-h.height,c==s&&o>s&&(v=Math.ceil(h.obj.height)-h.height)),h.width=Math.ceil(h.obj.width),h.height=Math.ceil(h.obj.height)),h.updateFlag=this.itemInfoVer,h.obj.setPosition(p,m),c==s&&(i+=h.height),p+=h.width+this._columnGap,c%this._curLineItemCount==this._curLineItemCount-1&&(p=0,m+=h.height+this._lineGap),c++}for(l=0;l<u;l++)(h=this._virtualItems[o+l]).updateFlag!=this.itemInfoVer&&h.obj&&(h.obj instanceof Ni&&(h.selected=h.obj.selected),this.removeChildToPool(h.obj),h.obj=null);for(u=this._children.length,l=0;l<u;l++){var S=this._virtualItems[s+l].obj;this._children[l]!=S&&this.setChildIndex(S,l)}return 0==y&&0==v||this._scrollPane.changeContentSizeOnScrolling(0,y,0,v),c>0&&this.numChildren>0&&this._container.position.y<=0&&this.getChildAt(0).y>-this._container.position.y},s.handleScroll2=function(t){var e=this._scrollPane.scrollingPosX,i=e+this._scrollPane.viewWidth,n=e==this._scrollPane.contentWidth;ji=e;var s=this.getIndexOnPos2(t);if(e=ji,s==this._firstIndex&&!t)return!1;var o=this._firstIndex;this._firstIndex=s;var r,h,a,l,_,c=s,d=o>s,u=this.numChildren,f=o+u-1,g=d?f:o,p=e,m=0,y=0,v=0,w=this._defaultItem,C=(this._scrollPane.viewHeight-this._lineGap*(this._curLineItemCount-1))/this._curLineItemCount;for(this.itemInfoVer++;c<this._realNumItems&&(n||p<i);){if((h=this._virtualItems[c]).obj&&!t||(null!=this.itemProvider&&(null==(w=this.itemProvider(c%this._numItems))&&(w=this._defaultItem),w=He.normalizeURL(w)),h.obj&&h.obj.resourceURL!=w&&(h.obj instanceof Ni&&(h.selected=h.obj.selected),this.removeChildToPool(h.obj),h.obj=null)),h.obj)r=t;else{if(d){for(_=g;_>=o;_--)if((a=this._virtualItems[_]).obj&&a.updateFlag!=this.itemInfoVer&&a.obj.resourceURL==w){a.obj instanceof Ni&&(a.selected=a.obj.selected),h.obj=a.obj,a.obj=null,_==g&&g--;break}}else for(_=g;_<=f;_++)if((a=this._virtualItems[_]).obj&&a.updateFlag!=this.itemInfoVer&&a.obj.resourceURL==w){a.obj instanceof Ni&&(a.selected=a.obj.selected),h.obj=a.obj,a.obj=null,_==g&&g++;break}h.obj?this.setChildIndex(h.obj,d?c-s:this.numChildren):(h.obj=this._pool.getObject(w),d?this.addChildAt(h.obj,c-s):this.addChild(h.obj)),h.obj instanceof Ni&&(h.obj.selected=h.selected),r=!0}r&&(this._autoResizeItem&&(this._layout==lt.SingleRow||this._lineCount>0)&&h.obj.setSize(h.obj.width,C,!0),this.itemRenderer(c%this._numItems,h.obj),c%this._curLineItemCount==0&&(y+=Math.ceil(h.obj.width)-h.width,c==s&&o>s&&(v=Math.ceil(h.obj.width)-h.width)),h.width=Math.ceil(h.obj.width),h.height=Math.ceil(h.obj.height)),h.updateFlag=this.itemInfoVer,h.obj.setPosition(p,m),c==s&&(i+=h.width),m+=h.height+this._lineGap,c%this._curLineItemCount==this._curLineItemCount-1&&(m=0,p+=h.width+this._columnGap),c++}for(l=0;l<u;l++)(h=this._virtualItems[o+l]).updateFlag!=this.itemInfoVer&&h.obj&&(h.obj instanceof Ni&&(h.selected=h.obj.selected),this.removeChildToPool(h.obj),h.obj=null);for(u=this._children.length,l=0;l<u;l++){var S=this._virtualItems[s+l].obj;this._children[l]!=S&&this.setChildIndex(S,l)}return 0==y&&0==v||this._scrollPane.changeContentSizeOnScrolling(y,0,v,0),c>0&&this.numChildren>0&&this._container.position.x<=0&&this.getChildAt(0).x>-this._container.position.x},s.handleScroll3=function(t){var e=this._scrollPane.scrollingPosX;ji=e;var i=this.getIndexOnPos3(t);if(e=ji,i!=this._firstIndex||t){var n=this._firstIndex;this._firstIndex=i;var s,o,r,h,a,l=n,_=this._virtualItems.length,c=this._curLineItemCount*this._curLineItemCount2,d=i%this._curLineItemCount,u=this.viewWidth,f=Math.floor(i/c)*c,g=f+2*c,p=this._defaultItem,m=(this._scrollPane.viewWidth-this._columnGap*(this._curLineItemCount-1))/this._curLineItemCount,y=(this._scrollPane.viewHeight-this._lineGap*(this._curLineItemCount2-1))/this._curLineItemCount2;for(this.itemInfoVer++,o=f;o<g;o++)if(!(o>=this._realNumItems)){if(a=o%this._curLineItemCount,o-f<c){if(a<d)continue}else if(a>d)continue;(r=this._virtualItems[o]).updateFlag=this.itemInfoVer}var v=null,w=0;for(o=f;o<g;o++)if(!(o>=this._realNumItems)&&(r=this._virtualItems[o]).updateFlag==this.itemInfoVer){if(r.obj)s=t,w=-1,v=r.obj;else{for(;l<_;){if((h=this._virtualItems[l]).obj&&h.updateFlag!=this.itemInfoVer){h.obj instanceof Ni&&(h.selected=h.obj.selected),r.obj=h.obj,h.obj=null;break}l++}-1==w&&(w=this.getChildIndex(v)+1),r.obj?w=this.setChildIndexBefore(r.obj,w):(null!=this.itemProvider&&(null==(p=this.itemProvider(o%this._numItems))&&(p=this._defaultItem),p=He.normalizeURL(p)),r.obj=this._pool.getObject(p),this.addChildAt(r.obj,w)),w++,r.obj instanceof Ni&&(r.obj.selected=r.selected),s=!0}s&&(this._autoResizeItem&&(this._curLineItemCount==this._columnCount&&this._curLineItemCount2==this._lineCount?r.obj.setSize(m,y,!0):this._curLineItemCount==this._columnCount?r.obj.setSize(m,r.obj.height,!0):this._curLineItemCount2==this._lineCount&&r.obj.setSize(r.obj.width,y,!0)),this.itemRenderer(o%this._numItems,r.obj),r.width=Math.ceil(r.obj.width),r.height=Math.ceil(r.obj.height))}var C=f/c*u,S=C,x=0,b=0;for(o=f;o<g;o++)o>=this._realNumItems||((r=this._virtualItems[o]).updateFlag==this.itemInfoVer&&r.obj.setPosition(S,x),r.height>b&&(b=r.height),o%this._curLineItemCount==this._curLineItemCount-1?(S=C,x+=b+this._lineGap,b=0,o==f+c-1&&(S=C+=u,x=0)):S+=r.width+this._columnGap);for(o=l;o<_;o++)(r=this._virtualItems[o]).updateFlag!=this.itemInfoVer&&r.obj&&(r.obj instanceof Ni&&(r.selected=r.obj.selected),this.removeChildToPool(r.obj),r.obj=null)}},s.handleArchOrder1=function(){if(this._childrenRenderOrder==yt.Arch){for(var t=this._scrollPane.posY+this.viewHeight/2,e=Number.POSITIVE_INFINITY,i=0,n=0,s=this.numChildren,o=0;o<s;o++){var r=this.getChildAt(o);this.foldInvisibleItems&&!r.visible||(i=Math.abs(t-r.y-r.height/2))<e&&(e=i,n=o)}this.apexIndex=n}},s.handleArchOrder2=function(){if(this._childrenRenderOrder==yt.Arch){for(var t=this._scrollPane.posX+this.viewWidth/2,e=Number.POSITIVE_INFINITY,i=0,n=0,s=this.numChildren,o=0;o<s;o++){var r=this.getChildAt(o);this.foldInvisibleItems&&!r.visible||(i=Math.abs(t-r.x-r.width/2))<e&&(e=i,n=o)}this.apexIndex=n}},s.handleAlign=function(t,e){var i=0,n=0;e<this.viewHeight&&(this._verticalAlign==ht.Middle?n=Math.floor((this.viewHeight-e)/2):this._verticalAlign==ht.Bottom&&(n=this.viewHeight-e)),t<this.viewWidth&&(this._align==rt.Center?i=Math.floor((this.viewWidth-t)/2):this._align==rt.Right&&(i=this.viewWidth-t)),i==this._alignOffset.x&&n==this._alignOffset.y||(this._alignOffset.x=i,this._alignOffset.y=n,this._scrollPane?this._scrollPane.adjustMaskContainer():this._container.setPosition(this._pivotCorrectX+this._alignOffset.x,this._pivotCorrectY-this._alignOffset.y))},s.updateBounds=function(){if(!this._virtual){var t,e,i=0,n=0,s=0,o=0,r=0,h=0,a=0,l=0,_=0,c=this._children.length,d=this.viewWidth,u=this.viewHeight,f=0,g=0,p=0;if(this._layout==lt.SingleColumn){for(t=0;t<c;t++)e=this.getChildAt(t),this.foldInvisibleItems&&!e.visible||(0!=n&&(n+=this._lineGap),e.y=n,this._autoResizeItem&&e.setSize(d,e.height,!0),n+=Math.ceil(e.height),e.width>s&&(s=e.width));if((h=n)<=u&&this._autoResizeItem&&this._scrollPane&&this._scrollPane._displayInDemand&&this._scrollPane.vtScrollBar)for(d+=this._scrollPane.vtScrollBar.width,t=0;t<c;t++)e=this.getChildAt(t),this.foldInvisibleItems&&!e.visible||(e.setSize(d,e.height,!0),e.width>s&&(s=e.width));r=Math.ceil(s)}else if(this._layout==lt.SingleRow){for(t=0;t<c;t++)e=this.getChildAt(t),this.foldInvisibleItems&&!e.visible||(0!=i&&(i+=this._columnGap),e.x=i,this._autoResizeItem&&e.setSize(e.width,u,!0),i+=Math.ceil(e.width),e.height>o&&(o=e.height));if((r=i)<=d&&this._autoResizeItem&&this._scrollPane&&this._scrollPane._displayInDemand&&this._scrollPane.hzScrollBar)for(u+=this._scrollPane.hzScrollBar.height,t=0;t<c;t++)e=this.getChildAt(t),this.foldInvisibleItems&&!e.visible||(e.setSize(e.width,u,!0),e.height>o&&(o=e.height));h=Math.ceil(o)}else if(this._layout==lt.FlowHorizontal)if(this._autoResizeItem&&this._columnCount>0){for(t=0;t<c;t++)if(e=this.getChildAt(t),(!this.foldInvisibleItems||e.visible)&&(f+=e.sourceWidth,++a==this._columnCount||t==c-1)){for(p=(d-f-(a-1)*this._columnGap)/f,i=0,a=g;a<=t;a++)e=this.getChildAt(a),this.foldInvisibleItems&&!e.visible||(e.setPosition(i,n),a<t?(e.setSize(e.sourceWidth+Math.round(e.sourceWidth*p),e.height,!0),i+=Math.ceil(e.width)+this._columnGap):e.setSize(d-i,e.height,!0),e.height>o&&(o=e.height));n+=Math.ceil(o)+this._lineGap,o=0,a=0,g=t+1,f=0}h=n+Math.ceil(o),r=d}else{for(t=0;t<c;t++)e=this.getChildAt(t),this.foldInvisibleItems&&!e.visible||(0!=i&&(i+=this._columnGap),(0!=this._columnCount&&a>=this._columnCount||0==this._columnCount&&i+e.width>d&&0!=o)&&(i=0,n+=Math.ceil(o)+this._lineGap,o=0,a=0),e.setPosition(i,n),(i+=Math.ceil(e.width))>s&&(s=i),e.height>o&&(o=e.height),a++);h=n+Math.ceil(o),r=Math.ceil(s)}else if(this._layout==lt.FlowVertical)if(this._autoResizeItem&&this._lineCount>0){for(t=0;t<c;t++)if(e=this.getChildAt(t),(!this.foldInvisibleItems||e.visible)&&(f+=e.sourceHeight,++a==this._lineCount||t==c-1)){for(p=(u-f-(a-1)*this._lineGap)/f,n=0,a=g;a<=t;a++)e=this.getChildAt(a),this.foldInvisibleItems&&!e.visible||(e.setPosition(i,n),a<t?(e.setSize(e.width,e.sourceHeight+Math.round(e.sourceHeight*p),!0),n+=Math.ceil(e.height)+this._lineGap):e.setSize(e.width,u-n,!0),e.width>s&&(s=e.width));i+=Math.ceil(s)+this._columnGap,s=0,a=0,g=t+1,f=0}r=i+Math.ceil(s),h=u}else{for(t=0;t<c;t++)e=this.getChildAt(t),this.foldInvisibleItems&&!e.visible||(0!=n&&(n+=this._lineGap),(0!=this._lineCount&&a>=this._lineCount||0==this._lineCount&&n+e.height>u&&0!=s)&&(n=0,i+=Math.ceil(s)+this._columnGap,s=0,a=0),e.setPosition(i,n),(n+=Math.ceil(e.height))>o&&(o=n),e.width>s&&(s=e.width),a++);r=i+Math.ceil(s),h=Math.ceil(o)}else{var m;if(this._autoResizeItem&&this._lineCount>0&&(m=Math.floor((u-(this._lineCount-1)*this._lineGap)/this._lineCount)),this._autoResizeItem&&this._columnCount>0){for(t=0;t<c;t++)if(e=this.getChildAt(t),(!this.foldInvisibleItems||e.visible)&&(0==a&&(0!=this._lineCount&&_>=this._lineCount||0==this._lineCount&&n+(this._lineCount>0?m:e.height)>u)&&(l++,n=0,_=0),f+=e.sourceWidth,++a==this._columnCount||t==c-1)){for(p=(d-f-(a-1)*this._columnGap)/f,i=0,a=g;a<=t;a++)e=this.getChildAt(a),this.foldInvisibleItems&&!e.visible||(e.setPosition(l*d+i,n),a<t?(e.setSize(e.sourceWidth+Math.round(e.sourceWidth*p),this._lineCount>0?m:e.height,!0),i+=Math.ceil(e.width)+this._columnGap):e.setSize(d-i,this._lineCount>0?m:e.height,!0),e.height>o&&(o=e.height));n+=Math.ceil(o)+this._lineGap,o=0,a=0,g=t+1,f=0,_++}}else for(t=0;t<c;t++)e=this.getChildAt(t),this.foldInvisibleItems&&!e.visible||(0!=i&&(i+=this._columnGap),this._autoResizeItem&&this._lineCount>0&&e.setSize(e.width,m,!0),(0!=this._columnCount&&a>=this._columnCount||0==this._columnCount&&i+e.width>d&&0!=o)&&(i=0,n+=Math.ceil(o)+this._lineGap,o=0,a=0,_++,(0!=this._lineCount&&_>=this._lineCount||0==this._lineCount&&n+e.height>u&&0!=s)&&(l++,n=0,_=0)),e.setPosition(l*d+i,n),(i+=Math.ceil(e.width))>s&&(s=i),e.height>o&&(o=e.height),a++);h=l>0?u:n+Math.ceil(o),r=(l+1)*d}this.handleAlign(r,h),this.setBounds(0,0,r,h)}},s.setup_beforeAdd=function(e,i){t.prototype.setup_beforeAdd.call(this,e,i),e.seek(i,5),this._layout=e.readByte(),this._selectionMode=e.readByte(),this._align=e.readByte(),this._verticalAlign=e.readByte(),this._lineGap=e.readShort(),this._columnGap=e.readShort(),this._lineCount=e.readShort(),this._columnCount=e.readShort(),this._autoResizeItem=e.readBool(),this._childrenRenderOrder=e.readByte(),this._apexIndex=e.readShort(),e.readBool()&&(this._margin.top=e.readInt(),this._margin.bottom=e.readInt(),this._margin.left=e.readInt(),this._margin.right=e.readInt());var n=e.readByte();if(n==ct.Scroll){var s=e.position;e.seek(i,7),this.setupScroll(e),e.position=s}else this.setupOverflow(n);e.readBool()&&e.skip(8),e.version>=2&&(this.scrollItemToViewOnClick=e.readBool(),this.foldInvisibleItems=e.readBool()),e.seek(i,8),this._defaultItem=e.readS(),this.readItems(e)},s.readItems=function(t){var e,i,n,s;for(e=t.readShort(),i=0;i<e;i++)if(n=t.readShort(),n+=t.position,null!=(s=t.readS())||(s=this._defaultItem)){var o=this.getFromPool(s);o&&(this.addChild(o),this.setupItem(t,o)),t.position=n}else t.position=n},s.setupItem=function(t,e){var i,n,s;if(null!=(i=t.readS())&&(e.text=i),null!=(i=t.readS())&&e instanceof Ni&&(e.selectedTitle=i),null!=(i=t.readS())&&(e.icon=i),null!=(i=t.readS())&&e instanceof Ni&&(e.selectedIcon=i),null!=(i=t.readS())&&(e.name=i),e instanceof Bi){for(n=t.readShort(),s=0;s<n;s++){var o=e.getController(t.readS());i=t.readS(),o&&(o.selectedPageId=i)}if(t.version>=2)for(n=t.readShort(),s=0;s<n;s++){var r=t.readS(),h=t.readShort(),a=t.readS(),l=e.getChildByPath(r);l&&l.setProp(h,a)}}},s.setup_afterAdd=function(e,i){t.prototype.setup_afterAdd.call(this,e,i),e.seek(i,6);var n=e.readShort();-1!=n&&(this._selectionController=this.parent.getControllerAt(n))},i(n,[{key:"layout",get:function(){return this._layout},set:function(t){this._layout!=t&&(this._layout=t,this.setBoundsChangedFlag(),this._virtual&&this.setVirtualListChangedFlag(!0))}},{key:"lineCount",get:function(){return this._lineCount},set:function(t){this._lineCount!=t&&(this._lineCount=t,this.setBoundsChangedFlag(),this._virtual&&this.setVirtualListChangedFlag(!0))}},{key:"columnCount",get:function(){return this._columnCount},set:function(t){this._columnCount!=t&&(this._columnCount=t,this.setBoundsChangedFlag(),this._virtual&&this.setVirtualListChangedFlag(!0))}},{key:"lineGap",get:function(){return this._lineGap},set:function(t){this._lineGap!=t&&(this._lineGap=t,this.setBoundsChangedFlag(),this._virtual&&this.setVirtualListChangedFlag(!0))}},{key:"columnGap",get:function(){return this._columnGap},set:function(t){this._columnGap!=t&&(this._columnGap=t,this.setBoundsChangedFlag(),this._virtual&&this.setVirtualListChangedFlag(!0))}},{key:"align",get:function(){return this._align},set:function(t){this._align!=t&&(this._align=t,this.setBoundsChangedFlag(),this._virtual&&this.setVirtualListChangedFlag(!0))}},{key:"verticalAlign",get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.setBoundsChangedFlag(),this._virtual&&this.setVirtualListChangedFlag(!0))}},{key:"virtualItemSize",get:function(){return this._itemSize},set:function(t){this._virtual&&(null==this._itemSize&&(this._itemSize=new m(0,0)),this._itemSize.width=t.width,this._itemSize.height=t.height,this.setVirtualListChangedFlag(!0))}},{key:"defaultItem",get:function(){return this._defaultItem},set:function(t){this._defaultItem=He.normalizeURL(t)}},{key:"autoResizeItem",get:function(){return this._autoResizeItem},set:function(t){this._autoResizeItem!=t&&(this._autoResizeItem=t,this.setBoundsChangedFlag(),this._virtual&&this.setVirtualListChangedFlag(!0))}},{key:"selectionMode",get:function(){return this._selectionMode},set:function(t){this._selectionMode=t}},{key:"selectionController",get:function(){return this._selectionController},set:function(t){this._selectionController=t}},{key:"itemPool",get:function(){return this._pool}},{key:"selectedIndex",get:function(){var t;if(this._virtual)for(t=0;t<this._realNumItems;t++){var e=this._virtualItems[t];if(e.obj instanceof Ni&&e.obj.selected||!e.obj&&e.selected)return this._loop?t%this._numItems:t}else{var i=this._children.length;for(t=0;t<i;t++){var n=this._children[t];if(n instanceof Ni&&n.selected)return t}}return-1},set:function(t){t>=0&&t<this.numItems?(this._selectionMode!=_t.Single&&this.clearSelection(),this.addSelection(t)):this.clearSelection()}},{key:"numItems",get:function(){return this._virtual?this._numItems:this._children.length},set:function(t){if(this._virtual){if(null==this.itemRenderer)throw"Set itemRenderer first!";this._numItems=t,this._loop?this._realNumItems=6*this._numItems:this._realNumItems=this._numItems;var e=this._virtualItems.length;if(this._realNumItems>e)for(s=e;s<this._realNumItems;s++){var i={width:this._itemSize.width,height:this._itemSize.height,updateFlag:0};this._virtualItems.push(i)}else for(s=this._realNumItems;s<e;s++)this._virtualItems[s].selected=!1;0!=this._virtualListChanged&&this._partner.unschedule(this._refreshVirtualList),this._refreshVirtualList()}else{var n=this._children.length;if(t>n)for(var s=n;s<t;s++)null==this.itemProvider?this.addItemFromPool():this.addItemFromPool(this.itemProvider(s));else this.removeChildrenToPool(t,n);if(null!=this.itemRenderer)for(s=0;s<t;s++)this.itemRenderer(s,this.getChildAt(s))}}}]),n}(Bi)),ji=0,Wi=t("GComboBox",function(t){function n(){var e;return(e=t.call(this)||this)._visibleItemCount=0,e._selectedIndex=0,e._popupDirection=wt.Auto,e._node.name="GComboBox",e._visibleItemCount=_e.defaultComboBoxVisibleItemCount,e._itemsUpdated=!0,e._selectedIndex=-1,e._items=[],e._values=[],e}e(n,t);var s=n.prototype;return s.getTextField=function(){return this._titleObject instanceof Ze?this._titleObject:"getTextField"in this._titleObject?this._titleObject.getTextField():null},s.setState=function(t){this._buttonController&&(this._buttonController.selectedPage=t)},s.getProp=function(e){switch(e){case bt.Color:return this.titleColor;case bt.OutlineColor:var i=this.getTextField();return i?i.strokeColor:0;case bt.FontSize:return(i=this.getTextField())?i.fontSize:0;default:return t.prototype.getProp.call(this,e)}},s.setProp=function(e,i){switch(e){case bt.Color:this.titleColor=i;break;case bt.OutlineColor:var n=this.getTextField();n&&(n.strokeColor=i);break;case bt.FontSize:(n=this.getTextField())&&(n.fontSize=i);break;default:t.prototype.setProp.call(this,e,i)}},s.constructExtension=function(t){var e;if(this._buttonController=this.getController("button"),this._titleObject=this.getChild("title"),this._iconObject=this.getChild("icon"),e=t.readS()){var i=He.createObjectFromURL(e);if(!(i instanceof Bi))return void console.error("下拉框必须为元件");if(this.dropdown=i,this.dropdown.name="this.dropdown",this._list=this.dropdown.getChild("list",Gi),null==this._list)return void console.error(this.resourceURL+": 下拉框的弹出元件里必须包含名为list的列表");this._list.on(Bt.CLICK_ITEM,this.onClickItem,this),this._list.addRelation(this.dropdown,Ct.Width),this._list.removeRelation(this.dropdown,Ct.Height),this.dropdown.addRelation(this._list,Ct.Height),this.dropdown.removeRelation(this._list,Ct.Width),this.dropdown.on(Bt.UNDISPLAY,this.onPopupClosed,this)}this._node.on(Bt.TOUCH_BEGIN,this.onTouchBegin_1,this),this._node.on(Bt.TOUCH_END,this.onTouchEnd_1,this),this._node.on(Bt.ROLL_OVER,this.onRollOver_1,this),this._node.on(Bt.ROLL_OUT,this.onRollOut_1,this)},s.handleControllerChanged=function(e){t.prototype.handleControllerChanged.call(this,e),this._selectionController==e&&(this.selectedIndex=e.selectedIndex)},s.updateSelectionController=function(){if(this._selectionController&&!this._selectionController.changing&&this._selectedIndex<this._selectionController.pageCount){var t=this._selectionController;this._selectionController=null,t.selectedIndex=this._selectedIndex,this._selectionController=t}},s.dispose=function(){this.dropdown&&(this.dropdown.dispose(),this.dropdown=null),t.prototype.dispose.call(this)},s.setup_afterAdd=function(e,i){if(t.prototype.setup_afterAdd.call(this,e,i),e.seek(i,6)&&e.readByte()==this.packageItem.objectType){var n,s,o,r,h=e.readShort();for(n=0;n<h;n++)o=e.readShort(),o+=e.position,this._items[n]=e.readS(),this._values[n]=e.readS(),null!=(r=e.readS())&&(null==this._icons&&(this._icons=new Array),this._icons[n]=r),e.position=o;null!=(r=e.readS())?(this.text=r,this._selectedIndex=this._items.indexOf(r)):this._items.length>0?(this._selectedIndex=0,this.text=this._items[0]):this._selectedIndex=-1,null!=(r=e.readS())&&(this.icon=r),e.readBool()&&(this.titleColor=e.readColor()),(s=e.readInt())>0&&(this._visibleItemCount=s),this._popupDirection=e.readByte(),(s=e.readShort())>=0&&(this._selectionController=this.parent.getControllerAt(s))}},s.showDropdown=function(){if(this._itemsUpdated){this._itemsUpdated=!1,this._list.removeChildrenToPool();for(var t=this._items.length,e=0;e<t;e++){var i=this._list.addItemFromPool();i.name=e<this._values.length?this._values[e]:"",i.text=this._items[e],i.icon=this._icons&&e<this._icons.length?this._icons[e]:null}this._list.resizeToFit(this._visibleItemCount)}this._list.selectedIndex=-1,this.dropdown.width=this.width,this._list.ensureBoundsCorrect(),Oi.inst.togglePopup(this.dropdown,this,this._popupDirection),this.dropdown.parent&&this.setState(Ni.DOWN)},s.onPopupClosed=function(){this._over?this.setState(Ni.OVER):this.setState(Ni.UP)},s.onClickItem=function(t){var e=this,i=this._list.getChildIndex(t);this._partner.callLater((function(t){e.onClickItem2(i)}),.1)},s.onClickItem2=function(t){this.dropdown.parent instanceof Oi&&this.dropdown.parent.hidePopup(),this._selectedIndex=-1,this.selectedIndex=t,this._node.emit(Bt.STATUS_CHANGED,this)},s.onRollOver_1=function(){this._over=!0,this._down||this.dropdown&&this.dropdown.parent||this.setState(Ni.OVER)},s.onRollOut_1=function(){this._over=!1,this._down||this.dropdown&&this.dropdown.parent||this.setState(Ni.UP)},s.onTouchBegin_1=function(t){t.button==G.BUTTON_LEFT&&(t.initiator instanceof Li&&t.initiator.editable||(this._down=!0,t.captureTouch(),this.dropdown&&this.showDropdown()))},s.onTouchEnd_1=function(t){t.button==G.BUTTON_LEFT&&this._down&&(this._down=!1,this.dropdown&&!this.dropdown.parent&&(this._over?this.setState(Ni.OVER):this.setState(Ni.UP)))},i(n,[{key:"text",get:function(){return this._titleObject?this._titleObject.text:null},set:function(t){this._titleObject&&(this._titleObject.text=t),this.updateGear(6)}},{key:"icon",get:function(){return this._iconObject?this._iconObject.icon:null},set:function(t){this._iconObject&&(this._iconObject.icon=t),this.updateGear(7)}},{key:"titleColor",get:function(){var t=this.getTextField();return t?t.color:a.BLACK},set:function(t){var e=this.getTextField();e&&(e.color=t)}},{key:"titleFontSize",get:function(){var t=this.getTextField();return t?t.fontSize:0},set:function(t){var e=this.getTextField();e&&(e.fontSize=t)}},{key:"visibleItemCount",get:function(){return this._visibleItemCount},set:function(t){this._visibleItemCount=t}},{key:"popupDirection",get:function(){return this._popupDirection},set:function(t){this._popupDirection=t}},{key:"items",get:function(){return this._items},set:function(t){t?this._items=t.concat():this._items.length=0,this._items.length>0?(this._selectedIndex>=this._items.length?this._selectedIndex=this._items.length-1:-1==this._selectedIndex&&(this._selectedIndex=0),this.text=this._items[this._selectedIndex],this._icons&&this._selectedIndex<this._icons.length&&(this.icon=this._icons[this._selectedIndex])):(this.text="",this._icons&&(this.icon=null),this._selectedIndex=-1),this._itemsUpdated=!0}},{key:"icons",get:function(){return this._icons},set:function(t){this._icons=t,this._icons&&-1!=this._selectedIndex&&this._selectedIndex<this._icons.length&&(this.icon=this._icons[this._selectedIndex])}},{key:"values",get:function(){return this._values},set:function(t){t?this._values=t.concat():this._values.length=0}},{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(t){this._selectedIndex!=t&&(this._selectedIndex=t,this._selectedIndex>=0&&this._selectedIndex<this._items.length?(this.text=this._items[this._selectedIndex],this._icons&&this._selectedIndex<this._icons.length&&(this.icon=this._icons[this._selectedIndex])):(this.text="",this._icons&&(this.icon=null)),this.updateSelectionController())}},{key:"value",get:function(){return this._values[this._selectedIndex]},set:function(t){var e=this._values.indexOf(t);-1==e&&null==t&&(e=this._values.indexOf("")),this.selectedIndex=e}},{key:"selectionController",get:function(){return this._selectionController},set:function(t){this._selectionController=t}}]),n}(Bi)),Ui=t("GSlider",function(t){function n(){var e;return(e=t.call(this)||this)._min=0,e._max=0,e._value=0,e._barMaxWidth=0,e._barMaxHeight=0,e._barMaxWidthDelta=0,e._barMaxHeightDelta=0,e._clickPercent=0,e._barStartX=0,e._barStartY=0,e.changeOnClick=!0,e.canDrag=!0,e._node.name="GSlider",e._titleType=ft.Percent,e._value=50,e._max=100,e._clickPos=new h,e}e(n,t);var s=n.prototype;return s.update=function(){this.updateWithPercent((this._value-this._min)/(this._max-this._min))},s.updateWithPercent=function(t,e){if(t=L.clamp01(t),e){var i=L.clamp(this._min+(this._max-this._min)*t,this._min,this._max);this._wholeNumbers&&(i=Math.round(i),t=L.clamp01((i-this._min)/(this._max-this._min))),i!=this._value&&(this._value=i,this._node.emit(Bt.STATUS_CHANGED,this))}if(this._titleObject)switch(this._titleType){case ft.Percent:this._titleObject.text=Math.floor(100*t)+"%";break;case ft.ValueAndMax:this._titleObject.text=this._value+"/"+this._max;break;case ft.Value:this._titleObject.text=""+this._value;break;case ft.Max:this._titleObject.text=""+this._max}var n=this.width-this._barMaxWidthDelta,s=this.height-this._barMaxHeightDelta;this._reverse?(this._barObjectH&&(this._barObjectH.width=Math.round(n*t),this._barObjectH.x=this._barStartX+(n-this._barObjectH.width)),this._barObjectV&&(this._barObjectV.height=Math.round(s*t),this._barObjectV.y=this._barStartY+(s-this._barObjectV.height))):(this._barObjectH&&(this._barObjectH.width=Math.round(n*t)),this._barObjectV&&(this._barObjectV.height=Math.round(s*t)))},s.constructExtension=function(t){t.seek(0,6),this._titleType=t.readByte(),this._reverse=t.readBool(),t.version>=2&&(this._wholeNumbers=t.readBool(),this.changeOnClick=t.readBool()),this._titleObject=this.getChild("title"),this._barObjectH=this.getChild("bar"),this._barObjectV=this.getChild("bar_v"),this._gripObject=this.getChild("grip"),this._barObjectH&&(this._barMaxWidth=this._barObjectH.width,this._barMaxWidthDelta=this.width-this._barMaxWidth,this._barStartX=this._barObjectH.x),this._barObjectV&&(this._barMaxHeight=this._barObjectV.height,this._barMaxHeightDelta=this.height-this._barMaxHeight,this._barStartY=this._barObjectV.y),this._gripObject&&(this._gripObject.on(Bt.TOUCH_BEGIN,this.onGripTouchBegin,this),this._gripObject.on(Bt.TOUCH_MOVE,this.onGripTouchMove,this)),this._node.on(Bt.TOUCH_BEGIN,this.onBarTouchBegin,this)},s.handleSizeChanged=function(){t.prototype.handleSizeChanged.call(this),this._barObjectH&&(this._barMaxWidth=this.width-this._barMaxWidthDelta),this._barObjectV&&(this._barMaxHeight=this.height-this._barMaxHeightDelta),this._underConstruct||this.update()},s.setup_afterAdd=function(e,i){t.prototype.setup_afterAdd.call(this,e,i),e.seek(i,6)&&e.readByte()==this.packageItem.objectType?(this._value=e.readInt(),this._max=e.readInt(),e.version>=2&&(this._min=e.readInt()),this.update()):this.update()},s.onGripTouchBegin=function(t){this.canDrag=!0,t.propagationStopped=!0,t.captureTouch(),this._clickPos=this.globalToLocal(t.pos.x,t.pos.y),this._clickPercent=L.clamp01((this._value-this._min)/(this._max-this._min))},s.onGripTouchMove=function(t){if(this.canDrag){var e,i=this.globalToLocal(t.pos.x,t.pos.y,Yi),n=i.x-this._clickPos.x,s=i.y-this._clickPos.y;this._reverse&&(n=-n,s=-s),e=this._barObjectH?this._clickPercent+n/this._barMaxWidth:this._clickPercent+s/this._barMaxHeight,this.updateWithPercent(e,!0)}},s.onBarTouchBegin=function(t){if(this.changeOnClick){var e=this._gripObject.globalToLocal(t.pos.x,t.pos.y,Yi),i=L.clamp01((this._value-this._min)/(this._max-this._min)),n=0;null!=this._barObjectH&&(n=(e.x-this._gripObject.width/2)/this._barMaxWidth),null!=this._barObjectV&&(n=(e.y-this._gripObject.height/2)/this._barMaxHeight),this._reverse?i-=n:i+=n,this.updateWithPercent(i,!0)}},i(n,[{key:"titleType",get:function(){return this._titleType},set:function(t){this._titleType=t}},{key:"wholeNumbers",get:function(){return this._wholeNumbers},set:function(t){this._wholeNumbers!=t&&(this._wholeNumbers=t,this.update())}},{key:"min",get:function(){return this._min},set:function(t){this._min!=t&&(this._min=t,this.update())}},{key:"max",get:function(){return this._max},set:function(t){this._max!=t&&(this._max=t,this.update())}},{key:"value",get:function(){return this._value},set:function(t){this._value!=t&&(this._value=t,this.update())}}]),n}(Bi)),Yi=new h,Xi=t("GProgressBar",function(t){function n(){var e;return(e=t.call(this)||this)._min=0,e._max=0,e._value=0,e._barMaxWidth=0,e._barMaxHeight=0,e._barMaxWidthDelta=0,e._barMaxHeightDelta=0,e._barStartX=0,e._barStartY=0,e._node.name="GProgressBar",e._titleType=ft.Percent,e._value=50,e._max=100,e}e(n,t);var s=n.prototype;return s.tweenValue=function(t,e){var i,n=ie.getTween(this,this.update);return n?(i=n.value.x,n.kill()):i=this._value,this._value=t,ie.to(i,this._value,e).setTarget(this,this.update).setEase(zt.Linear)},s.update=function(t){var e=L.clamp01((t-this._min)/(this._max-this._min));if(this._titleObject)switch(this._titleType){case ft.Percent:this._titleObject.text=Math.floor(100*e)+"%";break;case ft.ValueAndMax:this._titleObject.text=Math.floor(t)+"/"+Math.floor(this._max);break;case ft.Value:this._titleObject.text=""+Math.floor(t);break;case ft.Max:this._titleObject.text=""+Math.floor(this._max)}var i=this.width-this._barMaxWidthDelta,n=this.height-this._barMaxHeightDelta;this._reverse?(this._barObjectH&&(this.setFillAmount(this._barObjectH,1-e)||(this._barObjectH.width=Math.round(i*e),this._barObjectH.x=this._barStartX+(i-this._barObjectH.width))),this._barObjectV&&(this.setFillAmount(this._barObjectV,1-e)||(this._barObjectV.height=Math.round(n*e),this._barObjectV.y=this._barStartY+(n-this._barObjectV.height)))):(this._barObjectH&&(this.setFillAmount(this._barObjectH,e)||(this._barObjectH.width=Math.round(i*e))),this._barObjectV&&(this.setFillAmount(this._barObjectV,e)||(this._barObjectV.height=Math.round(n*e)))),this._aniObject&&this._aniObject.setProp(bt.Frame,Math.floor(100*e))},s.setFillAmount=function(t,e){return(t instanceof Pe||t instanceof Di)&&t.fillMethod!=St.None&&(t.fillAmount=e,!0)},s.constructExtension=function(t){t.seek(0,6),this._titleType=t.readByte(),this._reverse=t.readBool(),this._titleObject=this.getChild("title"),this._barObjectH=this.getChild("bar"),this._barObjectV=this.getChild("bar_v"),this._aniObject=this.getChild("ani"),this._barObjectH&&(this._barMaxWidth=this._barObjectH.width,this._barMaxWidthDelta=this.width-this._barMaxWidth,this._barStartX=this._barObjectH.x),this._barObjectV&&(this._barMaxHeight=this._barObjectV.height,this._barMaxHeightDelta=this.height-this._barMaxHeight,this._barStartY=this._barObjectV.y)},s.handleSizeChanged=function(){t.prototype.handleSizeChanged.call(this),this._barObjectH&&(this._barMaxWidth=this.width-this._barMaxWidthDelta),this._barObjectV&&(this._barMaxHeight=this.height-this._barMaxHeightDelta),this._underConstruct||this.update(this._value)},s.setup_afterAdd=function(e,i){t.prototype.setup_afterAdd.call(this,e,i),e.seek(i,6)&&e.readByte()==this.packageItem.objectType?(this._value=e.readInt(),this._max=e.readInt(),e.version>=2&&(this._min=e.readInt()),this.update(this._value)):this.update(this._value)},i(n,[{key:"titleType",get:function(){return this._titleType},set:function(t){this._titleType!=t&&(this._titleType=t,this.update(this._value))}},{key:"min",get:function(){return this._min},set:function(t){this._min!=t&&(this._min=t,this.update(this._value))}},{key:"max",get:function(){return this._max},set:function(t){this._max!=t&&(this._max=t,this.update(this._value))}},{key:"value",get:function(){return this._value},set:function(t){this._value!=t&&(ie.kill(this,!1,this.update),this._value=t,this.update(t))}}]),n}(Bi)),Qi=t("GScrollBar",function(t){function n(){var e;return(e=t.call(this)||this)._node.name="GScrollBar",e._dragOffset=new h,e._scrollPerc=0,e}e(n,t);var s=n.prototype;return s.setScrollPane=function(t,e){this._target=t,this._vertical=e},s.setDisplayPerc=function(t){this._vertical?(this._fixedGripSize||(this._grip.height=Math.floor(t*this._bar.height)),this._grip.y=this._bar.y+(this._bar.height-this._grip.height)*this._scrollPerc):(this._fixedGripSize||(this._grip.width=Math.floor(t*this._bar.width)),this._grip.x=this._bar.x+(this._bar.width-this._grip.width)*this._scrollPerc),this._grip.visible=0!=t&&1!=t},s.setScrollPerc=function(t){this._scrollPerc=t,this._vertical?this._grip.y=this._bar.y+(this._bar.height-this._grip.height)*this._scrollPerc:this._grip.x=this._bar.x+(this._bar.width-this._grip.width)*this._scrollPerc},s.constructExtension=function(t){t.seek(0,6),this._fixedGripSize=t.readBool(),this._grip=this.getChild("grip"),this._grip?(this._bar=this.getChild("bar"),this._bar?(this._arrowButton1=this.getChild("arrow1"),this._arrowButton2=this.getChild("arrow2"),this._grip.on(Bt.TOUCH_BEGIN,this.onGripTouchDown,this),this._grip.on(Bt.TOUCH_MOVE,this.onGripTouchMove,this),this._grip.on(Bt.TOUCH_END,this.onGripTouchEnd,this),this._arrowButton1&&this._arrowButton1.on(Bt.TOUCH_BEGIN,this.onClickArrow1,this),this._arrowButton2&&this._arrowButton2.on(Bt.TOUCH_BEGIN,this.onClickArrow2,this),this.on(Bt.TOUCH_BEGIN,this.onBarTouchBegin,this)):console.error("需要定义bar")):console.error("需要定义grip")},s.onGripTouchDown=function(t){t.propagationStopped=!0,t.captureTouch(),this._gripDragging=!0,this._target.updateScrollBarVisible(),this.globalToLocal(t.pos.x,t.pos.y,this._dragOffset),this._dragOffset.x-=this._grip.x,this._dragOffset.y-=this._grip.y},s.onGripTouchMove=function(t){if(this.onStage){var e=this.globalToLocal(t.pos.x,t.pos.y,Zi);if(this._vertical){var i=e.y-this._dragOffset.y;this._target.setPercY((i-this._bar.y)/(this._bar.height-this._grip.height),!1)}else{var n=e.x-this._dragOffset.x;this._target.setPercX((n-this._bar.x)/(this._bar.width-this._grip.width),!1)}}},s.onGripTouchEnd=function(t){this.onStage&&(this._gripDragging=!1,this._target.updateScrollBarVisible())},s.onClickArrow1=function(t){t.propagationStopped=!0,this._vertical?this._target.scrollUp():this._target.scrollLeft()},s.onClickArrow2=function(t){t.propagationStopped=!0,this._vertical?this._target.scrollDown():this._target.scrollRight()},s.onBarTouchBegin=function(t){var e=this._grip.globalToLocal(t.pos.x,t.pos.y,Zi);this._vertical?e.y<0?this._target.scrollUp(4):this._target.scrollDown(4):e.x<0?this._target.scrollLeft(4):this._target.scrollRight(4)},i(n,[{key:"minSize",get:function(){return this._vertical?(this._arrowButton1?this._arrowButton1.height:0)+(this._arrowButton2?this._arrowButton2.height:0):(this._arrowButton1?this._arrowButton1.width:0)+(this._arrowButton2?this._arrowButton2.width:0)}},{key:"gripDragging",get:function(){return this._gripDragging}}]),n}(Bi)),Zi=new h,Ki=t("GTreeNode",function(){function t(t,e){this._level=0,this._resURL=e,t&&(this._children=new Array)}var e=t.prototype;return e._setLevel=function(t){this._level=t},e.addChild=function(t){return this.addChildAt(t,this._children.length),t},e.addChildAt=function(t,e){if(!t)throw new Error("child is null");var i=this._children.length;if(e>=0&&e<=i)return t._parent==this?this.setChildIndex(t,e):(t._parent&&t._parent.removeChild(t),e==this._children.length?this._children.push(t):this._children.splice(e,0,t),t._parent=this,t._level=this._level+1,t._setTree(this._tree),(this._tree&&this==this._tree.rootNode||this._cell&&this._cell.parent&&this._expanded)&&this._tree._afterInserted(t)),t;throw new RangeError("Invalid child index")},e.removeChild=function(t){var e=this._children.indexOf(t);return-1!=e&&this.removeChildAt(e),t},e.removeChildAt=function(t){if(t>=0&&t<this.numChildren){var e=this._children[t];return this._children.splice(t,1),e._parent=null,this._tree&&(e._setTree(null),this._tree._afterRemoved(e)),e}throw"Invalid child index"},e.removeChildren=function(t,e){t=t||0,null==e&&(e=-1),(e<0||e>=this.numChildren)&&(e=this.numChildren-1);for(var i=t;i<=e;++i)this.removeChildAt(t)},e.getChildAt=function(t){if(t>=0&&t<this.numChildren)return this._children[t];throw"Invalid child index"},e.getChildIndex=function(t){return this._children.indexOf(t)},e.getPrevSibling=function(){if(null==this._parent)return null;var t=this._parent._children.indexOf(this);return t<=0?null:this._parent._children[t-1]},e.getNextSibling=function(){if(null==this._parent)return null;var t=this._parent._children.indexOf(this);return t<0||t>=this._parent._children.length-1?null:this._parent._children[t+1]},e.setChildIndex=function(t,e){var i=this._children.indexOf(t);if(-1==i)throw"Not a child of this container";var n=this._children.length;e<0?e=0:e>n&&(e=n),i!=e&&(this._children.splice(i,1),this._children.splice(e,0,t),(this._tree&&this==this._tree.rootNode||this._cell&&this._cell.parent&&this._expanded)&&this._tree._afterMoved(t))},e.swapChildren=function(t,e){var i=this._children.indexOf(t),n=this._children.indexOf(e);if(-1==i||-1==n)throw"Not a child of this container";this.swapChildrenAt(i,n)},e.swapChildrenAt=function(t,e){var i=this._children[t],n=this._children[e];this.setChildIndex(i,e),this.setChildIndex(n,t)},e.expandToRoot=function(){for(var t=this;t;)t.expanded=!0,t=t.parent},e._setTree=function(t){if(this._tree=t,this._tree&&this._tree.treeNodeWillExpand&&this._expanded&&this._tree.treeNodeWillExpand(this,!0),this._children)for(var e=this._children.length,i=0;i<e;i++){var n=this._children[i];n._level=this._level+1,n._setTree(t)}},i(t,[{key:"expanded",get:function(){return this._expanded},set:function(t){null!=this._children&&this._expanded!=t&&(this._expanded=t,this._tree&&(this._expanded?this._tree._afterExpanded(this):this._tree._afterCollapsed(this)))}},{key:"isFolder",get:function(){return null!=this._children}},{key:"parent",get:function(){return this._parent}},{key:"text",get:function(){return this._cell?this._cell.text:null},set:function(t){this._cell&&(this._cell.text=t)}},{key:"icon",get:function(){return this._cell?this._cell.icon:null},set:function(t){this._cell&&(this._cell.icon=t)}},{key:"cell",get:function(){return this._cell}},{key:"level",get:function(){return this._level}},{key:"numChildren",get:function(){return this._children.length}},{key:"tree",get:function(){return this._tree}}]),t}()),qi=t("GTree",function(t){function n(){var e;return(e=t.call(this)||this)._indent=15,e._rootNode=new Ki(!0),e._rootNode._setTree(s(e)),e._rootNode.expanded=!0,e}e(n,t);var o=n.prototype;return o.getSelectedNode=function(){return-1!=this.selectedIndex?this.getChildAt(this.selectedIndex)._treeNode:null},o.getSelectedNodes=function(e){e||(e=new Array),$i.length=0,t.prototype.getSelection.call(this,$i);for(var i=$i.length,n=new Array,s=0;s<i;s++){var o=this.getChildAt($i[s])._treeNode;n.push(o)}return n},o.selectNode=function(t,e){for(var i=t.parent;i&&i!=this._rootNode;)i.expanded=!0,i=i.parent;t._cell&&this.addSelection(this.getChildIndex(t._cell),e)},o.unselectNode=function(t){t._cell&&this.removeSelection(this.getChildIndex(t._cell))},o.expandAll=function(t){t||(t=this._rootNode),t.expanded=!0;for(var e=t.numChildren,i=0;i<e;i++){var n=t.getChildAt(i);n.isFolder&&this.expandAll(n)}},o.collapseAll=function(t){t||(t=this._rootNode),t!=this._rootNode&&(t.expanded=!1);for(var e=t.numChildren,i=0;i<e;i++){var n=t.getChildAt(i);n.isFolder&&this.collapseAll(n)}},o.createCell=function(t){var e=this.getFromPool(t._resURL);if(!(e instanceof Bi))throw new Error("cannot create tree node object.");e._treeNode=t,t._cell=e;var i,n=e.getChild("indent");n&&(n.width=(t.level-1)*this._indent),(i=e.getController("expanded"))&&(i.on(Bt.STATUS_CHANGED,this.__expandedStateChanged,this),i.selectedIndex=t.expanded?1:0),(i=e.getController("leaf"))&&(i.selectedIndex=t.isFolder?0:1),t.isFolder&&t._cell.on(Bt.TOUCH_BEGIN,this.__cellMouseDown,this),this.treeNodeRender&&this.treeNodeRender(t,e)},o._afterInserted=function(t){t._cell||this.createCell(t);var e=this.getInsertIndexForNode(t);this.addChildAt(t._cell,e),this.treeNodeRender&&this.treeNodeRender(t,t._cell),t.isFolder&&t.expanded&&this.checkChildren(t,e)},o.getInsertIndexForNode=function(t){var e=t.getPrevSibling();null==e&&(e=t.parent);for(var i=this.getChildIndex(e._cell)+1,n=t.level,s=this.numChildren,o=i;o<s&&!(this.getChildAt(o)._treeNode.level<=n);o++)i++;return i},o._afterRemoved=function(t){this.removeNode(t)},o._afterExpanded=function(t){if(t!=this._rootNode){if(null!=this.treeNodeWillExpand&&this.treeNodeWillExpand(t,!0),null!=t._cell){this.treeNodeRender&&this.treeNodeRender(t,t._cell);var e=t._cell.getController("expanded");e&&(e.selectedIndex=1),t._cell.parent&&this.checkChildren(t,this.getChildIndex(t._cell))}}else this.checkChildren(this._rootNode,0)},o._afterCollapsed=function(t){if(t!=this._rootNode){if(this.treeNodeWillExpand&&this.treeNodeWillExpand(t,!1),null!=t._cell){this.treeNodeRender&&this.treeNodeRender(t,t._cell);var e=t._cell.getController("expanded");e&&(e.selectedIndex=0),t._cell.parent&&this.hideFolderNode(t)}}else this.checkChildren(this._rootNode,0)},o._afterMoved=function(t){var e,i=this.getChildIndex(t._cell);e=t.isFolder?this.getFolderEndIndex(i,t.level):i+1;var n,s,o=this.getInsertIndexForNode(t),r=e-i;if(o<i)for(n=0;n<r;n++)s=this.getChildAt(i+n),this.setChildIndex(s,o+n);else for(n=0;n<r;n++)s=this.getChildAt(i),this.setChildIndex(s,o)},o.getFolderEndIndex=function(t,e){for(var i=this.numChildren,n=t+1;n<i;n++)if(this.getChildAt(n)._treeNode.level<=e)return n;return i},o.checkChildren=function(t,e){for(var i=t.numChildren,n=0;n<i;n++){e++;var s=t.getChildAt(n);null==s._cell&&this.createCell(s),s._cell.parent||this.addChildAt(s._cell,e),s.isFolder&&s.expanded&&(e=this.checkChildren(s,e))}return e},o.hideFolderNode=function(t){for(var e=t.numChildren,i=0;i<e;i++){var n=t.getChildAt(i);n._cell&&this.removeChild(n._cell),n.isFolder&&n.expanded&&this.hideFolderNode(n)}},o.removeNode=function(t){if(t._cell&&(t._cell.parent&&this.removeChild(t._cell),this.returnToPool(t._cell),t._cell._treeNode=null,t._cell=null),t.isFolder)for(var e=t.numChildren,i=0;i<e;i++){var n=t.getChildAt(i);this.removeNode(n)}},o.__cellMouseDown=function(t){var e=de.cast(t.currentTarget)._treeNode;this._expandedStatusInEvt=e.expanded},o.__expandedStateChanged=function(t){t.parent._treeNode.expanded=1==t.selectedIndex},o.dispatchItemEvent=function(e,i){if(0!=this._clickToExpand){var n=e._treeNode;n&&this._expandedStatusInEvt==n.expanded&&(2==this._clickToExpand||(n.expanded=!n.expanded))}t.prototype.dispatchItemEvent.call(this,e,i)},o.setup_beforeAdd=function(e,i){t.prototype.setup_beforeAdd.call(this,e,i),e.seek(i,9),this._indent=e.readInt(),this._clickToExpand=e.readByte()},o.readItems=function(t){var e,i,n,s,o,r,h,a=0;for(e=t.readShort(),i=0;i<e;i++)if(n=t.readShort(),n+=t.position,null!=(s=t.readS())||(s=this.defaultItem)){o=t.readBool(),h=t.readByte();var l=new Ki(o,s);if(l.expanded=!0,0==i)this._rootNode.addChild(l);else if(h>a)r.addChild(l);else if(h<a){for(var _=h;_<=a;_++)r=r.parent;r.addChild(l)}else r.parent.addChild(l);r=l,a=h,this.setupItem(t,l.cell),t.position=n}else t.position=n},i(n,[{key:"rootNode",get:function(){return this._rootNode}},{key:"indent",get:function(){return this._indent},set:function(t){this._indent=t}},{key:"clickToExpand",get:function(){return this._clickToExpand},set:function(t){this._clickToExpand=t}}]),n}(Gi)),$i=new Array,Ji=(t("PopupMenu",function(){function t(t){if(!t&&!(t=_e.popupMenu))throw"UIConfig.popupMenu not defined";this._contentPane=He.createObjectFromURL(t),this._contentPane.on(Bt.DISPLAY,this.onDisplay,this),this._list=this._contentPane.getChild("list"),this._list.removeChildrenToPool(),this._list.addRelation(this._contentPane,Ct.Width),this._list.removeRelation(this._contentPane,Ct.Height),this._contentPane.addRelation(this._list,Ct.Height),this._list.on(Bt.CLICK_ITEM,this.onClickItem,this)}var e=t.prototype;return e.dispose=function(){this._contentPane.dispose()},e.addItem=function(t,e){var i=this._list.addItemFromPool();i.title=t,i.data=e,i.grayed=!1;var n=i.getController("checked");return n&&(n.selectedIndex=0),i},e.addItemAt=function(t,e,i){var n=this._list.getFromPool();this._list.addChildAt(n,e),n.title=t,n.data=i,n.grayed=!1;var s=n.getController("checked");return s&&(s.selectedIndex=0),n},e.addSeperator=function(){if(null==_e.popupMenu_seperator)throw"UIConfig.popupMenu_seperator not defined";this.list.addItemFromPool(_e.popupMenu_seperator)},e.getItemName=function(t){return this._list.getChildAt(t).name},e.setItemText=function(t,e){this._list.getChild(t).title=e},e.setItemVisible=function(t,e){var i=this._list.getChild(t);i.visible!=e&&(i.visible=e,this._list.setBoundsChangedFlag())},e.setItemGrayed=function(t,e){this._list.getChild(t).grayed=e},e.setItemCheckable=function(t,e){var i=this._list.getChild(t).getController("checked");i&&(e?0==i.selectedIndex&&(i.selectedIndex=1):i.selectedIndex=0)},e.setItemChecked=function(t,e){var i=this._list.getChild(t).getController("checked");i&&(i.selectedIndex=e?2:1)},e.isItemChecked=function(t){var e=this._list.getChild(t).getController("checked");return!!e&&2==e.selectedIndex},e.removeItem=function(t){var e=this._list.getChild(t);if(e){var i=this._list.getChildIndex(e);return this._list.removeChildToPoolAt(i),!0}return!1},e.clearItems=function(){this._list.removeChildrenToPool()},e.show=function(t,e){Oi.inst.showPopup(this.contentPane,t instanceof Oi?null:t,e)},e.onClickItem=function(t,e){var i=this;this._list._partner.callLater((function(n){i.onClickItem2(t,e)}),.1)},e.onClickItem2=function(t,e){if(t instanceof Ni)if(t.grayed)this._list.selectedIndex=-1;else{var i=t.getController("checked");i&&0!=i.selectedIndex&&(1==i.selectedIndex?i.selectedIndex=2:i.selectedIndex=1),this._contentPane.parent.hidePopup(this.contentPane),t.data instanceof Function&&t.data(t,e)}},e.onDisplay=function(){this._list.selectedIndex=-1,this._list.resizeToFit(1e5,10)},i(t,[{key:"itemCount",get:function(){return this._list.numChildren}},{key:"contentPane",get:function(){return this._contentPane}},{key:"list",get:function(){return this._list}}]),t}()),t("UIObjectFactory",function(){function t(){}return t.setExtension=function(e,i){if(null==e)throw new Error("Invaild url: "+e);var n=He.getItemByURL(e);n&&(n.extensionType=i),t.extensions[e]=i},t.setLoaderExtension=function(e){t.loaderType=e},t.resolveExtension=function(e){var i=t.extensions["ui://"+e.owner.id+e.id];i||(i=t.extensions["ui://"+e.owner.name+"/"+e.name]),i&&(e.extensionType=i)},t.newObject=function(e,i){var n;if(t.counter++,"number"==typeof e)switch(e){case ut.Image:return new Pe;case ut.MovieClip:return new Be;case ut.Component:return new Bi;case ut.Text:return new Ze;case ut.RichText:return new qe;case ut.InputText:return new Li;case ut.Group:return new be;case ut.List:return new Gi;case ut.Graph:return new Ie;case ut.Loader:return t.loaderType?new t.loaderType:new Di;case ut.Button:return new Ni;case ut.Label:return new Hi;case ut.ProgressBar:return new Xi;case ut.Slider:return new Ui;case ut.ScrollBar:return new Qi;case ut.ComboBox:return new Wi;case ut.Tree:return new qi;case ut.Loader3D:return new Vi;default:return null}else(n=e.type==dt.Component?i?new i:e.extensionType?new e.extensionType:t.newObject(e.objectType):t.newObject(e.objectType))&&(n.packageItem=e);return n},t}()));Ji.counter=0,Ji.extensions={},Ye.UIObjectFactory=Ji;t("DragDropManager",function(){function t(){this._agent=new Di,this._agent.draggable=!0,this._agent.touchable=!1,this._agent.setSize(100,100),this._agent.setPivot(.5,.5,!0),this._agent.align=rt.Center,this._agent.verticalAlign=ht.Middle,this._agent.sortingOrder=1e6,this._agent.on(Bt.DRAG_END,this.onDragEnd,this)}var e=t.prototype;return e.startDrag=function(t,e,i,n){if(!this._agent.parent){this._sourceData=i,this._agent.url=e,Oi.inst.addChild(this._agent);var s=Oi.inst.getTouchPosition(n);s=Oi.inst.globalToLocal(s.x,s.y),this._agent.setPosition(s.x,s.y),this._agent.startDrag(n)}},e.cancel=function(){this._agent.parent&&(this._agent.stopDrag(),Oi.inst.removeChild(this._agent),this._sourceData=null)},e.onDragEnd=function(){if(this._agent.parent){Oi.inst.removeChild(this._agent);var t=this._sourceData;this._sourceData=null;for(var e=Oi.inst.touchTarget;e;){if(e.node.hasEventListener(Bt.DROP))return e.requestFocus(),void e.node.emit(Bt.DROP,e,t);e=e.parent}}},i(t,[{key:"dragAgent",get:function(){return this._agent}},{key:"dragging",get:function(){return null!=this._agent.parent}}],[{key:"inst",get:function(){return t._inst||(t._inst=new t),t._inst}}]),t}()),t("AsyncOperation",function(){function t(){}var e=t.prototype;return e.createObject=function(t,e){if(this._node)throw"Already running";var i=He.getByName(t);if(!i)throw new Error("package not found: "+t);var n=i.getItemByName(e);if(!n)throw new Error("resource not found: "+e);this.internalCreateObject(n)},e.createObjectFromURL=function(t){if(this._node)throw"Already running";var e=He.getItemByURL(t);if(!e)throw new Error("resource not found: "+t);this.internalCreateObject(e)},e.cancel=function(){this._node&&(this._node.destroy(),this._node=null)},e.internalCreateObject=function(t){this._node=new z("[AsyncCreating:"+t.name+"]"),E.addPersistRootNode(this._node),this._node.on("#",this.completed,this),this._node.addComponent(tn).init(t)},e.completed=function(t){this.cancel(),this.callback&&this.callback(t)},t}());var tn=function(t){function i(){var e;return(e=t.call(this)||this)._itemList=new Array,e._objectPool=new Array,e}e(i,t);var n=i.prototype;return n.init=function(t){this._itemList.length=0,this._objectPool.length=0;var e={pi:t,type:t.objectType};e.childCount=this.collectComponentChildren(t),this._itemList.push(e),this._index=0},n.onDestroy=function(){this._itemList.length=0;var t=this._objectPool.length;if(t>0){for(var e=0;e<t;e++)this._objectPool[e].dispose();this._objectPool.length=0}},n.collectComponentChildren=function(t){var e,i,n,s,o,r,h=t.rawData;h.seek(0,2);var a=h.readShort();for(n=0;n<a;n++){s=h.readShort(),o=h.position,h.seek(o,0);var l=h.readByte(),_=h.readS(),c=h.readS();h.position=o,null!=_?(e={pi:i=null!=(r=null!=c?He.getById(c):t.owner)?r.getItemById(_):null,type:l},i&&i.type==dt.Component&&(e.childCount=this.collectComponentChildren(i))):(e={type:l},l==ut.List&&(e.listItemCount=this.collectListChildren(h))),this._itemList.push(e),h.position=o+s}return a},n.collectListChildren=function(t){t.seek(t.position,8);var e,i,n,s,o,r=0,h=t.readS(),a=t.readShort();for(e=0;e<a;e++)i=t.readShort(),i+=t.position,null==(n=t.readS())&&(n=h),n&&(s=He.getItemByURL(n))&&(o={pi:s,type:s.objectType},s.type==dt.Component&&(o.childCount=this.collectComponentChildren(s)),this._itemList.push(o),r++),t.position=i;return r},n.update=function(){for(var t,e,i,n,s=E.totalTime/1e3,o=_e.frameTimeForAsyncUIConstruction,r=this._itemList.length;this._index<r;){if((e=this._itemList[this._index]).pi)t=Ji.newObject(e.pi),this._objectPool.push(t),xe.n++,e.pi.type==dt.Component?(i=this._objectPool.length-e.childCount-1,t.constructFromResource2(this._objectPool,i),this._objectPool.splice(i,e.childCount)):t.constructFromResource(),xe.n--;else if(t=Ji.newObject(e.type),this._objectPool.push(t),e.type==ut.List&&e.listItemCount>0){for(i=this._objectPool.length-e.listItemCount-1,n=0;n<e.listItemCount;n++)t.itemPool.returnObject(this._objectPool[n+i]);this._objectPool.splice(i,e.listItemCount)}if(this._index++,this._index%5==0&&E.totalTime/1e3-s>=o)return}var h=this._objectPool[0];this._itemList.length=0,this._objectPool.length=0,this.node.emit("#",h)},i}(U);o._RF.pop()}}}));

System.register("chunks:///_virtual/FormMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseClass.ts","./fairygui.min.mjs","./EventMgr.ts","./EventDefine.ts","./ResMgr.ts","./ConfigManager.ts"],(function(n){var e,t,o,r,i,s,a,c,u,f,l,m;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){o=n.cclegacy,r=n.js,i=n.find},function(n){s=n.BaseClass},function(n){a=n.UIPackage,c=n.GRoot},function(n){u=n.default},function(n){f=n.EventDefine},function(n){l=n.default},function(n){m=n.default}],execute:function(){o._RF.push({},"6dbd5JHxJ5Iq6CF8lbe33aZ","FormMgr",void 0),n("default",function(n){function o(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(e=n.call.apply(n,[this].concat(o))||this)._createingFormDict={},e._formDict=Object.create(null),e._pkgs={},e._sceneInfo=null,e}e(o,n);var s=o.prototype;return s.init=function(){this._sceneInfo=m.inst.tables.SceneInfo.getDataMap(),this.log("init")},s.onReload=function(){},s.createForm=function(n){var e=n.indexOf("/"),t=n.substr(0,e),o=n.substr(e+1),r=this._formDict[n];if(!r){var i=a.createObject(t,o).asCom;i.name=o,(r=i.node.addComponent(o)).view=i,r.init(n),this._formDict[n]=r}return r},s.preLoadForm=function(n){var e=this,t=n.indexOf("/"),o=n;return-1!=t&&(o=n.substr(t+1)),new Promise((function(t,i){var s=r.getClassByName(o);e.loadPkgs(s.pkgs).then((function(o){var r=e.createForm(n);t(r)}))}))},s.showForm=function(n,e,t,o,r){var i=this;if(this._createingFormDict.hasOwnProperty(n))return this.errLog("showForm: Form is already being created ("+n+")"),Promise.resolve(null);var s={parent:t||c.inst,playPopupAni:r,popup:o,args:e},a=this._formDict[n];return a?(a.uiParam=s,a.showForm.apply(a,s.args),Promise.resolve(a)):(this._createingFormDict[n]=1,u.emitEvent(f.ModalLayer,"Open"),new Promise((function(e,t){i.preLoadForm(n).then((function(t){delete i._createingFormDict[n],i.createFormEnd(),t.uiParam=s,t.showForm.apply(t,s.args),e(t)})).catch((function(e){delete i._createingFormDict[n],i.createFormEnd(),t(e)}))})))},s.closeForm=function(n){var e=this.getFormComponent(n);e?e.closeForm():this.errLog("closeForm: Form not found (%s)",n)},s.sendMsg=function(n,e){if(n)if(e){var t=this.getFormComponent(n);if(t){var o=t[e];if("function"==typeof o){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];o.apply(t,i)}else this.errLog("sendMsg: Function %s not found in form %s",e,n)}else this.log("sendMsg: Form not loaded (%s)",n)}else this.errLog("sendMsg: Missing funcName");else this.errLog("sendMsg: Missing formPath")},s.isFormShow=function(n){var e=n.indexOf("/"),t=n;-1!=e&&(t=n.substr(e+1));var o=i("Canvas/GRoot/Container");return!!o&&null!=o.getChildByName(t)},s.getFormComponent=function(n){var e=i("Canvas/GRoot/Container");if(!e)return null;var t=n.indexOf("/"),o=n;-1!=t&&(o=n.substr(t+1));var r=e.getChildByName(o);return r?r.getComponent(o):null},s.createFormEnd=function(){u.emitEvent(f.ModalLayer,"Close")},s.getTopForm=function(n){void 0===n&&(n=-1);var e=i("Canvas/GRoot/Container");if(e){for(var t=0,o=e.children,r=o.length-1;r>-1;r--)if("GGraph"!=o[r].name&&--t==n)return o[r].getComponent(o[r].name);return null}},s.onBeforeExitScene=function(n){this.log("onBeforeExitScene(%s)",n);var e=i("Canvas/GRoot/Container");if(e)for(var t=e.children,o=t.length-1;o>-1;o--)if("GGraph"!=t[o].name){var r=t[o].getComponent(t[o].name);this.closeForm(r.getFormProperty("FormPath"))}},s.loadPkgs=function(n){for(var e=this,t=[],o=function(){var o=n[r],i=new Promise((function(n,t){l.inst.loadBundle(o).then((function(r){var i=a.getByName("default/"+o);i?(e._pkgs[i.name]=e._pkgs[i.name]||{count:0,bundle:r.name},e._pkgs[i.name].count++,n(i)):a.loadPackage(r,"default/"+o,(function(i,s){if(i)return e.errLog("loadPkgs: Failed to load package (%s)",o),void t(i);e._pkgs[s.name]=e._pkgs[s.name]||{count:0,bundle:r.name},e._pkgs[s.name].count++,n(s)}))})).catch((function(n){t(n)}))}));t.push(i)},r=0;r<n.length;r++)o();return Promise.all(t)},s.onSwithSceneEnd=function(n){this.log("onSwithSceneEnd(%s)",n);for(var e=this._sceneInfo,t=0;t<e.get(n).OpenUI.length;t++)this.showForm(e.get(n).OpenUI[t],null)},s.onLowMemory=function(){var n=this,e=[];for(var t in this._formDict)this._formDict[t].isShowing||this._createingFormDict[t]||e.push(t);e.sort((function(e,t){return n._formDict[e].lastUseTime>n._formDict[t].lastUseTime?1:-1}));for(var o=Math.min(e.length,5),i=0;i<o;i++){for(var s=e[i],c=s.indexOf("/"),u=(s.substr(0,c),s.substr(c+1)),f=r.getClassByName(u).pkgs,l=0;l<f.length;l++)this._pkgs[f[l]].count--;this._formDict[s].dispose(),delete this._formDict[s]}for(var m in this._pkgs)0==this._pkgs[m].count&&(a.removePackage(m,!0),delete this._pkgs[m])},t(o,null,[{key:"inst",get:function(){return null==this._instance&&(this._instance=new o),this._instance}}]),o}(s))._instance=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/GameScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseScene.ts","./UserData.ts","./UserApi.ts","./LocalStorageMgr.ts","./ConfigManager.ts","./EventMgr.ts","./EventDefine.ts","./SysMsgMgr.ts","./ErrorDefine.ts","./ShareDefine.ts"],(function(t){var e,n,o,i,a,s,u,r,c,l,f,g;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){i=t.BaseScene},function(t){a=t.default},function(t){s=t.default},function(t){u=t.default},function(t){r=t.default},function(t){c=t.default},function(t){l=t.EventDefine},function(t){f=t.default},function(t){g=t.ErrorDefine},null],execute:function(){var d;n._RF.push({},"12daf5SRuxGpYT5leQs11WK","GameScene",void 0);var h=o.ccclass;o.property,t("GameScene",h(d=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this)._timeCount=0,e._deliverytTimeCount=0,e}e(n,t);var o=n.prototype;return o.onSwithSceneEnd=function(){""!=a.lastDeskId&&s.battleRoundResult(a.lastDeskId).then((function(t){0==t.code&&(1!=t.data.state&&3!=t.data.state||s.battleSettlement(a.lastDeskId))}))},o.autoLayEgg=function(){s.autoLayEgg().then((function(t){0==t.code&&t.data.eggs&&f.inst.showSysMsg(g.EggAutoCollection,[t.data.eggs.length])}))},o.onEventHide=function(){},o.onEventShow=function(){},o.onInit=function(){},o.onUpdate=function(t){if(this._timeCount=this._timeCount+t,this._timeCount>=1){this._timeCount=0;var e=u.inst.getRoleConfigProperty("TransactionIdList");if(e&&e.length>0){if(this._deliverytTimeCount++,this._deliverytTimeCount>=20){this._deliverytTimeCount=0;var n=Math.floor(e.length*Math.random());s.delivery(e[n])}}else this._deliverytTimeCount=0;a.lastLayEggTime+r.inst.GlobalTb.layEggTime-a.now<=0&&(a.autoEggCollectRTime>0&&this.autoLayEgg(),c.emitEvent(l.RefreshLayEggRedPoint))}},o.onReload=function(){},n}(i))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/GMButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseComponent.ts","./ShareDefine.ts","./GMPanel.ts","./ResMgr.ts"],(function(t){var n,o,e,i,s,a,h,c,r,u,l;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Input,s=t.Prefab,a=t.instantiate,h=t.director},function(t){c=t.BaseComponent},function(t){r=t.default},function(t){u=t.GMPanel},function(t){l=t.default}],execute:function(){var d;o._RF.push({},"7e9bfC6oUxIYYloFGUcOSfA","GMButton",void 0);var f=e.ccclass;e.property,t("GMButton",f("GMButton")(d=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this)._GMPanel=null,n}n(o,t);var e=o.prototype;return e.onLoad=function(){var t=this;this.node.on(i.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(i.EventType.TOUCH_MOVE,this.onTouchMove,this),l.inst.loadRes("gm/GMPanel",s).then((function(n){var o=a(n);t._GMPanel=o.getComponent(u)}))},e.onTouchStart=function(t){var n=t.getUILocation();this.node.setPosition(n.x-.5*r.RootSize.width,n.y-.5*r.RootSize.height)},e.onTouchMove=function(t){var n=t.getUILocation();this.node.setPosition(n.x-.5*r.RootSize.width,n.y-.5*r.RootSize.height)},e.onClick=function(){this._GMPanel&&this._GMPanel.show()},e.show=function(){h.getScene().getChildByName("Canvas").addChild(this.node),this.node.setPosition(.5*-r.RootSize.width+40,0),this.node.setSiblingIndex(2)},e.hide=function(){this.node.removeFromParent(),this._GMPanel&&this._GMPanel.hide()},o}(c))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/GMPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserApi.ts"],(function(e){var t,i,n,o,r,s,a,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.EditBox,c=e.director,l=e.Component},function(e){u=e.default}],execute:function(){var d,h,p,f,g;r._RF.push({},"76facA5ZohHm4hXnm/JEmFT","GMPanel",void 0);var m=s.ccclass,y=s.property;e("GMPanel",(d=m("GMPanel"),h=y(a),d((g=t((f=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"editBox",g,o(t)),t}i(t,e);var r=t.prototype;return r.show=function(){c.getScene().getChildByName("Canvas").addChild(this.node),this.node.setPosition(0,0),this.node.setSiblingIndex(3),this.editBox.string=""},r.hide=function(){this.node.removeFromParent()},r.onClick=function(){u.gm(this.editBox.string),this.hide()},t}(l)).prototype,"editBox",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/GObjectPool.ts",["cc"],(function(o){var t;return{setters:[function(o){t=o.cclegacy}],execute:function(){t._RF.push({},"4940euoG4JIz7oyuLvpfYrv","GObjectPool",void 0);o("GObjectPool",function(){function o(o){this.poolHandlerComp=void 0,this._pool=void 0,this.poolHandlerComp=o,this._pool=[]}var t=o.prototype;return t.size=function(){return this._pool.length},t.clear=function(){for(var o=this._pool.length,t=0;t<o;++t)this._pool[t].dispose();this._pool.length=0},t.put=function(o){if(o&&-1===this._pool.indexOf(o)){o.removeFromParent();var t=this.poolHandlerComp?o.node.getComponent(this.poolHandlerComp):null;t&&t.unuse&&t.unuse(),this._pool.push(o)}},t.get=function(){var o=this._pool.length-1;if(o<0)return null;var t=this._pool[o];this._pool.length=o;var e=this.poolHandlerComp?t.node.getComponent(this.poolHandlerComp):null;return e&&e.reuse&&e.reuse(arguments),t},o}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GreenHead.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IGreenHead.ts"],(function(n){var t,e,i,o;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator},function(n){o=n.default}],execute:function(){var r;e._RF.push({},"3f006GWaaRMWLmgWfHLom95","GreenHead",void 0);var u=i.ccclass;i.property,n("GreenHead",u(r=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this)._timeCount=0,t}t(e,n);var i=e.prototype;return i.onInit=function(){},i.onShown=function(){},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(n){this._timeCount=this._timeCount+n,this._timeCount>.75&&(this._timeCount=0,this.view.getChild("n21").visible=!this.view.getChild("n21").visible)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/GuideMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseClass.ts","./FormMgr.ts","./ConfigManager.ts","./ShareDefine.ts","./UserApi.ts"],(function(i){var t,e,n,u,s,o,r,a;return{setters:[function(i){t=i.inheritsLoose,e=i.createClass},function(i){n=i.cclegacy},function(i){u=i.BaseClass},function(i){s=i.default},function(i){o=i.default},function(i){r=i.default},function(i){a=i.default}],execute:function(){n._RF.push({},"eb41e03vRFI7K4Ye639D2t7","GuideMgr",void 0);var d=function(){function i(){}return i.inStage=function(i,t){for(var e=!0,n=0;n<t.length;n++)if(!s.inst.isFormShow(t[n])){e=!1;break}return e},i.checkClickCount=function(){return null!=f.inst.guideData.temp},i.checkBattleRoundEnd=function(){return null!=f.inst.guideData.temp},i}(),g=function(){function i(){}return i.showHand=function(i,t){s.inst.showForm("guide/UIGuide",[i,t])},i.delay=function(i,t){s.inst.isFormShow("guide/UIGuide")&&s.inst.closeForm("guide/UIGuide"),setTimeout((function(){f.inst.nextGuide(i.id)}),t[0])},i}(),f=i("default",function(i){function n(){for(var t,e=arguments.length,n=new Array(e),u=0;u<e;u++)n[u]=arguments[u];return(t=i.call.apply(i,[this].concat(n))||this)._guideConfig=null,t._state=0,t._curStep=0,t._curGroupId=0,t.guideData=null,t}t(n,i);var u=n.prototype;return u.init=function(i){this._guideConfig=null,this._state=0,this._curStep=0,this._curGroupId=0,this.guideData=i},u.triggerEvent=function(i){if(!this._guideConfig&&r.IsShowGuide)for(var t=o.inst.tables.GuideTb.getDataList(),e=0;e<t.length;e++){var n=t[e];if(n.cmd&&-1!=n.param.indexOf(i)&&d[n.cmd](null,n.param)){this._state=0,this._curStep=0,this._guideConfig=null;for(var u=0,s=n.guideList,a=0;a<s.length;a++){var g=s[a],f=o.inst.tables.GuideListTb.get(g);if(1==f.isSave&&(u=s[a],-1==this.guideData.step.indexOf(g))){this._guideConfig=f,this._curStep=a;break}}this._curGroupId=n.id,-1!=this.guideData.step.indexOf(u)?(this._guideConfig=null,this._state=3):null==this._guideConfig&&(this._guideConfig=o.inst.tables.GuideListTb.get(s[0]));break}}},u.nextGuide=function(i){var t=this;this._guideConfig&&i==this._guideConfig.id&&3!=this._state&&(this._state=3,1==this._guideConfig.isSave?a.guideStep(this._guideConfig.id).then((function(i){0==i.code&&t.nextStep()})):this.nextStep())},u.nextStep=function(){var i=o.inst.tables.GuideTb.get(this._curGroupId);this._curStep++;var t=i.guideList[this._curStep];t?(this._guideConfig=o.inst.tables.GuideListTb.get(t),this._state=0):(this._guideConfig=null,s.inst.isFormShow("guide/UIGuide")&&s.inst.closeForm("guide/UIGuide"))},u.checkCondition=function(){if(this._guideConfig){var i=!0,t=this._guideConfig.condition;if(t)for(var e=0;e<t.length;e++){var n=t[e].split(":");if(!d[n[0]](this._guideConfig,this.getParam(n[1]))){i=!1;break}}if(i)return void(this._state=1)}this._state=0,s.inst.isFormShow("guide/UIGuide")&&s.inst.closeForm("guide/UIGuide")},u.runAction=function(){if(this._state=2,this._guideConfig){var i=this._guideConfig.action;if(i){this.guideData.temp=null;for(var t=0;t<i.length;t++){var e=i[t].split(":");g[e[0]](this._guideConfig,this.getParam(e[1]))}}}},u.getParam=function(i){return i?JSON.parse(i):[0]},u.onUpdate=function(i){0==this._state?this.checkCondition():1==this._state&&this.runAction()},u.getGuideId=function(){return this._guideConfig?this._guideConfig.id:0},e(n,null,[{key:"inst",get:function(){return null==this._instance&&(this._instance=new n),this._instance}}]),n}(u));f._instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/Head.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IHead.ts"],(function(t){var n,e,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){i=t.default}],execute:function(){var a;e._RF.push({},"dd491cPfXBDI7pP+ewxcNMQ","Head",void 0);var s=o.ccclass;o.property,t("Head",s(a=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this)._headList=["fentou","goutou","trump","green"],n._lastHead=null,n}n(e,t);var o=e.prototype;return o.onInit=function(){},o.onShown=function(){},o.onUpdateInfo=function(){},o.onHide=function(){},o.onDispose=function(){},o.onUpdate=function(t){},o.switchHead=function(){var t=Math.floor(Math.random()*this._headList.length);this._lastHead&&(this._lastHead.visible=!1),this._lastHead=this.view.getChild(this._headList[t]),this._lastHead.visible=!0},e}(i))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/I1DayButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){r=t.BaseForm}],execute:function(){var n;e._RF.push({},"1cf77UFUlNMNZZAEi3rLFPy","I1DayButton",void 0);var c=o.ccclass;o.property,t("default",c(n=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))||this)._price=void 0,i._title=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._price=this.view.getChildAt(5),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},e}(r))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/I30DayButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){r=t.BaseForm}],execute:function(){var n;e._RF.push({},"bad079Xd8FMKasxNs3rjCCs","I30DayButton",void 0);var s=o.ccclass;o.property,t("default",s(n=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))||this)._price=void 0,i._title=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._price=this.view.getChildAt(5),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},e}(r))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/I7DayButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,i,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){r=t.BaseForm}],execute:function(){var n;i._RF.push({},"8f703rjlDVNtqGxRe7Jt+Ph","I7DayButton",void 0);var s=o.ccclass;o.property,t("default",s(n=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._price=void 0,e._title=void 0,e}return e(i,t),i.prototype.onLoad=function(){this.view&&!this._isInit&&(this._price=this.view.getChildAt(5),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},i}(r))||n);i._RF.pop()}}}));

System.register("chunks:///_virtual/IAutoEggCollectButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,o,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;o._RF.push({},"b3eedb8OehKZYPItIayYUGn","IAutoEggCollectButton",void 0);var s=i.ccclass;i.property,t("default",s(r=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this)._t0=void 0,e._title=void 0,e}return e(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._t0=this.view.getTransitionAt(0),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},o}(n))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/IBattleButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;e._RF.push({},"ca2fcseqQpNmaF+RzVyixa7","IBattleButton",void 0);var s=o.ccclass;o.property,t("default",s(r=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this)._redPoint=void 0,i._unlock=void 0,i._title=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._redPoint=this.view.getChildAt(2),this._unlock=this.view.getChildAt(3),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/IButton2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,o,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;o._RF.push({},"36986AlNbhH74e2mdm8NfQj","IButton2",void 0);var s=i.ccclass;i.property,t("default",s(r=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this)._c1=void 0,e._title=void 0,e}return e(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(1),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},o}(n))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/IChicken.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,h;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){h=t.BaseForm}],execute:function(){var s;e._RF.push({},"76550/UeVNFAaxlbxE75zGG","IChicken",void 0);var n=o.ccclass;o.property,t("default",n(s=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),h=0;h<e;h++)o[h]=arguments[h];return(i=t.call.apply(t,[this].concat(o))||this)._head=void 0,i._heitou=void 0,i._tAni=void 0,i._zuoTui=void 0,i._pAni=void 0,i._eggDrop=void 0,i._touch=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._head=this.getFguiComponent(this.view.getChildAt(0),"Head"),this._heitou=this.view.getChildAt(1),this._tAni=this.view.getChildAt(3),this._zuoTui=this.view.getChildAt(5),this._pAni=this.view.getChildAt(6),this._eggDrop=this.view.getChildAt(7),this._touch=this.view.getChildAt(8),t.prototype.onLoad.call(this))},e}(h))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ICountDown.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var o,e,i,n;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;e._RF.push({},"8a95661W9tMn7FuRYQhh2xX","ICountDown",void 0);var s=i.ccclass;i.property,t("default",s(r=function(t){function e(){for(var o,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(o=t.call.apply(t,[this].concat(i))||this)._timeProgress=void 0,o._roundTime=void 0,o}return o(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._timeProgress=this.view.getChildAt(0),this._roundTime=this.view.getChildAt(1),t.prototype.onLoad.call(this))},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/IDialogComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var o,e,i,r;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){r=t.BaseForm}],execute:function(){var n;e._RF.push({},"01cb5sSGc5PLrod4TP0CkVb","IDialogComp",void 0);var c=i.ccclass;i.property,t("default",c(n=function(t){function e(){for(var o,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(o=t.call.apply(t,[this].concat(i))||this)._desc=void 0,o}return o(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._desc=this.view.getChildAt(3),t.prototype.onLoad.call(this))},e}(r))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/IEffect01.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.BaseForm}],execute:function(){var n;e._RF.push({},"6c06fON3NFOAaozb9mMHWO7","IEffect01",void 0);var r=o.ccclass;o.property,t("default",r(n=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this)._ani=void 0,i._eggDrop=void 0,i._score=void 0,i._t0=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._ani=this.view.getChildAt(1),this._eggDrop=this.view.getChildAt(2),this.listenerClick(this._eggDrop,this.onClick_Wnd),this._score=this.view.getChildAt(4),this._t0=this.view.getTransitionAt(0),t.prototype.onLoad.call(this))},e}(s))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/IEggButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,o,e,n;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;o._RF.push({},"4acd6p1cudN9rUgKnTl6QcA","IEggButton",void 0);var c=e.ccclass;e.property,t("default",c(r=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this)._redPoint=void 0,i._unlock=void 0,i._title=void 0,i}return i(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._redPoint=this.view.getChildAt(2),this._unlock=this.view.getChildAt(3),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},o}(n))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/Ifinger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.BaseForm}],execute:function(){var r;e._RF.push({},"0b378eV+AlDU7p9VMCNiABT","Ifinger",void 0);var s=n.ccclass;n.property,t("default",s(r=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this)._finger=void 0,i._t0=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._finger=this.view.getChildAt(0),this._t0=this.view.getTransitionAt(0),t.prototype.onLoad.call(this))},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/IGreenHead.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,o,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator},function(t){r=t.BaseForm}],execute:function(){var i;o._RF.push({},"b103do/BF5JaKFto8oCzytb","IGreenHead",void 0);var s=n.ccclass;n.property,t("default",s(i=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this)._pepetou=void 0,e}return e(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._pepetou=this.view.getChildAt(0),t.prototype.onLoad.call(this))},o}(r))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/IHead.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,i,o,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;i._RF.push({},"60fd9GX/MhJt5LVlaXA2ORE","IHead",void 0);var s=o.ccclass;o.property,t("default",s(r=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this)._fentou=void 0,e._goutou=void 0,e._trump=void 0,e._green=void 0,e}return e(i,t),i.prototype.onLoad=function(){this.view&&!this._isInit&&(this._fentou=this.view.getChildAt(0),this._goutou=this.view.getChildAt(1),this._trump=this.view.getChildAt(2),this._green=this.getFguiComponent(this.view.getChildAt(3),"GreenHead"),t.prototype.onLoad.call(this))},i}(n))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/IImg1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.BaseForm}],execute:function(){var r;e._RF.push({},"05966wyJNNIIKw/prXHWqto","IImg1",void 0);var n=o.ccclass;o.property,t("default",n(r=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this)._score=void 0,i._select=void 0,i._red=void 0,i._ani=void 0,i._title=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._score=this.getFguiComponent(this.view.getChildAt(1),"Score"),this._select=this.view.getChildAt(2),this._red=this.view.getChildAt(3),this._ani=this.view.getChildAt(4),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},e}(s))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/IImg2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.BaseForm}],execute:function(){var n;e._RF.push({},"65f83XhavtObKocAY1nUHVx","IImg2",void 0);var r=o.ccclass;o.property,t("default",r(n=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this)._score=void 0,i._select=void 0,i._red=void 0,i._ani=void 0,i._title=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._score=this.getFguiComponent(this.view.getChildAt(1),"Score"),this._select=this.view.getChildAt(2),this._red=this.view.getChildAt(3),this._ani=this.view.getChildAt(4),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},e}(s))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/ILayEggTimeComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){r=t.BaseForm}],execute:function(){var s;e._RF.push({},"95fda3WyiZFA5iPjFscIuiv","ILayEggTimeComp",void 0);var n=o.ccclass;o.property,t("default",n(s=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))||this)._timeProgress=void 0,i._leftTime=void 0,i._redPoint=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._timeProgress=this.view.getChildAt(0),this._leftTime=this.view.getChildAt(1),this._redPoint=this.view.getChildAt(2),t.prototype.onLoad.call(this))},e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ILeftTime.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,n,o,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){i=t.BaseForm}],execute:function(){var r;n._RF.push({},"5560csCXn1LEqlIe7s3aA/A","ILeftTime",void 0);var s=o.ccclass;o.property,t("default",s(r=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this)._num=void 0,e}return e(n,t),n.prototype.onLoad=function(){this.view&&!this._isInit&&(this._num=this.view.getChildAt(1),t.prototype.onLoad.call(this))},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/IMaskComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var o,i,e,n;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator},function(t){n=t.BaseForm}],execute:function(){var s;i._RF.push({},"fb2c5NnbWxOnZYiVBYlxT97","IMaskComp",void 0);var r=e.ccclass;e.property,t("default",r(s=function(t){function i(){for(var o,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return(o=t.call.apply(t,[this].concat(e))||this)._bg=void 0,o._mask=void 0,o}return o(i,t),i.prototype.onLoad=function(){this.view&&!this._isInit&&(this._bg=this.view.getChildAt(0),this._mask=this.view.getChildAt(1),t.prototype.onLoad.call(this))},i}(n))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/Img1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IImg1.ts"],(function(n){var t,o,c,i;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,c=n._decorator},function(n){i=n.default}],execute:function(){var e;o._RF.push({},"ac862qkGKtMOacpCs6cxnx8","Img1",void 0);var r=c.ccclass;c.property,n("Img1",r(e=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var c=o.prototype;return c.onInit=function(){this._red.sortingOrder=99},c.onShown=function(){},c.onUpdateInfo=function(){},c.onHide=function(){},c.onDispose=function(){},c.onUpdate=function(n){},c.onClick_Wnd=function(n,t){},o}(i))||e);o._RF.pop()}}}));

System.register("chunks:///_virtual/Img2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IImg2.ts"],(function(n){var t,o,i,e;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,i=n._decorator},function(n){e=n.default}],execute:function(){var c;o._RF.push({},"06d2dOtv8JP+LgbnXBSC6JQ","Img2",void 0);var r=i.ccclass;i.property,n("Img2",r(c=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var i=o.prototype;return i.onInit=function(){this._red.sortingOrder=99},i.onShown=function(){},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(n){},i.onClick_Wnd=function(n,t){},o}(e))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/IPeople.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,o,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator},function(t){r=t.BaseForm}],execute:function(){var i;o._RF.push({},"f1323kEwq9OzJgetr16PhG3","IPeople",void 0);var s=n.ccclass;n.property,t("default",s(i=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this)._num=void 0,e}return e(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._num=this.view.getChildAt(1),t.prototype.onLoad.call(this))},o}(r))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/IRedPoint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var o,e,n,i;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){i=t.BaseForm}],execute:function(){var r;e._RF.push({},"604d9h7k6JDUZKJhN3fPZc0","IRedPoint",void 0);var c=n.ccclass;n.property,t("default",c(r=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this)._redPoint=void 0,o}return o(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._redPoint=this.view.getChildAt(0),t.prototype.onLoad.call(this))},e}(i))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/IScore.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var o,e,r,n;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator},function(t){n=t.BaseForm}],execute:function(){var c;e._RF.push({},"c9392NjvaxP+plgneJotGeS","IScore",void 0);var i=r.ccclass;r.property,t("default",i(c=function(t){function e(){for(var o,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(o=t.call.apply(t,[this].concat(r))||this)._scoreTxt=void 0,o}return o(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._scoreTxt=this.view.getChildAt(1),t.prototype.onLoad.call(this))},e}(n))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/IShopButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,o,e,n;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;o._RF.push({},"04c00v7r2FMFZ0mQ/M8TBXZ","IShopButton",void 0);var s=e.ccclass;e.property,t("default",s(r=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this)._redPoint=void 0,i._unlock=void 0,i._title=void 0,i}return i(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._redPoint=this.view.getChildAt(2),this._unlock=this.view.getChildAt(3),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},o}(n))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/ISmashEggButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,o,e,n;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;o._RF.push({},"359a9vBEmdDpILI2PvTgfTW","ISmashEggButton",void 0);var s=e.ccclass;e.property,t("default",s(r=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this)._redPoint=void 0,i._unlock=void 0,i._title=void 0,i}return i(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._redPoint=this.view.getChildAt(2),this._unlock=this.view.getChildAt(3),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},o}(n))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/ITaskButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,o,e,n;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;o._RF.push({},"7d6dckuJhlNHIqYbAIUbkLI","ITaskButton",void 0);var s=e.ccclass;e.property,t("default",s(r=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this)._redPoint=void 0,i._unlock=void 0,i._title=void 0,i}return i(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._redPoint=this.view.getChildAt(2),this._unlock=this.view.getChildAt(3),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},o}(n))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/ITaskRewardButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,i,o,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;i._RF.push({},"9a8c63tOvBEGLxRNHmqSjCm","ITaskRewardButton",void 0);var s=o.ccclass;o.property,t("default",s(r=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this)._redPoint=void 0,e._title=void 0,e}return e(i,t),i.prototype.onLoad=function(){this.view&&!this._isInit&&(this._redPoint=this.view.getChildAt(2),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},i}(n))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/ITaskTypeButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,i,o,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;i._RF.push({},"2114b+Lr29LyY5aizG3Za6p","ITaskTypeButton",void 0);var s=o.ccclass;o.property,t("default",s(r=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this)._redPoint=void 0,e._title=void 0,e}return e(i,t),i.prototype.onLoad=function(){this.view&&!this._isInit&&(this._redPoint=this.view.getChildAt(3),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},i}(n))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/ItemData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseClass.ts"],(function(t){var e,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.BaseClass}],execute:function(){n._RF.push({},"8059bjLyuZLPrYvDpurNW8y","ItemData",void 0);t("ItemData",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).id=void 0,e.num=void 0,e}return e(n,t),n.prototype.absorb=function(t){this.id=t.itemId,this.num=t.itemNum},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/ItemDefine.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"904feJlXWBBhZ0QSHqOksqQ","ItemDefine",void 0);e("ItemDefine",function(e){return e[e.VIT=2001001]="VIT",e[e.Gold=2001002]="Gold",e[e.RetrieveCard=2001003]="RetrieveCard",e[e.Diamond=2001004]="Diamond",e[e.AutoEggCollect1=2001005]="AutoEggCollect1",e[e.AutoEggCollect7=2001006]="AutoEggCollect7",e[e.AutoEggCollect30=2001007]="AutoEggCollect30",e[e.SignInCard=2001008]="SignInCard",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/IUIAlert.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){n=t.BaseForm}],execute:function(){var o;e._RF.push({},"e468bwD0ldOrLyZA4SZl6i5","IUIAlert",void 0);var l=s.ccclass;s.property,t("default",l(o=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._c1=void 0,i._title=void 0,i._desc=void 0,i._btnCancel=void 0,i._btnSure=void 0,i._btnClose=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(0),this._title=this.view.getChildAt(1),this._desc=this.view.getChildAt(2),this._btnCancel=this.view.getChildAt(3),this.listenerClick(this._btnCancel,this.onClick_Wnd),this._btnSure=this.view.getChildAt(4),this.listenerClick(this._btnSure,this.onClick_Wnd),this._btnClose=this.view.getChildAt(5),this.listenerClick(this._btnClose,this.onClick_Wnd),t.prototype.onLoad.call(this))},e}(n))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIAutoEggCollect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.BaseForm}],execute:function(){var s;e._RF.push({},"e4ea337pD5E7qsGKmROqHDV","IUIAutoEggCollect",void 0);var a=o.ccclass;o.property,t("default",a(s=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this)._bg=void 0,i._mask=void 0,i._egg=void 0,i._btn1Day=void 0,i._btn7Day=void 0,i._btn30Day=void 0,i._remainingTime=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._bg=this.view.getChildAt(0),this._mask=this.view.getChildAt(2),this._egg=this.view.getChildAt(3),this._btn1Day=this.getFguiComponent(this.view.getChildAt(6),"1DayButton"),this._btn7Day=this.getFguiComponent(this.view.getChildAt(7),"30DayButton"),this._btn30Day=this.getFguiComponent(this.view.getChildAt(8),"7DayButton"),this._remainingTime=this.view.getChildAt(10),t.prototype.onLoad.call(this))},e}(n))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIBattleEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,i,o,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;i._RF.push({},"60583WUywdEJbSkYuD1Wbae","IUIBattleEntry",void 0);var s=o.ccclass;o.property,t("default",s(r=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this)._battleList=void 0,e._totalGold=void 0,e._petNumTxt=void 0,e}return e(i,t),i.prototype.onLoad=function(){this.view&&!this._isInit&&(this._battleList=this.view.getChildAt(1),this._totalGold=this.view.getChildAt(4),this._petNumTxt=this.view.getChildAt(6),t.prototype.onLoad.call(this))},i}(n))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/IUIBattleEntryChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,n,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){s=t.BaseForm}],execute:function(){var o;e._RF.push({},"abbbcJ3kf1CEYFdfDM44vuc","IUIBattleEntryChild",void 0);var l=n.ccclass;n.property,t("default",l(o=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this)._bg=void 0,i._desc=void 0,i._battleName=void 0,i._leftTime=void 0,i._people=void 0,i._btnEnter=void 0,i._btnHelp=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._bg=this.view.getChildAt(0),this._desc=this.view.getChildAt(1),this._battleName=this.view.getChildAt(2),this._leftTime=this.getFguiComponent(this.view.getChildAt(3),"LeftTime"),this._people=this.getFguiComponent(this.view.getChildAt(4),"People"),this._btnEnter=this.view.getChildAt(5),this.listenerClick(this._btnEnter,this.onClick_Wnd),this._btnHelp=this.view.getChildAt(6),this.listenerClick(this._btnHelp,this.onClick_Wnd),t.prototype.onLoad.call(this))},e}(s))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIBattleExit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,s,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){o=t.BaseForm}],execute:function(){var n;e._RF.push({},"6909asDsZZJrZ7fqmACYLNJ","IUIBattleExit",void 0);var r=s.ccclass;s.property,t("default",r(n=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return(i=t.call.apply(t,[this].concat(s))||this)._bg=void 0,i._title=void 0,i._btnClose=void 0,i._desc=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._bg=this.view.getChildAt(0),this._title=this.view.getChildAt(1),this._btnClose=this.view.getChildAt(2),this.listenerClick(this._btnClose,this.onClick_Wnd),this._desc=this.view.getChildAt(3),t.prototype.onLoad.call(this))},e}(o))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIBattleMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,o,e,n;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){n=t.BaseForm}],execute:function(){var s;o._RF.push({},"bbe1d+VQUhAMKYkV2nwZ1Wn","IUIBattleMain",void 0);var h=e.ccclass;e.property,t("default",h(s=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this)._c1=void 0,i._totalBonus=void 0,i._round=void 0,i._leftPlayerNum=void 0,i._countDown=void 0,i._gridComp=void 0,i._playerBonus=void 0,i._btnExit=void 0,i._roundStartEff=void 0,i._tips=void 0,i._t0=void 0,i._t1=void 0,i._t2=void 0,i}return i(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(0),this._totalBonus=this.view.getChildAt(4),this._round=this.view.getChildAt(6),this._leftPlayerNum=this.view.getChildAt(7),this._countDown=this.getFguiComponent(this.view.getChildAt(8),"CountDown"),this._gridComp=this.getFguiComponent(this.view.getChildAt(10),"UIGridComp"),this._playerBonus=this.view.getChildAt(13),this._btnExit=this.view.getChildAt(14),this.listenerClick(this._btnExit,this.onClick_Wnd),this._roundStartEff=this.getFguiComponent(this.view.getChildAt(16),"UIRoundStartEff"),this._tips=this.view.getChildAt(17),this._t0=this.view.getTransitionAt(0),this._t1=this.view.getTransitionAt(1),this._t2=this.view.getTransitionAt(2),t.prototype.onLoad.call(this))},o}(n))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/IUIBattleResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.BaseForm}],execute:function(){var n;e._RF.push({},"f6ccfBPu0NBMr5QJ0LO+fCA","IUIBattleResult",void 0);var r=o.ccclass;o.property,t("default",r(n=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this)._c1=void 0,i._bg=void 0,i._bg2=void 0,i._desc=void 0,i._t0=void 0,i._t1=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(0),this._bg=this.view.getChildAt(0),this._bg2=this.view.getChildAt(1),this._desc=this.view.getChildAt(2),this._t0=this.view.getTransitionAt(0),this._t1=this.view.getTransitionAt(1),t.prototype.onLoad.call(this))},e}(s))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIBattleSelectPet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.BaseForm}],execute:function(){var s;e._RF.push({},"5f126YzLp1FsZhn4uGydl0H","IUIBattleSelectPet",void 0);var r=n.ccclass;n.property,t("default",r(s=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this)._list=void 0,i._btnConfirm=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._list=this.view.getChildAt(2),this._btnConfirm=this.view.getChildAt(3),this.listenerClick(this._btnConfirm,this.onClick_Wnd),t.prototype.onLoad.call(this))},e}(o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIBattleSelectPetChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,l;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){l=t.BaseForm}],execute:function(){var n;e._RF.push({},"1dbd2uZQ3hPkadK/yMzoQwW","IUIBattleSelectPetChild",void 0);var s=o.ccclass;o.property,t("default",s(n=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return(i=t.call.apply(t,[this].concat(o))||this)._img=void 0,i._nameTxt=void 0,i._quality=void 0,i._title=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._img=this.view.getChildAt(2),this._nameTxt=this.view.getChildAt(3),this._quality=this.view.getChildAt(5),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},e}(l))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIBoxEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,o,e,s;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){s=t.BaseForm}],execute:function(){var r;o._RF.push({},"4b9c7Rk18FIOrlkIQw2vwNS","IUIBoxEffect",void 0);var n=e.ccclass;e.property,t("default",n(r=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this)._c1=void 0,i._box0=void 0,i._box1=void 0,i._box2=void 0,i._box3=void 0,i._box4=void 0,i}return i(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(0),this._box0=this.view.getChildAt(0),this._box1=this.view.getChildAt(1),this._box2=this.view.getChildAt(2),this._box3=this.view.getChildAt(3),this._box4=this.view.getChildAt(4),t.prototype.onLoad.call(this))},o}(s))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/IUIButtom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,o,n,e;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator},function(t){e=t.BaseForm}],execute:function(){var s;o._RF.push({},"f9978BBZIpLHqN0xk+Jzxjp","IUIButtom",void 0);var h=n.ccclass;n.property,t("default",h(s=function(t){function o(){for(var i,o=arguments.length,n=new Array(o),e=0;e<o;e++)n[e]=arguments[e];return(i=t.call.apply(t,[this].concat(n))||this)._c1=void 0,i._btnShop=void 0,i._btnTask=void 0,i._btnEgg=void 0,i._btnEggOpen=void 0,i._btnBattle=void 0,i}return i(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(0),this._btnShop=this.getFguiComponent(this.view.getChildAt(1),"ShopButton"),this._btnTask=this.getFguiComponent(this.view.getChildAt(2),"TaskButton"),this._btnEgg=this.getFguiComponent(this.view.getChildAt(3),"EggButton"),this._btnEggOpen=this.getFguiComponent(this.view.getChildAt(4),"SmashEggButton"),this._btnBattle=this.getFguiComponent(this.view.getChildAt(5),"BattleButton"),t.prototype.onLoad.call(this))},o}(e))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/IUIDailyShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,s,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){o=t.BaseForm}],execute:function(){var n;e._RF.push({},"466fc4mYslB96jX+CZrleJl","IUIDailyShop",void 0);var r=s.ccclass;s.property,t("default",r(n=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return(i=t.call.apply(t,[this].concat(s))||this)._desc=void 0,i._list=void 0,i._btnRefresh=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._desc=this.view.getChildAt(3),this._list=this.view.getChildAt(4),this._btnRefresh=this.view.getChildAt(5),this.listenerClick(this._btnRefresh,this.onClick_Wnd),t.prototype.onLoad.call(this))},e}(o))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIDeluxeRewardBuy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){o=t.BaseForm}],execute:function(){var r;i._RF.push({},"830c62dYsxG7bA4LANfZvJ7","IUIDeluxeRewardBuy",void 0);var s=n.ccclass;n.property,t("default",s(r=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._btnBuy=void 0,e._titleImg=void 0,e}return e(i,t),i.prototype.onLoad=function(){this.view&&!this._isInit&&(this._btnBuy=this.view.getChildAt(1),this.listenerClick(this._btnBuy,this.onClick_Wnd),this._titleImg=this.view.getChildAt(3),t.prototype.onLoad.call(this))},i}(o))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/IUIDiamondShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var o,i,n,e;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){e=t.BaseForm}],execute:function(){var r;i._RF.push({},"a0560fDuDBJVIh82YCyRUxt","IUIDiamondShop",void 0);var s=n.ccclass;n.property,t("default",s(r=function(t){function i(){for(var o,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(o=t.call.apply(t,[this].concat(n))||this)._list=void 0,o}return o(i,t),i.prototype.onLoad=function(){this.view&&!this._isInit&&(this._list=this.view.getChildAt(3),t.prototype.onLoad.call(this))},i}(e))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/IUIEggComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){r=t.BaseForm}],execute:function(){var s;e._RF.push({},"0a985dotDFHvJkBHX8z0pk7","IUIEggComp",void 0);var n=o.ccclass;o.property,t("default",n(s=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))||this)._part3=void 0,i._part1=void 0,i._part2=void 0,i._score=void 0,i._redPoint=void 0,i._title=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._part3=this.view.getChildAt(2),this._part1=this.view.getChildAt(3),this._part2=this.view.getChildAt(4),this._score=this.view.getChildAt(6),this._redPoint=this.getFguiComponent(this.view.getChildAt(7),"RedPoint"),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIEggOpenComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.BaseForm}],execute:function(){var n;e._RF.push({},"6d2c1kQAYJH5KxgZPFbZpHV","IUIEggOpenComp",void 0);var r=o.ccclass;o.property,t("default",r(n=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this)._chuizi=void 0,i._egg=void 0,i._boom=void 0,i._t0=void 0,i._t1=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._chuizi=this.view.getChildAt(0),this._egg=this.view.getChildAt(1),this.listenerClick(this._egg,this.onClick_Wnd),this._boom=this.view.getChildAt(2),this._t0=this.view.getTransitionAt(0),this._t1=this.view.getTransitionAt(1),t.prototype.onLoad.call(this))},e}(s))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIGridComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(i){var t,e,o,g;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,o=i._decorator},function(i){g=i.BaseForm}],execute:function(){var s;e._RF.push({},"01ee8KiNWJK9rpbOWSm0QTZ","IUIGridComp",void 0);var h=o.ccclass;o.property,i("default",h(s=function(i){function e(){for(var t,e=arguments.length,o=new Array(e),g=0;g<e;g++)o[g]=arguments[g];return(t=i.call.apply(i,[this].concat(o))||this)._c1=void 0,t._img1=void 0,t._img2=void 0,t._img3=void 0,t._img4=void 0,t._img5=void 0,t._img6=void 0,t._img7=void 0,t._img8=void 0,t._touch=void 0,t}return t(e,i),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(0),this._img1=this.getFguiComponent(this.view.getChildAt(0),"Img1"),this._img2=this.getFguiComponent(this.view.getChildAt(1),"Img2"),this._img3=this.getFguiComponent(this.view.getChildAt(2),"Img2"),this._img4=this.getFguiComponent(this.view.getChildAt(3),"Img1"),this._img5=this.getFguiComponent(this.view.getChildAt(4),"Img1"),this._img6=this.getFguiComponent(this.view.getChildAt(5),"Img2"),this._img7=this.getFguiComponent(this.view.getChildAt(6),"Img2"),this._img8=this.getFguiComponent(this.view.getChildAt(7),"Img1"),this._touch=this.view.getChildAt(8),i.prototype.onLoad.call(this))},e}(g))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIGuide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,o,e,s;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){s=t.BaseForm}],execute:function(){var n;o._RF.push({},"218c8CpJV5LdaELSvx2a1oY","IUIGuide",void 0);var r=e.ccclass;e.property,t("default",r(n=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this)._bg=void 0,i._mask=void 0,i._dialog=void 0,i._finger=void 0,i._touch=void 0,i}return i(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._bg=this.view.getChildAt(0),this._mask=this.getFguiComponent(this.view.getChildAt(1),"MaskComp"),this._dialog=this.getFguiComponent(this.view.getChildAt(2),"DialogComp"),this._finger=this.getFguiComponent(this.view.getChildAt(3),"finger"),this._touch=this.view.getChildAt(4),t.prototype.onLoad.call(this))},o}(s))||n);o._RF.pop()}}}));

System.register("chunks:///_virtual/IUIHelp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.BaseForm}],execute:function(){var n;e._RF.push({},"8e0cbUyDoFMuL4yLOmMtxJ9","IUIHelp",void 0);var l=o.ccclass;o.property,t("default",l(n=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this)._title=void 0,i._list=void 0,i._btnClose=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._title=this.view.getChildAt(1),this._list=this.view.getChildAt(2),this._btnClose=this.view.getChildAt(3),this.listenerClick(this._btnClose,this.onClick_Wnd),t.prototype.onLoad.call(this))},e}(s))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIHelpChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,o,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;o._RF.push({},"56d6dlOjcRFpbOjaozpDey1","IUIHelpChild",void 0);var c=i.ccclass;i.property,t("default",c(r=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this)._desc=void 0,e}return e(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._desc=this.view.getChildAt(0),t.prototype.onLoad.call(this))},o}(n))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/IUIItemTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,o,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator},function(t){r=t.BaseForm}],execute:function(){var n;o._RF.push({},"ab2e33ybu5MErLvB/m9fOt/","IUIItemTips",void 0);var s=i.ccclass;i.property,t("default",s(n=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this)._desc=void 0,e}return e(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._desc=this.view.getChildAt(1),t.prototype.onLoad.call(this))},o}(r))||n);o._RF.pop()}}}));

System.register("chunks:///_virtual/IUIMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,h,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,h=t._decorator},function(t){n=t.BaseForm}],execute:function(){var s;e._RF.push({},"3bca6Eme5VKbL0UepuT80xE","IUIMain",void 0);var o=h.ccclass;h.property,t("default",o(s=function(t){function e(){for(var i,e=arguments.length,h=new Array(e),n=0;n<e;n++)h[n]=arguments[n];return(i=t.call.apply(t,[this].concat(h))||this)._chicken=void 0,i._eggNum=void 0,i._caidai=void 0,i._btnRanking=void 0,i._btnAutoEggCollect=void 0,i._btnBP=void 0,i._btnCheckIn=void 0,i._eggList=void 0,i._btnSetting=void 0,i._totalGold=void 0,i._autoAddVitMax=void 0,i._totalVit=void 0,i._btnAddVit=void 0,i._layEggTimeComp=void 0,i._clickCount=void 0,i._clickLayEgg=void 0,i._touch=void 0,i._t0=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._chicken=this.getFguiComponent(this.view.getChildAt(2),"Chicken"),this._eggNum=this.view.getChildAt(3),this._caidai=this.view.getChildAt(4),this._btnRanking=this.view.getChildAt(5),this.listenerClick(this._btnRanking,this.onClick_Wnd),this._btnAutoEggCollect=this.getFguiComponent(this.view.getChildAt(6),"AutoEggCollectButton"),this._btnBP=this.view.getChildAt(7),this.listenerClick(this._btnBP,this.onClick_Wnd),this._btnCheckIn=this.view.getChildAt(8),this.listenerClick(this._btnCheckIn,this.onClick_Wnd),this._eggList=this.view.getChildAt(10),this._btnSetting=this.view.getChildAt(11),this.listenerClick(this._btnSetting,this.onClick_Wnd),this._totalGold=this.view.getChildAt(14),this._autoAddVitMax=this.view.getChildAt(17),this._totalVit=this.view.getChildAt(18),this._btnAddVit=this.view.getChildAt(19),this.listenerClick(this._btnAddVit,this.onClick_Wnd),this._layEggTimeComp=this.getFguiComponent(this.view.getChildAt(20),"LayEggTimeComp"),this._clickCount=this.view.getChildAt(21),this._clickLayEgg=this.view.getChildAt(23),this._touch=this.view.getChildAt(25),this._t0=this.view.getTransitionAt(0),t.prototype.onLoad.call(this))},e}(n))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIOrdinaryShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var o,r,i,n;return{setters:[function(t){o=t.inheritsLoose},function(t){r=t.cclegacy,i=t._decorator},function(t){n=t.BaseForm}],execute:function(){var e;r._RF.push({},"58ad8oFs8dMla9wys8Y4D4v","IUIOrdinaryShop",void 0);var s=i.ccclass;i.property,t("default",s(e=function(t){function r(){for(var o,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(o=t.call.apply(t,[this].concat(i))||this)._list=void 0,o}return o(r,t),r.prototype.onLoad=function(){this.view&&!this._isInit&&(this._list=this.view.getChildAt(3),t.prototype.onLoad.call(this))},r}(n))||e);r._RF.pop()}}}));

System.register("chunks:///_virtual/IUIPassPort.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,s,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){o=t.BaseForm}],execute:function(){var h;e._RF.push({},"d7aebeGb5NMbLNJYpRFrSVu","IUIPassPort",void 0);var n=s.ccclass;s.property,t("default",n(h=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return(i=t.call.apply(t,[this].concat(s))||this)._main=void 0,i._btnClose=void 0,i._banner=void 0,i._touch=void 0,i._autoAddVitMax=void 0,i._totalVit=void 0,i._btnAddVit=void 0,i._totalDiamond=void 0,i._lvProgressbar=void 0,i._star=void 0,i._lv=void 0,i._btnHelp=void 0,i._leftTime=void 0,i._titleImg=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._main=this.getFguiComponent(this.view.getChildAt(1),"UIPassPortMain"),this._btnClose=this.view.getChildAt(2),this.listenerClick(this._btnClose,this.onClick_Wnd),this._banner=this.view.getChildAt(3),this._touch=this.view.getChildAt(4),this._autoAddVitMax=this.view.getChildAt(7),this._totalVit=this.view.getChildAt(8),this._btnAddVit=this.view.getChildAt(9),this.listenerClick(this._btnAddVit,this.onClick_Wnd),this._totalDiamond=this.view.getChildAt(11),this._lvProgressbar=this.view.getChildAt(15),this._star=this.view.getChildAt(17),this._lv=this.view.getChildAt(19),this._btnHelp=this.view.getChildAt(20),this.listenerClick(this._btnHelp,this.onClick_Wnd),this._leftTime=this.view.getChildAt(23),this._titleImg=this.view.getChildAt(25),t.prototype.onLoad.call(this))},e}(o))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIPassPortChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,i,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){r=t.BaseForm}],execute:function(){var s;i._RF.push({},"1c0ecvybEZHR6EPY+zkMdJX","IUIPassPortChild",void 0);var n=o.ccclass;o.property,t("default",n(s=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._ordinaryReward=void 0,e._lv=void 0,e._deluxeReward=void 0,e}return e(i,t),i.prototype.onLoad=function(){this.view&&!this._isInit&&(this._ordinaryReward=this.getFguiComponent(this.view.getChildAt(0),"UIPassPortReward"),this._lv=this.view.getChildAt(2),this._deluxeReward=this.getFguiComponent(this.view.getChildAt(3),"UIPassPortReward"),t.prototype.onLoad.call(this))},i}(r))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/IUIPassPortList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,s,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy,n=t._decorator},function(t){o=t.BaseForm}],execute:function(){var e;s._RF.push({},"c9891JtKKdODaPVntvP6DoQ","IUIPassPortList",void 0);var r=n.ccclass;n.property,t("default",r(e=function(t){function s(){for(var i,s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this)._bg=void 0,i._xian=void 0,i._xian2=void 0,i._btnUnlock=void 0,i._list=void 0,i}return i(s,t),s.prototype.onLoad=function(){this.view&&!this._isInit&&(this._bg=this.view.getChildAt(0),this._xian=this.view.getChildAt(5),this._xian2=this.view.getChildAt(6),this._btnUnlock=this.view.getChildAt(8),this.listenerClick(this._btnUnlock,this.onClick_Wnd),this._list=this.view.getChildAt(9),t.prototype.onLoad.call(this))},s}(o))||e);s._RF.pop()}}}));

System.register("chunks:///_virtual/IUIPassPortMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var o,i,s,n;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator},function(t){n=t.BaseForm}],execute:function(){var e;i._RF.push({},"54243vG0a5LUakQ2mun8qtT","IUIPassPortMain",void 0);var r=s.ccclass;s.property,t("default",r(e=function(t){function i(){for(var o,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(o=t.call.apply(t,[this].concat(s))||this)._list=void 0,o}return o(i,t),i.prototype.onLoad=function(){this.view&&!this._isInit&&(this._list=this.getFguiComponent(this.view.getChildAt(0),"UIPassPortList"),t.prototype.onLoad.call(this))},i}(n))||e);i._RF.pop()}}}));

System.register("chunks:///_virtual/IUIPassPortReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.BaseForm}],execute:function(){var r;e._RF.push({},"c4337wuUZZGEIqeMacPyeB7","IUIPassPortReward",void 0);var n=o.ccclass;o.property,t("default",n(r=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this)._c1=void 0,i._c2=void 0,i._c3=void 0,i._img=void 0,i._numTxt=void 0,i._unlock=void 0,i._title=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(1),this._c2=this.view.getControllerAt(2),this._c3=this.view.getControllerAt(3),this._img=this.view.getChildAt(2),this._numTxt=this.view.getChildAt(3),this._unlock=this.view.getChildAt(4),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},e}(s))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIPetHeadComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.BaseForm}],execute:function(){var n;e._RF.push({},"c70e70V9hFCIoUId9/yBcM9","IUIPetHeadComp",void 0);var r=o.ccclass;o.property,t("default",r(n=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this)._c1=void 0,i._img=void 0,i._num=void 0,i._redPoint=void 0,i._suo=void 0,i._title=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(1),this._img=this.view.getChildAt(2),this._num=this.view.getChildAt(3),this._redPoint=this.view.getChildAt(4),this._suo=this.view.getChildAt(6),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},e}(s))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIPetInfoComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.BaseForm}],execute:function(){var n;e._RF.push({},"3adb4PdbrBNrrJq5lkxjy4N","IUIPetInfoComp",void 0);var r=o.ccclass;o.property,t("default",r(n=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this)._bg=void 0,i._bg2=void 0,i._petBody=void 0,i._nameTxt=void 0,i._quality=void 0,i._desc=void 0,i._t0=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._bg=this.view.getChildAt(0),this._bg2=this.view.getChildAt(1),this._petBody=this.view.getChildAt(3),this._nameTxt=this.view.getChildAt(5),this._quality=this.view.getChildAt(6),this._desc=this.view.getChildAt(7),this._t0=this.view.getTransitionAt(0),t.prototype.onLoad.call(this))},e}(s))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIRanking.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,n,o,e;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){e=t.BaseForm}],execute:function(){var s;n._RF.push({},"2e51fKheyhOuogj46XAzeYQ","IUIRanking",void 0);var l=o.ccclass;o.property,t("default",l(s=function(t){function n(){for(var i,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(i=t.call.apply(t,[this].concat(o))||this)._list=void 0,i._totalGold=void 0,i._myRanking=void 0,i._btnClose=void 0,i}return i(n,t),n.prototype.onLoad=function(){this.view&&!this._isInit&&(this._list=this.view.getChildAt(1),this._totalGold=this.view.getChildAt(4),this._myRanking=this.getFguiComponent(this.view.getChildAt(9),"UIRankingComp"),this._btnClose=this.view.getChildAt(11),this.listenerClick(this._btnClose,this.onClick_Wnd),t.prototype.onLoad.call(this))},n}(e))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/IUIRankingChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,n,o,e;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){e=t.BaseForm}],execute:function(){var r;n._RF.push({},"5cba3AV7T1Ab6NRgQeXNir1","IUIRankingChild",void 0);var s=o.ccclass;o.property,t("default",s(r=function(t){function n(){for(var i,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(i=t.call.apply(t,[this].concat(o))||this)._c1=void 0,i._ranking=void 0,i}return i(n,t),n.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(0),this._ranking=this.getFguiComponent(this.view.getChildAt(4),"UIRankingComp"),t.prototype.onLoad.call(this))},n}(e))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/IUIRankingComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;e._RF.push({},"1025efteFFLOYCdxUAKiwpl","IUIRankingComp",void 0);var s=o.ccclass;o.property,t("default",s(r=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this)._c1=void 0,i._rankTxt=void 0,i._nameTxt=void 0,i._goldTxt=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(0),this._rankTxt=this.view.getChildAt(3),this._nameTxt=this.view.getChildAt(4),this._goldTxt=this.view.getChildAt(7),t.prototype.onLoad.call(this))},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;e._RF.push({},"33243K3IyVFAbZoNwlv2D0y","IUIReward",void 0);var s=o.ccclass;o.property,t("default",s(r=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this)._img=void 0,i._numTxt=void 0,i._nameTxt=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._img=this.view.getChildAt(1),this._numTxt=this.view.getChildAt(2),this._nameTxt=this.view.getChildAt(3),t.prototype.onLoad.call(this))},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIRewardTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){r=t.BaseForm}],execute:function(){var s;e._RF.push({},"d4a93yVKS1BT5xwkggjeqXr","IUIRewardTips",void 0);var n=o.ccclass;o.property,t("default",n(s=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))||this)._touch=void 0,i._list=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._touch=this.view.getChildAt(4),this._list=this.view.getChildAt(5),t.prototype.onLoad.call(this))},e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIRoundStartEff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var o,i,n,r;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){r=t.BaseForm}],execute:function(){var e;i._RF.push({},"1f88aCiN6NEUauPxhJM/roC","IUIRoundStartEff",void 0);var s=n.ccclass;n.property,t("default",s(e=function(t){function i(){for(var o,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this)._roundTxt=void 0,o._t0=void 0,o}return o(i,t),i.prototype.onLoad=function(){this.view&&!this._isInit&&(this._roundTxt=this.view.getChildAt(1),this._t0=this.view.getTransitionAt(0),t.prototype.onLoad.call(this))},i}(r))||e);i._RF.pop()}}}));

System.register("chunks:///_virtual/IUISetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(i){var t,s,e,n;return{setters:[function(i){t=i.inheritsLoose},function(i){s=i.cclegacy,e=i._decorator},function(i){n=i.BaseForm}],execute:function(){var o;s._RF.push({},"770a9UFYLdHcKS+GHxQ3js2","IUISetting",void 0);var h=e.ccclass;e.property,i("default",h(o=function(i){function s(){for(var t,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(t=i.call.apply(i,[this].concat(e))||this)._uid=void 0,t._version=void 0,t._soundSlider=void 0,t._btnSound=void 0,t._musicSlider=void 0,t._btnMusic=void 0,t._btnClose=void 0,t}return t(s,i),s.prototype.onLoad=function(){this.view&&!this._isInit&&(this._uid=this.view.getChildAt(4),this._version=this.view.getChildAt(5),this._soundSlider=this.view.getChildAt(7),this._btnSound=this.view.getChildAt(8),this.listenerClick(this._btnSound,this.onClick_Wnd),this._musicSlider=this.view.getChildAt(10),this._btnMusic=this.view.getChildAt(11),this.listenerClick(this._btnMusic,this.onClick_Wnd),this._btnClose=this.view.getChildAt(13),this.listenerClick(this._btnClose,this.onClick_Wnd),i.prototype.onLoad.call(this))},s}(n))||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/IUIShareEgg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){n=t.BaseForm}],execute:function(){var o;e._RF.push({},"9343cB64UpHMLKPKQDGGuOp","IUIShareEgg",void 0);var h=s.ccclass;s.property,t("default",h(o=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._egg=void 0,i._petBody=void 0,i._list=void 0,i._btnClose=void 0,i._btnShare=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._egg=this.view.getChildAt(4),this.listenerClick(this._egg,this.onClick_Wnd),this._petBody=this.view.getChildAt(5),this._list=this.view.getChildAt(9),this._btnClose=this.view.getChildAt(11),this.listenerClick(this._btnClose,this.onClick_Wnd),this._btnShare=this.view.getChildAt(12),this.listenerClick(this._btnShare,this.onClick_Wnd),t.prototype.onLoad.call(this))},e}(n))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIShareEggChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.BaseForm}],execute:function(){var r;e._RF.push({},"5ef3d+vo8JPgKnfAtlzrmSO","IUIShareEggChild",void 0);var s=o.ccclass;o.property,t("default",s(r=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this)._icon=void 0,i._num=void 0,i._nameText=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._icon=this.view.getChildAt(1),this._num=this.view.getChildAt(2),this._nameText=this.view.getChildAt(3),t.prototype.onLoad.call(this))},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var o,i,n,e;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){e=t.BaseForm}],execute:function(){var s;i._RF.push({},"85b232JBehMRJ48A6cc9G8c","IUIShop",void 0);var r=n.ccclass;n.property,t("default",r(s=function(t){function i(){for(var o,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(o=t.call.apply(t,[this].concat(n))||this)._shopMain=void 0,o._totalDiamond=void 0,o}return o(i,t),i.prototype.onLoad=function(){this.view&&!this._isInit&&(this._shopMain=this.getFguiComponent(this.view.getChildAt(0),"UIShopMain"),this._totalDiamond=this.view.getChildAt(2),t.prototype.onLoad.call(this))},i}(e))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/IUIShopBuy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){n=t.BaseForm}],execute:function(){var o;e._RF.push({},"ae09cHP8plARZsdZTgCq3Pq","IUIShopBuy",void 0);var h=s.ccclass;s.property,t("default",h(o=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._c1=void 0,i._btnTONBuy=void 0,i._btnUSTDBuy=void 0,i._img=void 0,i._nameTxt=void 0,i._discount=void 0,i._numTxt=void 0,i._price=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(0),this._btnTONBuy=this.view.getChildAt(3),this.listenerClick(this._btnTONBuy,this.onClick_Wnd),this._btnUSTDBuy=this.view.getChildAt(4),this.listenerClick(this._btnUSTDBuy,this.onClick_Wnd),this._img=this.view.getChildAt(6),this._nameTxt=this.view.getChildAt(7),this._discount=this.view.getChildAt(9),this._numTxt=this.view.getChildAt(10),this._price=this.view.getChildAt(11),t.prototype.onLoad.call(this))},e}(n))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIShopChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.BaseForm}],execute:function(){var h;e._RF.push({},"1fb40IQeclCh7E/60mXkNAU","IUIShopChild",void 0);var n=o.ccclass;o.property,t("default",n(h=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this)._c1=void 0,i._c2=void 0,i._c3=void 0,i._img=void 0,i._nameTxt=void 0,i._priceIcon=void 0,i._discount=void 0,i._numTxt=void 0,i._redPoint=void 0,i._mask=void 0,i._title=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(1),this._c2=this.view.getControllerAt(2),this._c3=this.view.getControllerAt(3),this._img=this.view.getChildAt(1),this._nameTxt=this.view.getChildAt(2),this._priceIcon=this.view.getChildAt(6),this._discount=this.view.getChildAt(8),this._numTxt=this.view.getChildAt(9),this._redPoint=this.view.getChildAt(10),this._mask=this.view.getChildAt(11),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},e}(s))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUIShopMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,o,n,e;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator},function(t){e=t.BaseForm}],execute:function(){var r;o._RF.push({},"8eaeah9fPhOJLxqYSiNVVrJ","IUIShopMain",void 0);var h=n.ccclass;n.property,t("default",h(r=function(t){function o(){for(var i,o=arguments.length,n=new Array(o),e=0;e<o;e++)n[e]=arguments[e];return(i=t.call.apply(t,[this].concat(n))||this)._dailyShop=void 0,i._ordinaryShop=void 0,i._diamondShop=void 0,i}return i(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._dailyShop=this.getFguiComponent(this.view.getChildAt(0),"UIDailyShop"),this._ordinaryShop=this.getFguiComponent(this.view.getChildAt(1),"UIOrdinaryShop"),this._diamondShop=this.getFguiComponent(this.view.getChildAt(2),"UIDiamondShop"),t.prototype.onLoad.call(this))},o}(e))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/IUISignIn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){n=t.BaseForm}],execute:function(){var o;e._RF.push({},"c59ccLmH2VD75Yp8CYUyPF4","IUISignIn",void 0);var h=s.ccclass;s.property,t("default",h(o=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this)._touch=void 0,i._list=void 0,i._btnBuy=void 0,i._effectiveTime=void 0,i._btnClose=void 0,i._leftTime=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._touch=this.view.getChildAt(5),this._list=this.view.getChildAt(6),this._btnBuy=this.view.getChildAt(8),this.listenerClick(this._btnBuy,this.onClick_Wnd),this._effectiveTime=this.view.getChildAt(12),this._btnClose=this.view.getChildAt(14),this.listenerClick(this._btnClose,this.onClick_Wnd),this._leftTime=this.view.getChildAt(15),t.prototype.onLoad.call(this))},e}(n))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUISignInChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.BaseForm}],execute:function(){var s;e._RF.push({},"e5bf1bPiUJLd4n+0lPvoQ6i","IUISignInChild",void 0);var h=n.ccclass;n.property,t("default",h(s=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this)._c1=void 0,i._c2=void 0,i._img=void 0,i._numTxt=void 0,i._nameTxt=void 0,i._btnReSign=void 0,i._title=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(1),this._c2=this.view.getControllerAt(2),this._img=this.view.getChildAt(1),this._numTxt=this.view.getChildAt(2),this._nameTxt=this.view.getChildAt(3),this._btnReSign=this.view.getChildAt(6),this.listenerClick(this._btnReSign,this.onClick_Wnd),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},e}(o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUISignInChild2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.BaseForm}],execute:function(){var s;e._RF.push({},"f7af4tHwTZMQIvUqOP0OeMM","IUISignInChild2",void 0);var h=n.ccclass;n.property,t("default",h(s=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this)._c1=void 0,i._c2=void 0,i._c3=void 0,i._img=void 0,i._numTxt=void 0,i._nameTxt=void 0,i._btnReSign=void 0,i._title=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(1),this._c2=this.view.getControllerAt(2),this._c3=this.view.getControllerAt(3),this._img=this.view.getChildAt(3),this._numTxt=this.view.getChildAt(4),this._nameTxt=this.view.getChildAt(5),this._btnReSign=this.view.getChildAt(8),this.listenerClick(this._btnReSign,this.onClick_Wnd),this._title=this.view.getChild("title"),t.prototype.onLoad.call(this))},e}(o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/IUISignInChild3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(i){var t,n,e,o;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,e=i._decorator},function(i){o=i.BaseForm}],execute:function(){var h;n._RF.push({},"ce401AdVhtFBaOEKXY8skke","IUISignInChild3",void 0);var s=e.ccclass;e.property,i("default",s(h=function(i){function n(){for(var t,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(t=i.call.apply(i,[this].concat(e))||this)._child1=void 0,t._child2=void 0,t._child3=void 0,t}return t(n,i),n.prototype.onLoad=function(){this.view&&!this._isInit&&(this._child1=this.getFguiComponent(this.view.getChildAt(0),"UISignInChild"),this._child2=this.getFguiComponent(this.view.getChildAt(1),"UISignInChild"),this._child3=this.getFguiComponent(this.view.getChildAt(2),"UISignInChild2"),i.prototype.onLoad.call(this))},n}(o))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/IUISmashEgg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var e,i,o,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){s=t.BaseForm}],execute:function(){var n;i._RF.push({},"aa1a0tcwytPuIOM23eyH5sT","IUISmashEgg",void 0);var h=o.ccclass;o.property,t("default",h(n=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this)._retrieveCard=void 0,e._eggNumTxt=void 0,e._petNumTxt=void 0,e._eggList=void 0,e._petList=void 0,e._eggOpen=void 0,e._petInfo=void 0,e._smoke=void 0,e}return e(i,t),i.prototype.onLoad=function(){this.view&&!this._isInit&&(this._retrieveCard=this.view.getChildAt(2),this._eggNumTxt=this.view.getChildAt(6),this._petNumTxt=this.view.getChildAt(9),this._eggList=this.view.getChildAt(12),this._petList=this.view.getChildAt(13),this._eggOpen=this.getFguiComponent(this.view.getChildAt(15),"UIEggOpenComp"),this._petInfo=this.getFguiComponent(this.view.getChildAt(16),"UIPetInfoComp"),this._smoke=this.view.getChildAt(17),t.prototype.onLoad.call(this))},i}(s))||n);i._RF.pop()}}}));

System.register("chunks:///_virtual/IUITask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,o,e,s;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){s=t.BaseForm}],execute:function(){var n;o._RF.push({},"0076bko3jFB/5EpYdxzMM+O","IUITask",void 0);var r=e.ccclass;e.property,t("default",r(n=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this)._c1=void 0,i._main=void 0,i._daily=void 0,i._taskList=void 0,i}return i(o,t),o.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(0),this._main=this.getFguiComponent(this.view.getChildAt(1),"TaskTypeButton"),this._daily=this.getFguiComponent(this.view.getChildAt(2),"TaskTypeButton"),this._taskList=this.view.getChildAt(4),t.prototype.onLoad.call(this))},o}(s))||n);o._RF.pop()}}}));

System.register("chunks:///_virtual/IUITaskChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts"],(function(t){var i,e,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.BaseForm}],execute:function(){var n;e._RF.push({},"b4156XiDzdCxInGU9GundJH","IUITaskChild",void 0);var h=o.ccclass;o.property,t("default",h(n=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this)._c1=void 0,i._num=void 0,i._goto=void 0,i._gou=void 0,i._get=void 0,i._desc=void 0,i._img=void 0,i}return i(e,t),e.prototype.onLoad=function(){this.view&&!this._isInit&&(this._c1=this.view.getControllerAt(0),this._num=this.view.getChildAt(2),this._goto=this.view.getChildAt(3),this.listenerClick(this._goto,this.onClick_Wnd),this._gou=this.view.getChildAt(4),this.listenerClick(this._gou,this.onClick_Wnd),this._get=this.getFguiComponent(this.view.getChildAt(5),"TaskRewardButton"),this._desc=this.view.getChildAt(6),this._img=this.view.getChildAt(7),t.prototype.onLoad.call(this))},e}(s))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/LaunchScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClientMgr.ts"],(function(t){var n,e,i,o,a,c,r,u,l,s;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,c=t._decorator,r=t.Node,u=t.isValid,l=t.Component},function(t){s=t.ClientMgr}],execute:function(){var d,p,f,g,h;a._RF.push({},"78a30Mce8tCYoSO8ClLStqZ","LaunchScene",void 0);var m=c.ccclass,v=c.property;t("LaunchScene",(d=m("LaunchScene"),p=v(r),d((h=n((g=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return n=t.call.apply(t,[this].concat(a))||this,i(n,"loading",h,o(n)),n._timeount=0,n}e(n,t);var a=n.prototype;return a.onLoad=function(){var t=this;s.inst.init(),this._timeount=setTimeout((function(){u(t.loading)&&(t.loading.active=!1),t._timeount=setTimeout((function(){u(t.loading)&&(t.loading.active=!0),t._timeount=setTimeout((function(){u(t.loading)&&(t.loading.active=!1),t._timeount=setTimeout((function(){u(t.loading)&&(t.loading.active=!0)}),100)}),1e3)}),100)}),100)},a.onDestroy=function(){clearTimeout(this._timeount)},a.update=function(t){},n}(l)).prototype,"loading",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/LayEggTimeComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ILayEggTimeComp.ts"],(function(n){var o,t,i,e;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,i=n._decorator},function(n){e=n.default}],execute:function(){var c;t._RF.push({},"1a6cftguElA4J6OS45bFxkl","LayEggTimeComp",void 0);var u=i.ccclass;i.property,n("LayEggTimeComp",u(c=function(n){function t(){return n.apply(this,arguments)||this}o(t,n);var i=t.prototype;return i.onInit=function(){this.initRedPoint(this._redPoint,"layEgg")},i.onShown=function(){},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(n){},i.onClick_Wnd=function(n,o){},t}(e))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorageMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseClass.ts","./EncryptUtil.ts"],(function(t){var e,i,r,n,s,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){r=t.cclegacy,n=t.sys},function(t){s=t.BaseClass},function(t){o=t.EncryptUtil}],execute:function(){r._RF.push({},"94b73TaCBxL66zd1Q0lvEqf","LocalStorageMgr",void 0),t("default",function(t){function r(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this)._initDataDict=null,e._roleInitDataDict=null,e._linkServerID="Server01",e._roleID="",e._encryptUtil=null,e._isEncrypt=!1,e}e(r,t);var s=r.prototype;return s.init=function(t,e,i){this._encryptUtil=new o,this._encryptUtil.initCrypto(t,e),this._isEncrypt=i,this._initDataDict={SysSetting:{BackMusic:1,BackVolume:1,SpSound:1,SpVolume:1,Language:n.language===n.Language.CHINESE?"zh":"en"},Account:{AccountDict:{},AccountList:[],AccessTokenInfo:{}}},this._roleInitDataDict={TransactionIdList:[]},this.initConfig(),this.log("init")},s.onReload=function(){},s.initConfig=function(){for(var t in this._initDataDict){var e=this._initDataDict[t];for(var i in e)this.haveConfigProperty(t,i)||this.setConfigProperty(t,i,e[i])}},s.roleLogin=function(t,e){void 0===e&&(e=null),this._roleID=t,this._linkServerID=e||this._linkServerID,this.haveConfigProperty(this._roleID,this._linkServerID)||this.setConfigProperty(this._roleID,this._linkServerID,{});var i=this.getConfigProperty(this._roleID,this._linkServerID);i?(i=Object.assign(this._roleInitDataDict,i),this.setConfigProperty(this._roleID,this._linkServerID,i)):this.errLog("RoleLogin(%s) failed",this._roleID)},s.setConfigProperty=function(t,e,i){var r=JSON.parse(this.getItem(t)||"{}");r[e]=i,this.setItem(t,JSON.stringify(r))},s.setRoleConfigProperty=function(t,e){var i=JSON.parse(this.getItem(this._roleID)||"{}");i[this._linkServerID]=i[this._linkServerID]||{},i[this._linkServerID][t]=e,this.setItem(this._roleID,JSON.stringify(i))},s.getConfigProperty=function(t,e){var i=JSON.parse(this.getItem(t)||"{}");return i?i.hasOwnProperty(e)?i[e]:(this.errLog("getConfigProperty(%s,%s) failed, option not found: %s",t,e),null):(this.errLog("getConfigProperty(%s,%s) failed",t,e),null)},s.getRoleConfigProperty=function(t){var e=JSON.parse(this.getItem(this._roleID)||"{}");if(!e.hasOwnProperty(this._linkServerID))return this.errLog("getRoleConfigProperty(%s) failed, _linkServerID not found: %s",this._roleID,this._linkServerID),null;var i=e[this._linkServerID];return i.hasOwnProperty(t)?i[t]:(this.errLog("getRoleConfigProperty(%s,%s) failed, option not found",this._roleID,this._linkServerID,t),null)},s.haveConfigProperty=function(t,e){return JSON.parse(this.getItem(t)||"{}").hasOwnProperty(e)},s.haveRoleConfigProperty=function(t){var e=JSON.parse(this.getItem(this._roleID)||"{}");return!!e.hasOwnProperty(this._linkServerID)&&e[this._linkServerID].hasOwnProperty(t)},s.remove=function(t){this._isEncrypt&&(t=this._encryptUtil.md5(t)),n.localStorage.removeItem(t)},s.setItem=function(t,e){this._isEncrypt&&(t=this._encryptUtil.md5(t),e=this._encryptUtil.aesEncrypt(e)),n.localStorage.setItem(t,e)},s.getItem=function(t){this._isEncrypt&&(t=this._encryptUtil.md5(t));var e=n.localStorage.getItem(t);return e?(this._isEncrypt&&(e=this._encryptUtil.aesDecrypt(e)),e):null},i(r,null,[{key:"inst",get:function(){return null==this._instance&&(this._instance=new r),this._instance}}]),r}(s))._instance=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/LogMgr.ts",["cc","./ShareDefine.ts"],(function(r){var t,o,e,n,g,a;return{setters:[function(r){t=r.cclegacy,o=r.sys,e=r.log,n=r.warn,g=r.error},function(r){a=r.default}],execute:function(){t._RF.push({},"ef9c8SNYY5Do58prXtwEmN2","LogMgr",void 0);var l={"b-gb":"background: #255; color: #00ffff","b-g":"background: #255; color: #00ff00","w-g":"background: #0; color: #007f00","w-r":"background: #0; color: #ff0000"};r("default",function(){function r(){}return r.getLogFormatList=function(r,t){var e=t[0];if("string"!=typeof e)return t;if("chrome"==o.browserType){var n=t[t.length-1],g=l[n];g&&(t.pop(),e="%c"+e,t.splice(1,0,g))}else{var a=t[t.length-1];l[a]&&t.pop()}var c=new Date;return t[0]=[r,c.toLocaleString(),c.getMilliseconds(),e].join("  "),t},r.log=function(r){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];a.IsDevelopment&&(o=this.getLogFormatList(r,o),e.apply(null,o))},r.netLog=function(r){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];a.IsDevelopment&&(o=this.getLogFormatList(r,o),e.apply(null,o))},r.warnLog=function(r){for(var t=arguments.length,o=new Array(t>1?t-1:0),e=1;e<t;e++)o[e-1]=arguments[e];a.IsDevelopment&&(o=this.getLogFormatList(r,o),n.apply(null,o))},r.errLog=function(r){for(var t=arguments.length,o=new Array(t>1?t-1:0),e=1;e<t;e++)o[e-1]=arguments[e];o=this.getLogFormatList(r,o),g.apply(null,o)},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BaseClass.ts","./BaseComponent.ts","./ClientMgr.ts","./ByteBuf.ts","./EncryptUtil.ts","./GObjectPool.ts","./ShowFPS.ts","./Utils.ts","./request.ts","./AlertDefine.ts","./ErrorDefine.ts","./EventDefine.ts","./ItemDefine.ts","./ShareDefine.ts","./I1DayButton.ts","./I30DayButton.ts","./I7DayButton.ts","./IUIAutoEggCollect.ts","./IButton2.ts","./IRedPoint.ts","./IUIEggComp.ts","./ILeftTime.ts","./IPeople.ts","./IUIBattleEntry.ts","./IUIBattleEntryChild.ts","./ICountDown.ts","./IImg1.ts","./IImg2.ts","./IScore.ts","./IUIBattleMain.ts","./IUIBattleResult.ts","./IUIGridComp.ts","./IUIRoundStartEff.ts","./IUIAlert.ts","./IUIBattleExit.ts","./IUIBattleSelectPet.ts","./IUIBattleSelectPetChild.ts","./IUIHelp.ts","./IUIHelpChild.ts","./IUIBoxEffect.ts","./IDialogComp.ts","./IMaskComp.ts","./IUIGuide.ts","./Ifinger.ts","./IUIItemTips.ts","./IAutoEggCollectButton.ts","./IBattleButton.ts","./IChicken.ts","./IEffect01.ts","./IEggButton.ts","./IGreenHead.ts","./IHead.ts","./ILayEggTimeComp.ts","./IShopButton.ts","./ISmashEggButton.ts","./ITaskButton.ts","./IUIButtom.ts","./IUIMain.ts","./IUIDeluxeRewardBuy.ts","./IUIPassPort.ts","./IUIPassPortChild.ts","./IUIPassPortList.ts","./IUIPassPortMain.ts","./IUIPassPortReward.ts","./IUIRanking.ts","./IUIRankingChild.ts","./IUIRankingComp.ts","./IUIReward.ts","./IUIRewardTips.ts","./IUISetting.ts","./IUIShareEgg.ts","./IUIShareEggChild.ts","./IUIDailyShop.ts","./IUIDiamondShop.ts","./IUIOrdinaryShop.ts","./IUIShop.ts","./IUIShopBuy.ts","./IUIShopChild.ts","./IUIShopMain.ts","./IUISignIn.ts","./IUISignInChild.ts","./IUISignInChild2.ts","./IUISignInChild3.ts","./IUIEggOpenComp.ts","./IUIPetHeadComp.ts","./IUIPetInfoComp.ts","./IUISmashEgg.ts","./ITaskRewardButton.ts","./ITaskTypeButton.ts","./IUITask.ts","./IUITaskChild.ts","./fairygui.min.mjs","./ConfigManager.ts","./EventMgr.ts","./GuideMgr.ts","./LocalStorageMgr.ts","./LogMgr.ts","./RedPointMgr.ts","./ResMgr.ts","./ShopMgr.ts","./SysMsgMgr.ts","./BaseScene.ts","./GameScene.ts","./LaunchScene.ts","./SceneMgr.ts","./TopLayer.ts","./schema.ts","./TMA.ts","./Ton.ts","./BaseForm.ts","./FormMgr.ts","./UIAutoEggCollect.ts","./ClientCreateRedPointNodeScript.ts","./ClientRedPointScript.ts","./RedPoint.ts","./UIEggComp.ts","./UIBattleEntry.ts","./UIBattleEntryChild.ts","./Img1.ts","./Img2.ts","./UIBattleMain.ts","./UIBattleResult.ts","./UIGridComp.ts","./UIRoundStartEff.ts","./UIAlert.ts","./UIBattleExit.ts","./UIBattleSelectPet.ts","./UIBattleSelectPetChild.ts","./UIHelp.ts","./UIBoxEffect.ts","./GMButton.ts","./GMPanel.ts","./UIGuide.ts","./UIItemTips.ts","./Chicken.ts","./Effect01.ts","./GreenHead.ts","./Head.ts","./LayEggTimeComp.ts","./UIButtom.ts","./UIMain.ts","./UIDeluxeRewardBuy.ts","./UIPassPort.ts","./UIPassPortChild.ts","./UIPassPortList.ts","./UIPassPortReward.ts","./UIRanking.ts","./UIRankingChild.ts","./UIRankingComp.ts","./UIReward.ts","./UIRewardTips.ts","./UISetting.ts","./UIShareEgg.ts","./UIShareEggChild.ts","./UIDailyShop.ts","./UIDiamondShop.ts","./UIOrdinaryShop.ts","./UIShop.ts","./UIShopBuy.ts","./UIShopChild.ts","./UIShopMain.ts","./UISignIn.ts","./UISignInChild.ts","./UISignInChild2.ts","./UISignInChild3.ts","./UIEggOpenComp.ts","./UIPetHeadComp.ts","./UIPetInfoComp.ts","./UISmashEgg.ts","./UITask.ts","./UITaskChild.ts","./EggData.ts","./ItemData.ts","./OnEnter.ts","./PetData.ts","./UserApi.ts","./UserData.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/OnEnter.ts",["cc","./EventDefine.ts","./EventMgr.ts","./GuideMgr.ts","./LocalStorageMgr.ts","./RedPointMgr.ts"],(function(){var t,n,e,i,c,r;return{setters:[function(n){t=n.cclegacy},function(t){n=t.EventDefine},function(t){e=t.default},function(t){i=t.default},function(t){c=t.default},function(t){r=t.RedPointMgr}],execute:function(){t._RF.push({},"6c7c86c+aZOablCYFOtB6ZR","OnEnter",void 0),e.regEvent(n.OnEnter,(function(t){c.inst.roleLogin(t.roleId),i.inst.init(t.guide),r.inst.init()})),t._RF.pop()}}}));

System.register("chunks:///_virtual/PetData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseClass.ts","./ConfigManager.ts"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.BaseClass},function(t){s=t.default}],execute:function(){i._RF.push({},"e22a4fDH7NEmYbOTalOR89C","PetData",void 0);t("PetData",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).id=void 0,e.num=void 0,e.quality=void 0,e}e(i,t);var n=i.prototype;return n.absorb=function(t){this.id=t.petId,this.num=t.petNum;var e=s.inst.tables.PetTb;this.quality=e.get(this.id).quality},n.getScore=function(){return s.inst.tables.PetTb.get(this.id).score*this.num},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/RedPoint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.min.mjs","./EventMgr.ts","./EventDefine.ts","./RedPointMgr.ts"],(function(t){var i,n,e,o,r,s,d,h;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t.isValid},function(t){o=t.GObject,r=t.GComponent},function(t){s=t.default},function(t){d=t.EventDefine},function(t){h=t.RedPointMgr}],execute:function(){n._RF.push({},"a83f7Foi95LnaeneMEtRAB3","RedPoint",void 0);t("RedPoint",function(t){function n(){var i;return(i=t.call(this)||this)._redPointId="",i._para=void 0,i._redPoint=void 0,i}i(n,t);var r=n.prototype;return r.onConstruct=function(){t.prototype.onConstruct.call(this),this._redPoint=this.getChild("redPoint",o),this._redPoint.visible=!1},r.init=function(t,i){this._redPointId==t&&this._para==i||(this._redPointId=t,this._para=i,this.refreshRedPoint())},r.getVisible=function(){return this._redPoint.visible},r.onEnable=function(){t.prototype.onEnable.call(this),this.refreshRedPoint(),s.regEvent(d.RefreshRedPoint,this.refreshRedPoint,this)},r.refreshRedPoint=function(){""!=this._redPointId&&e(this._redPoint)&&(this._redPoint.visible=h.inst.getRedPoint(this._redPointId,this._para))},r.onDisable=function(){t.prototype.onDisable.call(this),s.unRegEvent(d.RefreshRedPoint,this.refreshRedPoint,this)},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/RedPointMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigManager.ts","./schema.ts","./ClientCreateRedPointNodeScript.ts","./ClientRedPointScript.ts","./EventMgr.ts","./EventDefine.ts"],(function(e){var t,i,n,o,r,s,h,d;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy},function(e){n=e.default},function(e){o=e.Task},function(e){r=e.ClientCreateRedPointNodeScript},function(e){s=e.ClientRedPointScript},function(e){h=e.default},function(e){d=e.EventDefine}],execute:function(){i._RF.push({},"6d9b9jffHdEZ5P/Dw84pKUD","RedPointMgr",void 0);var a=e("default",function(){function e(){this._id="",this._para=[],this._refreshTimeout=null,this._redPointFunc=void 0,this._active=null,this._parent=null,this._children=new Map,this._initRedPoint=!1,this._unlockId=""}var i=e.prototype;return i.init=function(e,t,i,n){this._id=e,this._unlockId=null==t?"":t,this._para=i,this._redPointFunc=n},i.unuse=function(){this._id="",this._para=[],null!=this._refreshTimeout&&clearTimeout(this._refreshTimeout),this._refreshTimeout=null,this._redPointFunc=null,this._active=null,this._parent=null,this._children=new Map,this._initRedPoint=!1},i.getActive=function(e){if(""!=this._unlockId&&0==e[this._unlockId])return!1;if(0==this.initRedPoint)return!1;if(null==this._redPointFunc||""==this._redPointFunc){var t=0;return this._children.forEach((function(i){i.getActive(e)&&t++})),t>0}var i=0;return this._children.forEach((function(t){t.getActive(e)&&i++})),this._active||i>0},i.getRealRedPointName=function(){return null==this._para||this._para.length<=0?this._id:this._id+"_"+this._para.join("_")},i.setParent=function(e){var t=this._parent;t&&t.removeChild(this),this._parent=e},i.addChild=function(e){var t=e.getRealRedPointName();e&&(this._children.has(t)||(e.setParent(this),this._children.set(t,e)))},i.removeChild=function(e){var t=e.getRealRedPointName();e&&this._children.has(t)&&this._children.delete(t)},t(e,[{key:"refreshTimeout",get:function(){return this._refreshTimeout},set:function(e){null==e&&null!=this._refreshTimeout&&clearTimeout(this._refreshTimeout),this._refreshTimeout=e}},{key:"redPointFunc",get:function(){return this._redPointFunc}},{key:"initRedPoint",get:function(){var e=null==this._redPointFunc||""==this._redPointFunc;return this._initRedPoint||e},set:function(e){this._initRedPoint=e}},{key:"id",get:function(){return this._id}},{key:"active",set:function(e){this._active=e}},{key:"para",get:function(){return this._para}}]),e}());e("RedPointMgr",function(){function e(){this._redPointNodeMap={},this._nodeRoot=null,this._onUser=!1,this._unlockSystemMap={}}var i=e.prototype;return i.getRedPointNode=function(){return new a},i.putRedPointNode=function(e){e.unuse()},i.putAllRedPointNode=function(){null!=this._nodeRoot&&(this.putRedPointNode(this._nodeRoot),this._nodeRoot=null);for(var e=Object.keys(this._redPointNodeMap),t=e.length-1;t>=0;--t){var i=e[t],n=this._redPointNodeMap[i];this.putRedPointNode(n)}this._redPointNodeMap={}},i.createRedPointNode=function(e,t,i,n){var o=this.getRedPointNode();return o.init(e,t,i,n),o},i.init=function(){this.putAllRedPointNode(),this._nodeRoot=new a,this._nodeRoot.init("root","");var e=n.inst.tables.RedPointTb.getDataList();this.createWithConfig(e),this.refreshAllRedPoint(),this._onUser||(this._onUser=!0,h.regEvent(d.AddBaseRedPoint,this.addBaseRedPoint,this),h.regEvent(d.RefreshLayEggRedPoint,this.refreshLayEggRedPoint,this),h.regEvent(d.RefreshTaskRewardRedPoint,this.refreshTaskRewardRedPoint,this),h.regEvent(d.RefreshShopShareRedPoint,this.refreshShopShareRedPoint,this),h.regEvent(d.RefreshBattleRedPoint,this.refreshBattleRedPoint,this),h.regEvent(d.RefreshNewPetRedPoint,this.refreshNewPetRedPoint,this),h.regEvent(d.RefreshNewEggRedPoint,this.refreshNewEggRedPoint,this))},i.createWithConfig=function(e){for(var t={},i=0;i<e.length;i++){var o=e[i],s=o.id,h=o.createNodeScrpit;if(null!=h&&""!=h&&null!=r[h])r[h](s,t,o);else{var d=this.createRedPointNode(s,o.unlockId,o.para,o.redPointFunc);t[d.getRealRedPointName()]=d}}for(var a in t){var l=t[a],u=l.id,f=n.inst.tables.RedPointTb.get(u),c=null;if(f&&"string"==typeof f.parent&&f.parent.length>0){var P=f.parent,_="";null!=l.para&&l.para.length>0&&(_=f.parent+"_"+l.para.join("_")),c=""!=_&&null!=t[_]?t[_]:t[P]}else c=this._nodeRoot;c?c.addChild(t[a]):(this.putRedPointNode(t[a]),delete t[a])}this._redPointNodeMap=t},i.refreshRedPointNode=function(e,t,i){void 0===i&&(i=!1);var n="";null!=t&&t.length>0&&(n=e+"_"+t.join("_"));var o=null;if(null!=(o=""!=n&&null!=this._redPointNodeMap[n]?this._redPointNodeMap[n]:this._redPointNodeMap[e])&&(null==o.refreshTimeout||i)){null!=o.refreshTimeout&&(o.refreshTimeout=null);var r=o.redPointFunc;if(null==r||""==r&&null==s[r])o.active=!1;else if(i)o.active=s[r](e,t),o.initRedPoint=!0;else{var a=setTimeout((function(){o.refreshTimeout=null,o.active=s[r](e,t),h.emitEvent(d.RefreshRedPoint)}),100);o.refreshTimeout=a}}},i.refreshAllRedPoint=function(){for(var e=Object.keys(this._redPointNodeMap),t=0;t<e.length;t++){var i=this._redPointNodeMap[e[t]];this.refreshRedPointNode(i.id,i.para,!0)}h.emitEvent(d.RefreshRedPoint)},i.addBaseRedPoint=function(e,t){var i=n.inst.tables.RedPointTb.get(e),o=this.createRedPointNode(e,i.unlockId,t,i.redPointFunc),r=o.getRealRedPointName();this._redPointNodeMap[r]=o;var s=null;if(i&&"string"==typeof i.parent&&i.parent.length>0){var h=i.parent,d="";null!=t&&t.length>0&&(d=i.parent+"_"+t.join("_")),s=""!=d&&null!=this._redPointNodeMap[d]?this._redPointNodeMap[d]:this._redPointNodeMap[h]}else s=this._nodeRoot;s?s.addChild(o):this.putRedPointNode(o),this.refreshRedPointNode(e,t,!0)},i.getRedPoint=function(e,t){var i="";null!=t&&t.length>0&&(i=e+"_"+t.join("_"));var n=null;return null!=(n=""!=i&&null!=this._redPointNodeMap[i]?this._redPointNodeMap[i]:this._redPointNodeMap[e])&&n.getActive(this._unlockSystemMap)},i.refreshLayEggRedPoint=function(){this.refreshRedPointNode("layEgg")},i.refreshTaskRewardRedPoint=function(e){var t=n.inst.tables.TaskTb.get(e);t.taskType==o.Type.Main?this.refreshRedPointNode("mainTaskRewared",[e]):t.taskType==o.Type.Daily&&this.refreshRedPointNode("dailyTaskRewared",[e])},i.refreshShopShareRedPoint=function(e){this.refreshRedPointNode("shopShare",[e])},i.refreshBattleRedPoint=function(){this.refreshRedPointNode("btnBattle")},i.refreshNewPetRedPoint=function(){for(var e=n.inst.tables.PetTb.getDataList(),t=0;t<e.length;t++)this.refreshRedPointNode("newPet",[e[t].id])},i.refreshNewEggRedPoint=function(e){for(var t=0;t<e.length;t++)this.refreshRedPointNode("newEgg",[e[t]])},t(e,null,[{key:"inst",get:function(){return null==this._instance&&(this._instance=new e),this._instance}}]),e}())._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/request.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShareDefine.ts","./EventDefine.ts","./LogMgr.ts","./EventMgr.ts"],(function(e){var t,r,n,a,o,u,s;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy},function(e){a=e.default},function(e){o=e.EventDefine},function(e){u=e.default},function(e){s=e.default}],execute:function(){e("request",(function(e){return l.apply(this,arguments)})),n._RF.push({},"df2a0+e4lZLnp9Q+46qJMvz","request",void 0);var c=window.msgpack,i=window.pako,f=123;function l(){return(l=t(r().mark((function e(n){var l,d,p,m,h,v,g,y;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!=a.HttpStatus){e.next=2;break}return e.abrupt("return",{code:401,msg:"Unauthorized."});case 2:for(d in l="?",n.params)l=l+"&"+d+"="+n.params[d];if(p=a.BaseUrl,m="Bearer "+a.Token,u.log("request","[%s](%s)",n.method,p+n.url+l,n.data?n.data:""),s.emitEvent(o.ModalLayer,"Open"),h=setTimeout((function(){s.emitEvent(o.ModalLayer,"Close")}),a.NetTimeout),v=n.data?new i.deflate(c.encode(n.data)):void 0)for(g=0;g<v.length;g++)v[g]=v[g]^f;return e.next=13,fetch(p+n.url+l,{method:n.method,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/x-1I9EK5kMNs",Authorization:m},redirect:"follow",referrerPolicy:"no-referrer",body:v}).then(t(r().mark((function e(t){var n,o,u,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.HttpStatus=t.status,e.next=3,t.arrayBuffer();case 3:for(n=e.sent,o=new Uint8Array(n),u=0;u<o.length;u++)o[u]=o[u]^f;return s=i.inflate(o),e.abrupt("return",c.decode(s));case 8:case"end":return e.stop()}}),e)})))).catch((function(e){return console.error(e),{code:400,msg:"Network Error."}}));case 13:return y=e.sent,u.log("request","response",y),clearTimeout(h),s.emitEvent(o.ModalLayer,"Close"),s.emitEvent(o.HttpEvent,n.url,y),e.abrupt("return",y);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseClass.ts"],(function(e){var n,t,r,s,i,u;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){r=e.cclegacy,s=e.assetManager,i=e.Texture2D},function(e){u=e.BaseClass}],execute:function(){r._RF.push({},"e9232yt4gBE85NPOOQ/0jiw","ResMgr",void 0),e("default",function(e){function r(){return e.apply(this,arguments)||this}n(r,e);var u=r.prototype;return u.init=function(){this.log("init")},u.onReload=function(){},u.loadRes=function(e,n){var t=this;if(!e)return this.errLog("loadRes Parameter error",e),null;var r=e.indexOf("/"),s=e.substr(0,r);return e=e.substr(r),new Promise((function(r,i){t.loadBundle(s).then((function(s){s.load(e,n,(function(s,u){s?(t.errLog("loadRes failed path("+e+") type("+n+"), error:"+s),i(s)):r(u)}))})).catch((function(e){i(e)}))}))},u.getRes=function(e,n){var t=e.indexOf("/"),r=e.substr(0,t);e=e.substr(t);var i=s.getBundle(r);return i?i.get(e,n):(this.errLog("获取bundle资源失败, bundleName:"+r),null)},u.releaseRes=function(e,n){if(e){var t=this.getRes(e,n);t&&this.releaseAsset(t)}else this.errLog("releaseRes Parameter error",e)},u.releaseAsset=function(e){s.releaseAsset(e)},u.getBundle=function(e){return s.getBundle(e)},u.loadBundle=function(e){var n=this;return new Promise((function(t,r){s.loadBundle(e,null,(function(s,i){s?(n.errLog("加载bundle资源失败, bundleName:"+e+", error:"+s),r(s)):t(i)}))}))},u.removeBundle=function(e){var n=s.getBundle(e);n&&s.removeBundle(n)},u.getTexGPUMemory=function(){var e=0,n=s.assets._map;for(var t in n){var r=n[t];if(r&&r instanceof i){var u=r.getPixelFormat()==i.PixelFormat.RGBA8888?4:3;e+=r.width*r.height*u}}return e/1024},t(r,null,[{key:"inst",get:function(){return null==this._instance&&(this._instance=new r),this._instance}}]),r}(u))._instance=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/SceneMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseClass.ts","./EventDefine.ts","./EventMgr.ts","./FormMgr.ts","./ConfigManager.ts"],(function(e){var n,t,o,s,i,a,c,r,h,l,d;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){o=e.cclegacy,s=e.find,i=e.director,a=e.sys},function(e){c=e.BaseClass},function(e){r=e.EventDefine},function(e){h=e.default},function(e){l=e.default},function(e){d=e.default}],execute:function(){o._RF.push({},"a643aHJxClP3ZZayZYmmceA","SceneMgr",void 0),e("default",function(e){function o(){for(var n,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(n=e.call.apply(e,[this].concat(o))||this)._sceneName="launch",n._sceneComponent=null,n._isLoading=!1,n._sceneInfo=null,n}n(o,e);var c=o.prototype;return c.init=function(){h.regEvent(r.ModalLayer,this.onModalLayer,this),this._sceneInfo=d.inst.tables.SceneInfo.getDataMap(),this.log("Init")},c.handleSceneEvent=function(e){for(var n,t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];this._sceneComponent&&"function"==typeof this._sceneComponent[e]?(n=this._sceneComponent)[e].apply(n,o):this.warnLog("Scene component or method "+e+" "+o+" not found.")},c.onModalLayer=function(e){this.handleSceneEvent("onModalLayer",e)},c.onEventHide=function(){this.handleSceneEvent("onEventHide")},c.onEventShow=function(){this.handleSceneEvent("onEventShow")},c.loadScene=function(e){this._sceneInfo.has(e)?this._isLoading?this.errLog("loadScene("+e+") failed: ("+this._sceneName+") is loading now"):(this._isLoading=!0,this.readyLoadScene(e)):this.errLog("loadScene("+e+") _sceneInfo.txt not found")},c.readyLoadScene=function(e){var n=this,t=this._sceneName;this.log("loadScene("+t+" -> "+e+")"),this._sceneName=e;var o="",i=null;if(this._sceneInfo.has(t)&&(o=this._sceneInfo.get(t).ComponentName,i=s("Canvas").getComponent(o)),!this._sceneInfo.has(e))throw new Error("Invalid sceneName: "+e);h.emitEvent(r.ModalLayer,"Open");for(var a=[],c=this._sceneInfo.get(e).PreloadUI,d=0;d<c.length;d++)a.push(l.inst.preLoadForm(c[d]));Promise.all(a).then((function(o){h.emitEvent(r.ModalLayer,"Close"),h.emitEvent(r.BeforeExitScene,t),t&&l.inst.onBeforeExitScene(t),i&&i.onBeforeExitScene(),n.startLoadScene(i,t,e)})).catch((function(o){h.emitEvent(r.ModalLayer,"Close"),n.errLog("preloadPkg("+e+") error: "+o.stack),n.startLoadScene(i,t,e)}))},c.startLoadScene=function(e,n,t){this._sceneComponent=null,i.loadScene(t,this.onLoadSceneEnd.bind(this))},c.onLoadSceneEnd=function(){if(this.log("onLoadSceneEnd sceneName: "+this._sceneName),this._isLoading=!1,this._sceneInfo.has(this._sceneName)){var e=this._sceneInfo.get(this._sceneName).ComponentName;this._sceneComponent=s("Canvas").getComponent(e),l.inst.onSwithSceneEnd(this._sceneName),this._sceneComponent.onSwithSceneEnd(),h.emitEvent(r.SwithSceneEnd,this._sceneName),a.isNative&&a.garbageCollect()}else this.errLog("onLoadSceneEnd _sceneInfo.txt not found: "+this._sceneName)},c.onReload=function(){},c.getSceneType=function(){return this._sceneName},c.getSceneComponent=function(){return this._sceneComponent},t(o,[{key:"isLoading",get:function(){return this._isLoading}}],[{key:"inst",get:function(){return null==this._instance&&(this._instance=new o),this._instance}}]),o}(c))._instance=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/schema.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,a,e;return{setters:[function(t){i=t.createForOfIteratorHelperLoose,a=t.createClass},function(t){e=t.cclegacy}],execute:function(){var s,n,o,r,d,h,u,v,p,c,g,f;t({EggPart:void 0,Global:void 0,Item:void 0,Reward:void 0,Shop:void 0,Task:void 0}),e._RF.push({},"bb984/WMttOG6L8c6mldjh7","schema",void 0),n=s||(s=t("Global",{})),o=function(t){return t[t.Ordinary=1]="Ordinary",t[t.Rare=2]="Rare",t[t.Epic=3]="Epic",t[t.Legendary=4]="Legendary",t[t.Mythic=5]="Mythic",t}({}),n.Quality=o,d=r||(r=t("Reward",{})),h=function(t){return t[t.Pet=1]="Pet",t[t.Item=2]="Item",t}({}),d.Type=h,function(t){var i=function(t){return t[t.Main=1]="Main",t[t.Daily=2]="Daily",t}({});t.Type=i}(u||(u=t("Task",{}))),function(t){var i=function(t){return t[t.Item=1]="Item",t[t.Box=2]="Box",t}({});t.Type=i}(v||(v=t("Item",{}))),function(t){var i=function(t){return t[t.Part1=1]="Part1",t[t.Part2=2]="Part2",t[t.Part3=3]="Part3",t}({});t.Type=i}(p||(p=t("EggPart",{}))),function(t){var i=function(t){return t[t.Daily=1]="Daily",t[t.Ordinary=2]="Ordinary",t[t.Diamond=3]="Diamond",t[t.Special=4]="Special",t}({});t.Type=i}(c||(c=t("Shop",{}))),g=s||(s=t("Global",{})),f=function(){function t(t){this.type=void 0,this.id=void 0,this.num=void 0,this.type=t.ReadInt(),this.id=t.ReadInt(),this.num=t.ReadInt()}return t.prototype.resolve=function(t){},t}(),g.ItemData=f;var _=t("IRedPoint",function(){function t(t){this.id=void 0,this.createNodeScrpit=void 0,this.redPointFunc=void 0,this.para=void 0,this.parent=void 0,this.unlockId=void 0,this.id=t.ReadString(),this.createNodeScrpit=t.ReadString(),this.redPointFunc=t.ReadString();var i=Math.min(t.ReadSize(),t.Size);this.para=[];for(var a=0;a<i;a++){var e;e=t.ReadString(),this.para.push(e)}this.parent=t.ReadString(),this.unlockId=t.ReadString()}return t.prototype.resolve=function(t){},t}()),l=t("ISceneInfo",function(){function t(t){this.id=void 0,this.ComponentName=void 0,this.OpenUI=void 0,this.PreloadUI=void 0,this.id=t.ReadString(),this.ComponentName=t.ReadString();var i=Math.min(t.ReadSize(),t.Size);this.OpenUI=[];for(var a=0;a<i;a++){var e;e=t.ReadString(),this.OpenUI.push(e)}var s=Math.min(t.ReadSize(),t.Size);this.PreloadUI=[];for(var n=0;n<s;n++){var o;o=t.ReadString(),this.PreloadUI.push(o)}}return t.prototype.resolve=function(t){},t}()),T=t("IUnlock",function(){function t(t){this.id=void 0,this.condition=void 0,this.nodePath=void 0,this.id=t.ReadInt();var i=Math.min(t.ReadSize(),t.Size);this.condition=[];for(var a=0;a<i;a++){var e;e=t.ReadInt(),this.condition.push(e)}this.nodePath=t.ReadString()}return t.prototype.resolve=function(t){},t}()),R=t("IQuality",function(){function t(t){this.id=void 0,this.name=void 0,this.color=void 0,this.icon=void 0,this.id=t.ReadInt(),this.name=t.ReadString(),this.color=t.ReadString(),this.icon=t.ReadString()}return t.prototype.resolve=function(t){},t}()),b=t("ITaskType",function(){function t(t){this.id=void 0,this.taskName=void 0,this.desc=void 0,this.gotoType=void 0,this.goto=void 0,this.id=t.ReadInt(),this.taskName=t.ReadString(),this.desc=t.ReadString(),this.gotoType=t.ReadInt(),this.goto=t.ReadString()}return t.prototype.resolve=function(t){},t}()),M=t("IGuide",function(){function t(t){this.id=void 0,this.cmd=void 0,this.param=void 0,this.guideList=void 0,this.id=t.ReadInt(),this.cmd=t.ReadString();var i=Math.min(t.ReadSize(),t.Size);this.param=[];for(var a=0;a<i;a++){var e;e=t.ReadString(),this.param.push(e)}var s=Math.min(t.ReadSize(),t.Size);this.guideList=[];for(var n=0;n<s;n++){var o;o=t.ReadInt(),this.guideList.push(o)}}return t.prototype.resolve=function(t){},t}()),I=t("IItem",function(){function t(t){this.id=void 0,this.name=void 0,this.quality=void 0,this.type=void 0,this.icon=void 0,this.cmd=void 0,this.param=void 0,this.useType=void 0,this.id=t.ReadInt(),this.name=t.ReadString(),this.quality=t.ReadInt(),this.type=t.ReadInt(),this.icon=t.ReadString(),this.cmd=t.ReadString(),this.param=t.ReadString(),this.useType=t.ReadInt()}return t.prototype.resolve=function(t){},t}()),S=t("IHelp",function(){function t(t){this.id=void 0,this.desc=void 0,this.id=t.ReadInt(),this.desc=t.ReadString()}return t.prototype.resolve=function(t){},t}()),L=t("IError",function(){function t(t){this.id=void 0,this.code=void 0,this.show=void 0,this.content=void 0,this.pos=void 0,this.button=void 0,this.clickVoidClose=void 0,this.align=void 0,this.id=t.ReadInt(),this.code=t.ReadString(),this.show=t.ReadInt(),this.content=t.ReadString(),this.pos=t.ReadInt();var i=Math.min(t.ReadSize(),t.Size);this.button=[];for(var a=0;a<i;a++){var e;e=t.ReadString(),this.button.push(e)}this.clickVoidClose=t.ReadInt(),this.align=t.ReadInt()}return t.prototype.resolve=function(t){},t}()),y=t("IGlobal",function(){function t(t){this.layEggTime=void 0,this.vitMinMax=void 0,this.vitMaxAuto=void 0,this.initVit=void 0,this.vitAddAuto=void 0,this.goldMinmax=void 0,this.initGold=void 0,this.initDiamond=void 0,this.clickLayEgg=void 0,this.clickTakeOffVit=void 0,this.shareEggScore=void 0,this.shareEggReward=void 0,this.invitedReward=void 0,this.shareFriendsUrl=void 0,this.shareFriendsText=void 0,this.shopRefresh=void 0,this.sharePetScore=void 0,this.sharePetReward=void 0,this.buyShopRetrieveCard=void 0,this.leaderboardExpiration=void 0,this.SignCardRewardTimes=void 0,this.layEggTime=t.ReadInt();var i=Math.min(t.ReadSize(),t.Size);this.vitMinMax=[];for(var a=0;a<i;a++){var e;e=t.ReadInt(),this.vitMinMax.push(e)}this.vitMaxAuto=t.ReadInt(),this.initVit=t.ReadInt(),this.vitAddAuto=t.ReadInt();var n=Math.min(t.ReadSize(),t.Size);this.goldMinmax=[];for(var o=0;o<n;o++){var r;r=t.ReadInt(),this.goldMinmax.push(r)}this.initGold=t.ReadInt(),this.initDiamond=t.ReadInt(),this.clickLayEgg=t.ReadInt(),this.clickTakeOffVit=t.ReadInt(),this.shareEggScore=t.ReadDouble(),this.shareEggReward=new s.ItemData(t),this.invitedReward=new s.ItemData(t),this.shareFriendsUrl=t.ReadString(),this.shareFriendsText=t.ReadString();var d=Math.min(t.ReadSize(),t.Size);this.shopRefresh=[];for(var h=0;h<d;h++){var u;u=new s.ItemData(t),this.shopRefresh.push(u)}this.sharePetScore=t.ReadDouble(),this.sharePetReward=new s.ItemData(t);var v=Math.min(t.ReadSize(),t.Size);this.buyShopRetrieveCard=[];for(var p=0;p<v;p++){var c;c=t.ReadInt(),this.buyShopRetrieveCard.push(c)}this.leaderboardExpiration=t.ReadInt(),this.SignCardRewardTimes=t.ReadInt()}return t.prototype.resolve=function(t){var a,e,s;null==(a=this.shareEggReward)||a.resolve(t),null==(e=this.invitedReward)||e.resolve(t);for(var n,o=i(this.shopRefresh);!(n=o()).done;){var r=n.value;null==r||r.resolve(t)}null==(s=this.sharePetReward)||s.resolve(t)},t}()),m=t("IPet",function(){function t(t){this.id=void 0,this.name=void 0,this.quality=void 0,this.score=void 0,this.desc=void 0,this.head=void 0,this.body=void 0,this.id=t.ReadInt(),this.name=t.ReadString(),this.quality=t.ReadInt(),this.score=t.ReadDouble(),this.desc=t.ReadString(),this.head=t.ReadString(),this.body=t.ReadString()}return t.prototype.resolve=function(t){},t}()),w=t("IGuideList",function(){function t(t){this.id=void 0,this.desc=void 0,this.isSave=void 0,this.condition=void 0,this.action=void 0,this.dialogOffset=void 0,this.fingerOffset=void 0,this.maskOffset=void 0,this.maskSize=void 0,this.param=void 0,this.id=t.ReadInt(),this.desc=t.ReadString(),this.isSave=t.ReadInt();var i=Math.min(t.ReadSize(),t.Size);this.condition=[];for(var a=0;a<i;a++){var e;e=t.ReadString(),this.condition.push(e)}var s=Math.min(t.ReadSize(),t.Size);this.action=[];for(var n=0;n<s;n++){var o;o=t.ReadString(),this.action.push(o)}var r=Math.min(t.ReadSize(),t.Size);this.dialogOffset=[];for(var d=0;d<r;d++){var h;h=t.ReadInt(),this.dialogOffset.push(h)}var u=Math.min(t.ReadSize(),t.Size);this.fingerOffset=[];for(var v=0;v<u;v++){var p;p=t.ReadInt(),this.fingerOffset.push(p)}var c=Math.min(t.ReadSize(),t.Size);this.maskOffset=[];for(var g=0;g<c;g++){var f;f=t.ReadInt(),this.maskOffset.push(f)}var _=Math.min(t.ReadSize(),t.Size);this.maskSize=[];for(var l=0;l<_;l++){var T;T=t.ReadInt(),this.maskSize.push(T)}this.param=t.ReadString()}return t.prototype.resolve=function(t){},t}()),D=t("IEgg",function(){function t(t){this.id=void 0,this.partType=void 0,this.partName=void 0,this.quality=void 0,this.eggScore=void 0,this.partIcon=void 0,this.id=t.ReadInt(),this.partType=t.ReadInt(),this.partName=t.ReadString(),this.quality=t.ReadInt(),this.eggScore=t.ReadDouble(),this.partIcon=t.ReadString()}return t.prototype.resolve=function(t){},t}()),P=t("IEggScore",function(){function t(t){this.id=void 0,this.eggScore=void 0,this.openGroupId=void 0,this.groupPb=void 0,this.id=t.ReadInt();var i=Math.min(t.ReadSize(),t.Size);this.eggScore=[];for(var a=0;a<i;a++){var e;e=t.ReadDouble(),this.eggScore.push(e)}var s=Math.min(t.ReadSize(),t.Size);this.openGroupId=[];for(var n=0;n<s;n++){var o;o=t.ReadInt(),this.openGroupId.push(o)}var r=Math.min(t.ReadSize(),t.Size);this.groupPb=[];for(var d=0;d<r;d++){var h;h=t.ReadInt(),this.groupPb.push(h)}}return t.prototype.resolve=function(t){},t}()),k=t("ITask",function(){function t(t){this.taskId=void 0,this.taskSubId=void 0,this.taskName=void 0,this.desc=void 0,this.taskType=void 0,this.need=void 0,this.maxTimes=void 0,this.reward=void 0,this.iconAvatar=void 0,this.display=void 0,this.taskId=t.ReadInt(),this.taskSubId=t.ReadInt(),this.taskName=t.ReadString(),this.desc=t.ReadString(),this.taskType=t.ReadInt(),this.need=t.ReadInt(),this.maxTimes=t.ReadInt(),this.reward=new s.ItemData(t),this.iconAvatar=t.ReadString(),this.display=t.ReadInt()}return t.prototype.resolve=function(t){var i;null==(i=this.reward)||i.resolve(t)},t}()),E=t("IBattleConfig",function(){function t(t){this.id=void 0,this.battleName=void 0,this.desc=void 0,this.need=void 0,this.matchTime=void 0,this.playerNum=void 0,this.roundTimes=void 0,this.roundInterval=void 0,this.gridNum=void 0,this.totalBonus=void 0,this.totalRound=void 0,this.reward=void 0,this.bg=void 0,this.addRobot=void 0,this.canExit=void 0,this.isOpen=void 0,this.isGuide=void 0,this.id=t.ReadInt(),this.battleName=t.ReadString(),this.desc=t.ReadString();var i=Math.min(t.ReadSize(),t.Size);this.need=[];for(var a=0;a<i;a++){var e;e=new s.ItemData(t),this.need.push(e)}this.matchTime=t.ReadInt(),this.playerNum=t.ReadInt();var n=Math.min(t.ReadSize(),t.Size);this.roundTimes=[];for(var o=0;o<n;o++){var r;r=t.ReadInt(),this.roundTimes.push(r)}this.roundInterval=t.ReadInt(),this.gridNum=t.ReadInt(),this.totalBonus=t.ReadInt(),this.totalRound=t.ReadInt();var d=Math.min(t.ReadSize(),t.Size);this.reward=[];for(var h=0;h<d;h++){var u;u=new s.ItemData(t),this.reward.push(u)}this.bg=t.ReadString(),this.addRobot=t.ReadInt(),this.canExit=t.ReadInt(),this.isOpen=t.ReadInt(),this.isGuide=t.ReadInt()}return t.prototype.resolve=function(t){for(var a,e=i(this.need);!(a=e()).done;){var s=a.value;null==s||s.resolve(t)}for(var n,o=i(this.reward);!(n=o()).done;){var r=n.value;null==r||r.resolve(t)}},t}()),z=t("ISignTb",function(){function t(t){this.id=void 0,this.reward=void 0,this.id=t.ReadInt(),this.reward=new s.ItemData(t)}return t.prototype.resolve=function(t){var i;null==(i=this.reward)||i.resolve(t)},t}()),O=t("IDailyShop",function(){function t(t){this.id=void 0,this.desc=void 0,this.name=void 0,this.groupId=void 0,this.weight=void 0,this.item=void 0,this.price=void 0,this.discount=void 0,this.buyLimit=void 0,this.share=void 0,this.bg=void 0,this.icon=void 0,this.id=t.ReadInt(),this.desc=t.ReadString(),this.name=t.ReadString(),this.groupId=t.ReadInt(),this.weight=t.ReadInt(),this.item=new s.ItemData(t),this.price=new s.ItemData(t);var i=Math.min(t.ReadSize(),t.Size);this.discount=[];for(var a=0;a<i;a++){var e;e=t.ReadInt(),this.discount.push(e)}this.buyLimit=t.ReadInt(),this.share=t.ReadInt(),this.bg=t.ReadString(),this.icon=t.ReadString()}return t.prototype.resolve=function(t){var i,a;null==(i=this.item)||i.resolve(t),null==(a=this.price)||a.resolve(t)},t}()),G=t("IReSignTb",function(){function t(t){this.id=void 0,this.cost=void 0,this.id=t.ReadInt(),this.cost=new s.ItemData(t)}return t.prototype.resolve=function(t){var i;null==(i=this.cost)||i.resolve(t)},t}()),x=t("IPassPortIssueTb",function(){function t(t){this.id=void 0,this.desc=void 0,this.startTime=void 0,this.endTime=void 0,this.issue=void 0,this.deluxeRewardBuy=void 0,this.banner=void 0,this.id=t.ReadInt(),this.desc=t.ReadString(),this.startTime=t.ReadInt(),this.endTime=t.ReadInt(),this.issue=t.ReadInt(),this.deluxeRewardBuy=t.ReadInt(),this.banner=t.ReadString()}return t.prototype.resolve=function(t){},t}()),C=t("IOrdinaryShop",function(){function t(t){this.id=void 0,this.desc=void 0,this.name=void 0,this.item=void 0,this.price=void 0,this.bg=void 0,this.icon=void 0,this.id=t.ReadInt(),this.desc=t.ReadString(),this.name=t.ReadString(),this.item=new s.ItemData(t),this.price=new s.ItemData(t),this.bg=t.ReadString(),this.icon=t.ReadString()}return t.prototype.resolve=function(t){var i,a;null==(i=this.item)||i.resolve(t),null==(a=this.price)||a.resolve(t)},t}()),N=t("IDiamondShopTb",function(){function t(t){this.id=void 0,this.desc=void 0,this.name=void 0,this.item=void 0,this.price=void 0,this.discount=void 0,this.bg=void 0,this.icon=void 0,this.id=t.ReadInt(),this.desc=t.ReadString(),this.name=t.ReadString(),this.item=new s.ItemData(t),this.price=new s.ItemData(t);var i=Math.min(t.ReadSize(),t.Size);this.discount=[];for(var a=0;a<i;a++){var e;e=t.ReadInt(),this.discount.push(e)}this.bg=t.ReadString(),this.icon=t.ReadString()}return t.prototype.resolve=function(t){var i,a;null==(i=this.item)||i.resolve(t),null==(a=this.price)||a.resolve(t)},t}()),U=t("ISpecialShopTb",function(){function t(t){this.id=void 0,this.name=void 0,this.item=void 0,this.price=void 0,this.bg=void 0,this.icon=void 0,this.id=t.ReadInt(),this.name=t.ReadString(),this.item=new s.ItemData(t),this.price=new s.ItemData(t),this.bg=t.ReadString(),this.icon=t.ReadString()}return t.prototype.resolve=function(t){var i,a;null==(i=this.item)||i.resolve(t),null==(a=this.price)||a.resolve(t)},t}()),B=t("IEggOpenWeight",function(){function t(t){this.id=void 0,this.groupId=void 0,this.itemType=void 0,this.articleId=void 0,this.articleNum=void 0,this.weight=void 0,this.id=t.ReadInt(),this.groupId=t.ReadInt(),this.itemType=t.ReadInt(),this.articleId=t.ReadInt(),this.articleNum=t.ReadInt(),this.weight=t.ReadInt()}return t.prototype.resolve=function(t){},t}()),q=t("IEggPart1",function(){function t(t){this.id=void 0,this.quality=void 0,this.weight=void 0,this.id=t.ReadInt(),this.quality=t.ReadInt(),this.weight=t.ReadInt()}return t.prototype.resolve=function(t){},t}()),H=t("IPassPortRewardTb",function(){function t(t){this.id=void 0,this.lv=void 0,this.exp=void 0,this.ordinaryReward=void 0,this.deluxeReward=void 0,this.issue=void 0,this.id=t.ReadInt(),this.lv=t.ReadInt(),this.exp=t.ReadInt(),this.ordinaryReward=new s.ItemData(t),this.deluxeReward=new s.ItemData(t),this.issue=t.ReadInt()}return t.prototype.resolve=function(t){var i,a;null==(i=this.ordinaryReward)||i.resolve(t),null==(a=this.deluxeReward)||a.resolve(t)},t}()),Q=t("IEggPart2",function(){function t(t){this.id=void 0,this.quality=void 0,this.weight=void 0,this.id=t.ReadInt(),this.quality=t.ReadInt(),this.weight=t.ReadInt()}return t.prototype.resolve=function(t){},t}()),W=t("IEggPart3",function(){function t(t){this.id=void 0,this.quality=void 0,this.weight=void 0,this.id=t.ReadInt(),this.quality=t.ReadInt(),this.weight=t.ReadInt()}return t.prototype.resolve=function(t){},t}()),F=t("SceneInfo",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new l(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),A=t("ErrorTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new L(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),V=t("GlobalTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new y(t),this._dataList.push(a),this._dataMap.set(a.layEggTime,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),j=t("RedPointTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new _(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),J=t("QualityTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new R(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),K=t("GuideTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new M(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),X=t("GuideListTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new w(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),Y=t("UnlockTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new T(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),Z=t("HelpTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new S(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),$=t("ItemTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new I(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),tt=t("PetTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new m(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),it=t("TaskTypeTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new b(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),at=t("TaskTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new k(t),this._dataList.push(a),this._dataMap.set(a.taskId,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),et=t("EggTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new D(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),st=t("EggScoreTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new P(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),nt=t("EggOpenWeightTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new B(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),ot=t("EggPart1Tb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new q(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),rt=t("EggPart2Tb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new Q(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),dt=t("EggPart3Tb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new W(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),ht=t("BattleConfigTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new E(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),ut=t("DailyShopTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new O(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),vt=t("OrdinaryShopTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new C(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),pt=t("DiamondShopTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new N(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),ct=t("SpecialShopTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new U(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),gt=t("SignTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new z(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),ft=t("ReSignTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new G(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),_t=t("PassPortIssueTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new x(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}()),lt=t("PassPortRewardTb",function(){function t(t){this._dataMap=void 0,this._dataList=void 0,this._dataMap=new Map,this._dataList=[];for(var i=t.ReadInt();i>0;i--){var a;a=new H(t),this._dataList.push(a),this._dataMap.set(a.id,a)}}var a=t.prototype;return a.getDataMap=function(){return this._dataMap},a.getDataList=function(){return this._dataList},a.get=function(t){return this._dataMap.get(t)},a.resolve=function(t){for(var a,e=i(this._dataList);!(a=e()).done;){a.value.resolve(t)}},t}());t("Tables",function(){function t(t){this._SceneInfo=void 0,this._ErrorTb=void 0,this._GlobalTb=void 0,this._RedPointTb=void 0,this._QualityTb=void 0,this._GuideTb=void 0,this._GuideListTb=void 0,this._UnlockTb=void 0,this._HelpTb=void 0,this._ItemTb=void 0,this._PetTb=void 0,this._TaskTypeTb=void 0,this._TaskTb=void 0,this._EggTb=void 0,this._EggScoreTb=void 0,this._EggOpenWeightTb=void 0,this._EggPart1Tb=void 0,this._EggPart2Tb=void 0,this._EggPart3Tb=void 0,this._BattleConfigTb=void 0,this._DailyShopTb=void 0,this._OrdinaryShopTb=void 0,this._DiamondShopTb=void 0,this._SpecialShopTb=void 0,this._SignTb=void 0,this._ReSignTb=void 0,this._PassPortIssueTb=void 0,this._PassPortRewardTb=void 0,this._SceneInfo=new F(t("SceneInfo")),this._ErrorTb=new A(t("ErrorTb")),this._GlobalTb=new V(t("GlobalTb")),this._RedPointTb=new j(t("RedPointTb")),this._QualityTb=new J(t("QualityTb")),this._GuideTb=new K(t("GuideTb")),this._GuideListTb=new X(t("GuideListTb")),this._UnlockTb=new Y(t("UnlockTb")),this._HelpTb=new Z(t("HelpTb")),this._ItemTb=new $(t("ItemTb")),this._PetTb=new tt(t("PetTb")),this._TaskTypeTb=new it(t("TaskTypeTb")),this._TaskTb=new at(t("TaskTb")),this._EggTb=new et(t("EggTb")),this._EggScoreTb=new st(t("EggScoreTb")),this._EggOpenWeightTb=new nt(t("EggOpenWeightTb")),this._EggPart1Tb=new ot(t("EggPart1Tb")),this._EggPart2Tb=new rt(t("EggPart2Tb")),this._EggPart3Tb=new dt(t("EggPart3Tb")),this._BattleConfigTb=new ht(t("BattleConfigTb")),this._DailyShopTb=new ut(t("DailyShopTb")),this._OrdinaryShopTb=new vt(t("OrdinaryShopTb")),this._DiamondShopTb=new pt(t("DiamondShopTb")),this._SpecialShopTb=new ct(t("SpecialShopTb")),this._SignTb=new gt(t("SignTb")),this._ReSignTb=new ft(t("ReSignTb")),this._PassPortIssueTb=new _t(t("PassPortIssueTb")),this._PassPortRewardTb=new lt(t("PassPortRewardTb")),this._SceneInfo.resolve(this),this._ErrorTb.resolve(this),this._GlobalTb.resolve(this),this._RedPointTb.resolve(this),this._QualityTb.resolve(this),this._GuideTb.resolve(this),this._GuideListTb.resolve(this),this._UnlockTb.resolve(this),this._HelpTb.resolve(this),this._ItemTb.resolve(this),this._PetTb.resolve(this),this._TaskTypeTb.resolve(this),this._TaskTb.resolve(this),this._EggTb.resolve(this),this._EggScoreTb.resolve(this),this._EggOpenWeightTb.resolve(this),this._EggPart1Tb.resolve(this),this._EggPart2Tb.resolve(this),this._EggPart3Tb.resolve(this),this._BattleConfigTb.resolve(this),this._DailyShopTb.resolve(this),this._OrdinaryShopTb.resolve(this),this._DiamondShopTb.resolve(this),this._SpecialShopTb.resolve(this),this._SignTb.resolve(this),this._ReSignTb.resolve(this),this._PassPortIssueTb.resolve(this),this._PassPortRewardTb.resolve(this)}return t.getTableNames=function(){var t=[];return t.push("SceneInfo"),t.push("ErrorTb"),t.push("GlobalTb"),t.push("RedPointTb"),t.push("QualityTb"),t.push("GuideTb"),t.push("GuideListTb"),t.push("UnlockTb"),t.push("HelpTb"),t.push("ItemTb"),t.push("PetTb"),t.push("TaskTypeTb"),t.push("TaskTb"),t.push("EggTb"),t.push("EggScoreTb"),t.push("EggOpenWeightTb"),t.push("EggPart1Tb"),t.push("EggPart2Tb"),t.push("EggPart3Tb"),t.push("BattleConfigTb"),t.push("DailyShopTb"),t.push("OrdinaryShopTb"),t.push("DiamondShopTb"),t.push("SpecialShopTb"),t.push("SignTb"),t.push("ReSignTb"),t.push("PassPortIssueTb"),t.push("PassPortRewardTb"),t},a(t,[{key:"SceneInfo",get:function(){return this._SceneInfo}},{key:"ErrorTb",get:function(){return this._ErrorTb}},{key:"GlobalTb",get:function(){return this._GlobalTb}},{key:"RedPointTb",get:function(){return this._RedPointTb}},{key:"QualityTb",get:function(){return this._QualityTb}},{key:"GuideTb",get:function(){return this._GuideTb}},{key:"GuideListTb",get:function(){return this._GuideListTb}},{key:"UnlockTb",get:function(){return this._UnlockTb}},{key:"HelpTb",get:function(){return this._HelpTb}},{key:"ItemTb",get:function(){return this._ItemTb}},{key:"PetTb",get:function(){return this._PetTb}},{key:"TaskTypeTb",get:function(){return this._TaskTypeTb}},{key:"TaskTb",get:function(){return this._TaskTb}},{key:"EggTb",get:function(){return this._EggTb}},{key:"EggScoreTb",get:function(){return this._EggScoreTb}},{key:"EggOpenWeightTb",get:function(){return this._EggOpenWeightTb}},{key:"EggPart1Tb",get:function(){return this._EggPart1Tb}},{key:"EggPart2Tb",get:function(){return this._EggPart2Tb}},{key:"EggPart3Tb",get:function(){return this._EggPart3Tb}},{key:"BattleConfigTb",get:function(){return this._BattleConfigTb}},{key:"DailyShopTb",get:function(){return this._DailyShopTb}},{key:"OrdinaryShopTb",get:function(){return this._OrdinaryShopTb}},{key:"DiamondShopTb",get:function(){return this._DiamondShopTb}},{key:"SpecialShopTb",get:function(){return this._SpecialShopTb}},{key:"SignTb",get:function(){return this._SignTb}},{key:"ReSignTb",get:function(){return this._ReSignTb}},{key:"PassPortIssueTb",get:function(){return this._PassPortIssueTb}},{key:"PassPortRewardTb",get:function(){return this._PassPortRewardTb}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ShareDefine.ts",["cc","./fairygui.min.mjs"],(function(e){var a,o,n,t,i,r,l,s;return{setters:[function(e){a=e.cclegacy,o=e.macro,n=e.DynamicAtlasManager,t=e.Color,i=e.assetManager,r=e.screen,l=e.view},function(e){s=e.UIConfig}],execute:function(){a._RF.push({},"4402e6+IT9KB45YuuFdB+qQ","ShareDefine",void 0),o.CLEANUP_IMAGE_CACHE=!0,n.instance.enabled=!1,n.instance.maxFrameSize=512,s.enableDelayLoad=!1,s.autoReleaseAssets=!1,s.windowModalWaiting="ui://16eoroa8jtds8",s.globalModalWaiting="ui://16eoroa8jtds8",s.defaultFont="fzch-Regular",s.modalLayerColor=new t(0,0,0,178),i.downloader.maxRetryCount=3,i.downloader.retryInterval=2e3,i.downloader.maxConcurrency=30,i.downloader.maxRequestsPerFrame=10;var d=r.windowSize;d.width/=l.getScaleX(),d.height/=l.getScaleY();var u=e("default",{IsDevelopment:!0,ClientVersion:"1.0.0",NetTimeout:3e4,IsShowGM:!1,RootSize:d,BaseUrl:"http://8.138.99.56:8080/api/v1",HttpStatus:0,Token:"",IsShowGuide:!0});for(var c in u)null!=window[c]&&(u[c]=window[c]);window.IsDevelopment&&console.log(JSON.stringify(u)),a._RF.pop()}}}));

System.register("chunks:///_virtual/ShopMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseClass.ts","./Ton.ts","./UserApi.ts","./LocalStorageMgr.ts"],(function(n){var t,e,o,r,i,c,s,a,u;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass,o=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){i=n.cclegacy},function(n){c=n.BaseClass},function(n){s=n.Ton},function(n){a=n.default},function(n){u=n.default}],execute:function(){i._RF.push({},"b3223xBWYNPYYiaXQkIMWuK","ShopMgr",void 0),n("default",function(n){function i(){return n.apply(this,arguments)||this}t(i,n);var c=i.prototype;return c.init=function(){this.log("init")},c.onReload=function(){},c.buy=function(n,t,e){if(window.tonConnectUI){var i=window.tonConnectUI,c=i.connected;if(this.log("currentIsConnectedStatus:",c),c)a.createOrder(t,e,n).then((function(t){if(0==t.code){var e=t.data.orderId;console.log("orderId",e),setTimeout((function(){s.buy(t.data.price,e,n).then((function(n){setTimeout((function(){console.log("transactionId ",n);var t=u.inst.getRoleConfigProperty("TransactionIdList");-1==t.indexOf(n)&&(t.push(n),u.inst.setRoleConfigProperty("TransactionIdList",t))}),0)}))}),0)}}));else(function(){var n=o(r().mark((function n(){var t;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.connectWallet();case 2:t=n.sent,i.connected&&a.taskTonAccount(t.account.address);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()().catch((function(n){console.error("Error connecting to wallet:",n)}))}},e(i,null,[{key:"inst",get:function(){return null==this._instance&&(this._instance=new i),this._instance}}]),i}(c))._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/ShowFPS.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShareDefine.ts"],(function(e){var t,o,n,i,r,l,a,s;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e.director,i=e.Layers,r=e.Label,l=e.Color,a=e.Node},function(e){s=e.default}],execute:function(){var u;o._RF.push({},"e5319pYYntEcKo0i4+Fi0aW","ShowFPS",void 0);var c=e("ShowFPS",function(e){function o(){var t;return(t=e.call(this)||this)._label=null,t.layer=i.Enum.UI_2D,t._label=t.addComponent(r),t._label.fontSize=30,t._label.color=l.GREEN,t._label.string="",t.name="FPS",t.setPosition(.5*-s.RootSize.width+15,.5*s.RootSize.height-15),t}return t(o,e),o.prototype.onUpdate=function(e){this._label.string=n.root.fps.toString()},o}(a));u=c,c.inst=new u,o._RF.pop()}}}));

System.register("chunks:///_virtual/SysMsgMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseClass.ts","./FormMgr.ts","./ConfigManager.ts"],(function(t){var n,s,r,i,e,o;return{setters:[function(t){n=t.inheritsLoose,s=t.createClass},function(t){r=t.cclegacy},function(t){i=t.BaseClass},function(t){e=t.default},function(t){o=t.default}],execute:function(){r._RF.push({},"88bdfMY7bVIQahwBe1zlHRH","SysMsgMgr",void 0),t("default",function(t){function r(){for(var n,s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this).regExpDict=null,n.waitForConfirmDict=null,n}n(r,t);var i=r.prototype;return i.init=function(){this.regExpDict={},this.waitForConfirmDict={},this.log("init")},i.setWaitForConfirm=function(t,n,s){this.waitForConfirmDict[t]={fn:n,msgID:t,argList:s}},i.onConFirmResult=function(t,n){if(this.waitForConfirmDict.hasOwnProperty(n)){var s=this.waitForConfirmDict[n],r=s.fn,i=s.argList;r&&r(t,n,i)}},i.getSysMsgContentByMsgID=function(t,n){if(void 0===n&&(n=[]),!o.inst.tables.ErrorTb.get(t))return this.errLog("getSysMsgContentByMsgID(%s) Error.txt not find",t),t;var s=o.inst.tables.ErrorTb.get(t).content;return this.translateMsgContent(s,n)},i.translateMsgContent=function(t,n){void 0===n&&(n=[]);for(var s=n.length,r=0;r<=s;r++){var i=n[r],e=null,o=r+1;-1!=t.indexOf(o)&&(this.regExpDict.hasOwnProperty(o)?e=this.regExpDict[o]:(e=new RegExp("\\{"+o+"\\}","g"),this.regExpDict[o]=e),t=t.replace(e,i))}return t},i.showSysMsg=function(t,n){void 0===n&&(n=[]),this.log("showSysMsg(%s):",t,n);var s="",r=0,i=["Confirm"],a=1,g=1;if(o.inst.tables.ErrorTb.get(t)){var l=o.inst.tables.ErrorTb.get(t);if(!l.show)return;r=l.pos,s=l.content,s=this.translateMsgContent(s,n),i=l.button,a=l.clickVoidClose,g=l.align}else r=4,s=t;1==r?this.errLog("showSysMsg(%s) error",t):2==r||3==r||(4==r||5==r?e.inst.showForm("battleOther/UIAlert",[s,i,this.onConFirmResult.bind(this),t,r,a,g]):6==r||this.errLog("showSysMsg(%s) msgPos(%s) error",t,r))},s(r,null,[{key:"inst",get:function(){return null==this._instance&&(this._instance=new r),this._instance}}]),r}(i))._instance=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/TMA.ts",["cc","./Utils.ts","./LocalStorageMgr.ts","./UserApi.ts"],(function(e){var n,t,a,i,s;return{setters:[function(e){n=e.cclegacy,t=e.sys},function(e){a=e.Utils},function(e){i=e.default},function(e){s=e.default}],execute:function(){n._RF.push({},"7b320LojxZCFp/UqrOt2ZQE","TMA",void 0);e("default",function(){function e(){}return e.login=function(){var e=i.inst.getItem("userUid"),n="",u="",r="",l="",o=t.languageCode,c=""+t.os,g=null!=window.Telegram?window.Telegram.WebApp.initDataUnsafe.user:null;g&&(e=""+g.id,n=g.first_name,u=g.last_name,l=g.photo_url,r=g.username,o=g.language_code),console.log("user",g),null==e&&(e=""+a.getCanvasFinger(),i.inst.setItem("userUid",e));var f=null!=window.Telegram?window.Telegram.WebApp.initDataUnsafe.start_param:null;e&&s.enter(o,c,e,n,u,r,l,f)},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Ton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./Utils.ts"],(function(t){var n,e,r,o,a,s,i,u,c,d;return{setters:[function(t){n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){o=t.Cell,a=t.beginCell,s=t.toNano,i=t.TonClient4,u=t.Address,c=t.JettonMaster},function(t){d=t.Utils}],execute:function(){r._RF.push({},"f8a0eZnaV1BhZuy5P5c4J3U","Ton",void 0);var l=t("Currency",function(t){return t[t.USDT=0]="USDT",t[t.TON=1]="TON",t}({}));t("Ton",function(){function t(){}return t.buy=function(){var t=n(e().mark((function t(n,r,o){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.tonConnectUI){t.next=4;break}if(o!=l.TON){t.next=3;break}return t.abrupt("return",this.ton(n,r));case 3:return t.abrupt("return",this.usdt(n,r));case 4:return t.abrupt("return","");case 5:case"end":return t.stop()}}),t,this)})));return function(n,e,r){return t.apply(this,arguments)}}(),t.ton=function(){var t=n(e().mark((function t(n,r){var s,i,u,c,l;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a().storeUint(0,32).storeStringTail(r).endCell(),i={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:"0:c61491f9cc123ae1da10a64a52a589d59a0c3a7faaae35e49c5d10d284a1cbae",amount:n.toString(),payload:s.toBoc().toString("base64")}]},t.next=4,window.tonConnectUI.sendTransaction(i);case 4:if(u=t.sent,console.log(u),!u||!u.boc){t.next=10;break}return c=o.fromBase64(u.boc),l=d.uint8ArrayToHex(c.hash()),t.abrupt("return",l);case 10:return t.abrupt("return","");case 11:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),t.usdt=function(){var t=n(e().mark((function t(n,r){var l,p,f,b,h,w,g,U,m,v,T,x,C;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=new i({endpoint:"https://mainnet-v4.tonhubapi.com",timeout:3e4}),p=u.parse("EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs"),f=u.parse("UQDGFJH5zBI64doQpkpSpYnVmgw6f6quNeScXRDShKHLrmSv"),b=u.parse(window.tonConnectUI.account.address),h=l.open(c.create(p)),t.next=7,h.getWalletAddress(b);case 7:return w=t.sent,g=a().storeUint(260734629,32).storeUint(0,64).storeCoins(n).storeAddress(f).storeAddress(f).storeUint(0,1).storeCoins(1),U=a().storeUint(0,32).storeStringTail(r).endCell(),g.storeBit(1),g.storeRef(U),m=g.endCell(),v={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:w.toString(),amount:s("0.1").toString(),payload:m.toBoc().toString("base64")}]},t.next=16,window.tonConnectUI.sendTransaction(v);case 16:if(T=t.sent,console.log(T),!T||!T.boc){t.next=22;break}return x=o.fromBase64(T.boc),C=d.uint8ArrayToHex(x.hash()),t.abrupt("return",C);case 22:return t.abrupt("return","");case 23:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/TopLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.min.mjs","./BaseComponent.ts","./ResMgr.ts"],(function(o){var t,n,i,e,a,s,c;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,i=o._decorator},function(o){e=o.UIPackage,a=o.GRoot},function(o){s=o.BaseComponent},function(o){c=o.default}],execute:function(){var d;n._RF.push({},"2f512xmp5xEkr2oiVKGHdeC","TopLayer",void 0);var r=i.ccclass;i.property,o("TopLayer",r("TopLayer")(d=function(o){function n(){for(var t,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(t=o.call.apply(o,[this].concat(i))||this)._modalDelayTick=500,t._showModalTick=0,t._count=0,t._isLoaded=!1,t}t(n,o);var i=n.prototype;return i.onInit=function(){var o=this;this.node.setSiblingIndex(99),this.node.active=!1,c.inst.loadBundle("modalWaiting").then((function(t){e.loadPackage(t,"default/modalWaiting",o.onPKGLoaded.bind(o))}))},i.onPKGLoaded=function(){this._isLoaded=!0},i.onModalLayer=function(o){switch(o){case"Block":this.doBlockInputEvents();break;case"Open":this.doShowModalLayer();break;case"Close":this.doCloseModalLayer();break;default:this.errLog("onModalLayer("+o+") error")}},i.update=function(o){var t=Date.now();this._showModalTick&&this._showModalTick<=t&&this.doShowModalWait()},i.doShowModalWait=function(){this._isLoaded&&(this._showModalTick=0,a.inst.showModalWait())},i.doShowModalLayer=function(){this._count++,this.node.active=!0,this._showModalTick=Date.now()+this._modalDelayTick},i.doCloseModalLayer=function(){this._count--,this._count<=0&&(this._count=0,this.node.active=!1,this._showModalTick=0,this._isLoaded&&a.inst.closeModalWait())},i.doBlockInputEvents=function(){this._count++,this.node.active=!0},i.onBeforeExitScene=function(){},i.onSwithSceneEnd=function(){},i.onUpdate=function(o){},n}(s))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIAlert.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./IUIAlert.ts","./AlertDefine.ts"],(function(t){var s,n,e,i,o,r,l;return{setters:[function(t){s=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){i=t.ZOrderLvEnum,o=t.UIType},function(t){r=t.default},function(t){l=t.ConfirmType}],execute:function(){var c,h;n._RF.push({},"d49faALXUBME4dWxRzmhb0T","UIAlert",void 0);var a=e.ccclass;e.property,t("UIAlert",a(((h=function(t){function n(){for(var s,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(s=t.call.apply(t,[this].concat(e))||this).zOrderLv=i.ZOrderLv7,s.uiType=o.NormalUI,s.modal=!0,s.clickVoidClose=!0,s._fn=null,s._msgID=0,s.argsList=[],s}s(n,t);var e=n.prototype;return e.onInit=function(){},e.onShown=function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];this.argsList.push(s),this.showMsg()},e.showMsg=function(){if(0!=this.argsList.length){var t=this.argsList.shift();this._desc.text=""+t[0],5==t[4]?(this.view.getController("c1").selectedIndex=0,this._btnCancel.title=t[1][0],this._btnSure.title=t[1][1]):(this._btnClose.title=t[1][0],this.view.getController("c1").selectedIndex=1),this._fn=t[2],this._msgID=t[3],this.clickVoidClose=1==t[5],this._desc.align=t[6]}else this.closeForm()},e.onUpdateInfo=function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];this.argsList.push(s)},e.onHide=function(){},e.onDispose=function(){},e.onUpdate=function(t){},e.canClickVoidClose=function(){return 0==this.argsList.length||(this.showMsg(),!1)},e.onClick_Wnd=function(t,s){"btnClose"==s||"btnCancel"==s?(this._fn&&this._fn(l.Left,this._msgID),this.showMsg()):"btnSure"==s&&(this._fn&&this._fn(l.Right,this._msgID),this.showMsg())},n}(r)).pkgs=["basics","battleOther","item"],c=h))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIAutoEggCollect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./IUIAutoEggCollect.ts","./UserData.ts","./Utils.ts","./ConfigManager.ts","./SysMsgMgr.ts","./ErrorDefine.ts","./AlertDefine.ts","./UserApi.ts","./schema.ts","./EventDefine.ts"],(function(t){var e,n,i,o,r,s,u,c,a,l,g,f,p,h,m;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.ZOrderLvEnum,r=t.UIType},function(t){s=t.default},function(t){u=t.default},function(t){c=t.Utils},function(t){a=t.default},function(t){l=t.default},function(t){g=t.ErrorDefine},function(t){f=t.ConfirmType},function(t){p=t.default},function(t){h=t.Shop},function(t){m=t.EventDefine}],execute:function(){var y,d;n._RF.push({},"ad19f0gAYRDBJXSjpWHdBVq","UIAutoEggCollect",void 0);var C=i.ccclass;i.property,t("UIAutoEggCollect",C(((d=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).zOrderLv=o.ZOrderLv7,e.uiType=r.Full,e.modal=!0,e.clickVoidClose=!0,e._timeCount=0,e}e(n,t);var i=n.prototype;return i.onInit=function(){this.regEvent(m.RefreshAutoEggCollect,this.refreshAutoEggCollect)},i.onShown=function(){this.refreshAutoEggCollect();var t=a.inst.tables.SpecialShopTb.get(1640001);this._btn1Day._price.text=":"+t.price.num;var e=a.inst.tables.SpecialShopTb.get(1640002);this._btn7Day._price.text=":"+e.price.num;var n=a.inst.tables.SpecialShopTb.get(1640003);this._btn30Day._price.text=":"+n.price.num},i.refreshAutoEggCollect=function(){u.autoEggCollectRTime>0?(this._egg.grayed=!1,this._remainingTime.text=c.formatTimeStr(u.autoEggCollectETime-u.now)):(this._egg.grayed=!0,this._remainingTime.text=c.formatTimeStr(0))},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){this._timeCount=this._timeCount+t,this._timeCount>=1&&(this._timeCount=0,this.refreshAutoEggCollect())},i.onClick_Wnd=function(t,e){"btn1Day"==e?this.buy(h.Type.Special,1640001):"btn7Day"==e?this.buy(h.Type.Special,1640002):"btn30Day"==e&&this.buy(h.Type.Special,1640003)},i.buy=function(t,e){var n=this,i=a.inst.tables.SpecialShopTb.get(e);l.inst.setWaitForConfirm(g.BuyEggCollectionCard,(function(o,r,s){o==f.Right&&(u.getItemNum(i.price.id)>=i.price.num?p.shopBuy(t,e):(l.inst.setWaitForConfirm(g.DiamondNotEnough,(function(t,e,i){n.closeForm(),n.emitEvent(m.GoTo,"btnShop",[h.Type.Diamond])}),null),l.inst.showSysMsg(g.DiamondNotEnough)))}),null);var o=a.inst.tables.ItemTb.get(i.item.id);l.inst.showSysMsg(g.BuyEggCollectionCard,[i.price.num,Number(o.param)/3600/24])},n}(s)).pkgs=["item","share","autoEggCollect"],y=d))||y);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIBattleEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./ConfigManager.ts","./UserData.ts","./EventDefine.ts","./IUIBattleEntry.ts","./UserApi.ts","./FormMgr.ts","./ErrorDefine.ts","./ShareDefine.ts"],(function(t){var e,n,a,i,s,r,o,l,h,u,c,f,d,m;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,i=t._decorator},function(t){s=t.ZOrderLvEnum,r=t.UIType},function(t){o=t.default},function(t){l=t.default},function(t){h=t.EventDefine},function(t){u=t.default},function(t){c=t.default},function(t){f=t.default},function(t){d=t.ErrorDefine},function(t){m=t.default}],execute:function(){var p,y;a._RF.push({},"7b298jCh61FFa8sJzPWDOMp","UIBattleEntry",void 0);var b=i.ccclass;i.property,t("UIBattleEntry",b(((y=function(t){function a(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).zOrderLv=s.ZOrderLv6,e.uiType=r.Full,e._matchState=null,e._syncMatchStateTime=0,e._nextSyncMatchStateTimeCount=0,e._timeCount=0,e}e(a,t);var i=a.prototype;return i.onInit=function(){this._battleList.itemRenderer=this.renderListItem.bind(this),this.regEvent(h.RefreshBattleEntry,this.refreshBattleEntry),this.regEvent(h.RefreshGold,this.refreshGlod),this.regEvent(h.RefreshPet,this.refreshPet)},i.renderListItem=function(t,e){this.getFguiComponent(e,"UIBattleEntryChild").showForm(this,e.parent.data[t],this._matchState)},i.onShown=function(){this.refreshBattleEntry(arguments.length<=0?void 0:arguments[0]),this.refreshGlod(),this.refreshPet()},i.refreshGlod=function(){this._totalGold.text=""+l.gold},i.refreshPet=function(){for(var t,e=0,a=n(l.pets);!(t=a()).done;){e+=t.value.num}this._petNumTxt.text=""+e},i.refreshBattleEntry=function(t){this._matchState=t;var e=o.inst.tables.BattleConfigTb.getDataList().slice();m.IsShowGuide&&-1==l.guide.step.indexOf(306)&&e.shift();for(var n=0;n<e.length;n++)999==e[n].id&&e.splice(n,1);m.IsShowGuide&&-1==l.guide.step.indexOf(306)&&e.unshift(o.inst.tables.BattleConfigTb.get(999)),this._battleList.data=e,this._battleList.numItems=e.length},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){var e=this;if(this._timeCount+=t,this._timeCount>=1&&(this._timeCount=0,""!=l.lastDeskId)){if(this._matchState&&l.now>=this._matchState.createdAt+o.inst.tables.BattleConfigTb.get(this._matchState.battleId).matchTime)return void this.battleRoundResult();l.now-this._syncMatchStateTime>this._nextSyncMatchStateTimeCount&&(this._syncMatchStateTime=l.now,this._nextSyncMatchStateTimeCount=2+Math.floor(2*Math.random()),c.battleMatchState(l.lastDeskId).then((function(t){if(0==t.code)if(0==t.data.startAt){e.refreshBattleEntry(t.data);var n=o.inst.tables.BattleConfigTb.get(t.data.battleId);t.data.playerNum==n.playerNum&&e.battleRoundResult()}else e.refreshBattleEntry(null),e.battleRoundResult();else t.code==d.BattleYouNotInRound&&e.battleRoundResult()})))}},i.battleRoundResult=function(){var t=this;c.battleRoundResult(l.lastDeskId).then(this.callFunc((function(e){0==e.code&&(1==e.data.state||3==e.data.state?(c.battleSettlement(l.lastDeskId),t.refreshBattleEntry(null)):(t.closeForm(),f.inst.showForm("battleMain/UIBattleMain",[e.data])))})))},i.onClick_Wnd=function(t,e){},a}(u)).pkgs=["basics","battleEntry","item"],p=y))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/UIBattleEntryChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./schema.ts","./UserData.ts","./Utils.ts","./UserApi.ts","./FormMgr.ts","./SysMsgMgr.ts","./ErrorDefine.ts","./EventDefine.ts","./IUIBattleEntryChild.ts","./fairygui.min.mjs"],(function(t){var e,i,n,s,a,l,o,r,h,f,c,u,_,d;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,s=t._decorator},function(t){a=t.Reward},function(t){l=t.default},function(t){o=t.Utils},function(t){r=t.default},function(t){h=t.default},function(t){f=t.default},function(t){c=t.ErrorDefine},function(t){u=t.EventDefine},function(t){_=t.default},function(t){d=t.UIPackage}],execute:function(){var b;n._RF.push({},"b4a70HKpfZEJ64HdcValIhj","UIBattleEntryChild",void 0);var m=s.ccclass;s.property,t("UIBattleEntryChild",m(b=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this)._timeCount=0,e._battleConfig=null,e._matchState=null,e}e(n,t);var s=n.prototype;return s.onInit=function(){},s.onShown=function(t,e,i){this._battleConfig=e,this._matchState=i,this.refreshBattleState()},s.refreshBattleState=function(){if(this._battleName.text=this._battleConfig.battleName,this._desc.text=this._battleConfig.desc,this._bg.icon=d.getItemURL("battleEntry",this._battleConfig.bg),this._people.view.visible=1==this._battleConfig.isOpen,this._leftTime.view.visible=1==this._battleConfig.isOpen,this._matchState&&l.lastDeskId.split("-")[0]==this._battleConfig.id.toString()){this._people.view.visible=!0,this._leftTime.view.visible=!0,this._people._num.text=this._matchState.playerNum+"/"+this._battleConfig.playerNum;var t=l.now-this._matchState.createdAt;this._leftTime._num.text=o.formatTimeStr(Math.max(l.now-this._matchState.joinAt,0));var e=l.lastDeskId==this._matchState.deskId&&l.lastDeskId.split("-")[0]==this._matchState.battleId.toString();this._btnEnter.getController("c1").selectedIndex=e?1:0,this._btnEnter.title=e?"Exit":"Match",0==this._battleConfig.canExit?this._btnEnter.enabled=!1:this._btnEnter.enabled=t<=this._battleConfig.matchTime,this._btnEnter.y=367}else this._btnEnter.getController("c1").selectedIndex=0,this._btnEnter.enabled=!0,this._btnEnter.title="Match",this._people.view.visible=!1,this._leftTime.view.visible=!1,this._btnEnter.y=343},s.onUpdateInfo=function(){},s.onHide=function(){},s.onDispose=function(){},s.onUpdate=function(t){this._timeCount+=t,this._timeCount>=1&&(this._timeCount=0,this.refreshBattleState())},s.onClick_Wnd=function(t,e){var n=this;if("btnEnter"==e){if(0==this._battleConfig.isOpen)return void f.inst.showSysMsg(c.FunctionNotOpen);if(this._matchState&&l.lastDeskId==this._matchState.deskId&&l.lastDeskId.split("-")[0]==this._battleConfig.id.toString()){if(0==this._battleConfig.canExit)return;r.battleLeave(l.lastDeskId).then(this.callFunc((function(t){0==t.code&&n.emitEvent(u.RefreshBattleEntry,null)})))}else{if(""!=l.lastDeskId)return void f.inst.showSysMsg(c.AlreadyJoinOtherBattle);for(var s,o=!0,_=this._battleConfig.need,d=i(_);!(s=d()).done;){var b=s.value;if(b.type==a.Type.Item)l.getItemNum(b.id)>=b.num||(o=!1);else if(b.type==a.Type.Pet){var m=l.getPet(b.id);m&&m.num>=b.num||(o=!1)}}if(!o)return void f.inst.showSysMsg(c.NotQualified);h.inst.showForm("battleOther/UIBattleSelectPet",[this._battleConfig.id])}}else"btnHelp"==e&&h.inst.showForm("battleOther/UIHelp",[1])},n}(_))||b);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIBattleExit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./UserApi.ts","./UserData.ts","./FormMgr.ts","./IUIBattleExit.ts","./EventDefine.ts"],(function(t){var n,e,o,i,s,a,c,l,r,u;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){i=t.ZOrderLvEnum,s=t.UIType},function(t){a=t.default},function(t){c=t.default},function(t){l=t.default},function(t){r=t.default},function(t){u=t.EventDefine}],execute:function(){var f,d;e._RF.push({},"093fdm6H51OHJt/T6eUL2qw","UIBattleExit",void 0);var p=o.ccclass;o.property,t("UIBattleExit",p(((d=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).zOrderLv=i.ZOrderLv7,n.uiType=s.NormalUI,n.modal=!0,n.clickVoidClose=!0,n}n(e,t);var o=e.prototype;return o.onInit=function(){},o.onShown=function(){this._desc.setVar("bonus"," "+(arguments.length<=0?void 0:arguments[0])),this._desc.flushVars()},o.onUpdateInfo=function(){},o.onHide=function(){},o.onDispose=function(){},o.onUpdate=function(t){},o.onClick_Wnd=function(t,n){var e=this;"btnClose"==n&&a.battleExit(c.lastDeskId).then(this.callFunc((function(t){0==t.code&&(e.closeForm(),l.inst.closeForm("battleMain/UIBattleMain"),0==t.data.state?(a.battleSettlement(c.lastDeskId).then(e.callFunc((function(t){0==t.code&&e.emitEvent(u.GoTo,"btnBattle")}))),c.lastDeskId=""):e.emitEvent(u.GoTo,"btnBattle"))})))},e}(r)).pkgs=["basics","battleOther","item"],f=d))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIBattleMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./UserApi.ts","./IUIBattleMain.ts","./ConfigManager.ts","./Utils.ts","./UserData.ts","./FormMgr.ts","./fairygui.min.mjs","./EventDefine.ts"],(function(t){var e,i,a,n,s,o,l,r,u,c,d,h,_,f,v;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,a=t._decorator},function(t){n=t.ZOrderLvEnum,s=t.UIType},function(t){o=t.default},function(t){l=t.default},function(t){r=t.default},function(t){u=t.Utils},function(t){c=t.default},function(t){d=t.default},function(t){h=t.GTween,_=t.EaseType,f=t.UIPackage},function(t){v=t.EventDefine}],execute:function(){var b,p;i._RF.push({},"3a148iYORhIDJXHSDgiiMNM","UIBattleMain",void 0);var m=a.ccclass;a.property,t("UIBattleMain",m(((p=function(t){function i(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).zOrderLv=n.ZOrderLv6,e.uiType=s.Full,e._selectGrid=-1,e._battleData=null,e._roundStartTime=0,e._timeCounter=0,e._isCanGetBattleRoundResult=!0,e._scoreSyncCounter=0,e._curRound=0,e._nextScoreSyncTimeCount=0,e._lastPetList={},e}e(i,t);var a=i.prototype;return a.onInit=function(){for(var t=1;t<=8;t++)this["_img"+t]=this._gridComp["_img"+t];this._touch=this._gridComp._touch,this.listenerClick(this._touch,this.onClick_Wnd),this._gridComp.showForm(this)},a.onShown=function(){this._leftPlayerNum.visible=!1,this._battleData=arguments.length<=0?void 0:arguments[0],this._selectGrid=-1,this._scoreSyncCounter=0,this._curRound=0,this._roundStartTime=0,this.updateRoundInfo(),this.updateBetState(!0),this.updateBattleStatus(),2==this._battleData.state&&(this._battleData.round=1),1==this._battleData.round&&(this._roundStartTime-c.now>5||0==this._roundStartTime)?this.playRoundStartEffect():(this._roundStartEff.view.visible=!1,this._tips.visible=!1)},a.playEffect=function(t,e,i){var a=this;t.view._tweener=h.to(-3,3,i).setEase(_.Linear).setRepeat(e,!0).onUpdate((function(e){t.view.rotation=e.value.x,t._red.visible=e.value.x>0}),this).onComplete(this.callFunc((function(){h.to(a._img1.view.rotation,0,i/2).setEase(_.Linear).onUpdate(a.callFunc((function(e){t.view.rotation=e.value.x,t._red.visible=!1})),a)})),this)},a.resetGridShow=function(){for(var t=1;t<=8;t++){var e=this["_img"+t];e._red.visible=!1,e._ani.visible=!1,e.view.getChild("icon").visible=!0,e.view.visible=!0,e._select.sortingOrder=2,e._red.sortingOrder=3,e._ani.sortingOrder=4,this["_img"+t].view._tweener&&(this["_img"+t].view._tweener.kill(),this["_img"+t].view._tweener=null),this.removeAllPet(t)}},a.updateSelectGrid=function(t){this._selectGrid=t,this._gridComp.view.getController("c1").selectedIndex=t>0?t-1:-1},a.updateRoundInfo=function(){if(this._isCanGetBattleRoundResult=!0,this._battleData.roundStartTime){this.resetGridShow(),this._lastPetList={},this._round.text=this._battleData.round+"/"+r.inst.tables.BattleConfigTb.get(this._battleData.battleId).totalRound,this._roundStartTime=this._battleData.roundStartTime,this.updateScoreDisplay(this._battleData.syncScore);for(var t=this._battleData.result||[],e=0;e<t.length;e++)this["_img"+t[e]].view.visible=!1;this.addSelfPet(this._battleData.syncScore.grid,this._battleData.petId),this._leftPlayerNum.text=""+this._battleData.leftPlayerNum,999==this._battleData.battleId?this._btnExit.visible=4==this._battleData.round:this._btnExit.visible=!0}},a.updateScoreDisplay=function(t){if(t){this._battleData.syncScore=t,this.updateSelectGrid(t.grid);var e=r.inst.tables.BattleConfigTb.get(this._battleData.battleId);this._totalBonus.text=""+e.totalBonus,this._playerBonus.text=""+t.playerBonus;for(var i=t.scoreList||{},a=1;a<=8;a++)this["_img"+a]._score._scoreTxt.text=""+(t.baseBonus+(i[a]||0));for(var n=t.petList||{},s=1;s<=8;s++){for(var o=s,l=n[o]||[],u=this._lastPetList[o]||[],c=[],d=[],h=0;h<l.length;h++){-1==u.indexOf(l[h])&&c.push(l[h])}for(var _=0;_<u.length;_++){-1==l.indexOf(u[_])&&d.push(u[_])}for(var f=0;f<d.length;f++)this.removePet(o,d[f]);for(var v=0;v<c.length;v++)this.addPet(o,c[v],.2)}this._lastPetList=n}},a.addPet=function(t,e,i){var a=f.createObject("petBody",r.inst.tables.PetTb.get(e).body);a.name="petBody"+e,a.setPivot(.5,.5,!0),a.setScale(i,i);var n=this["_img"+t].view.width-150+120;a.setPosition(n,180),this["_img"+t].view.addChild(a),a._tweener=h.to(120,n,3+2*Math.random()).setEase(_.Linear).setRepeat(-1,!0).onUpdate((function(t){a.scaleX=a.x>t.value.x?i:-i,a.x=t.value.x}),this)},a.removePet=function(t,e){var i=this["_img"+t].view.getChild("petBody"+e);i&&(i._tweener&&(i._tweener.kill(),i._tweener=null),i.dispose())},a.addSelfPet=function(t,e){if(this.removeSelfPet(),-1!=t){var i=f.createObject("petBody",r.inst.tables.PetTb.get(e).body);i.name="petBody_self",i.setPivot(.5,.5,!0),i.setScale(.35,.35),i.sortingOrder=1,i.setPosition(75,145),this["_img"+t].view.addChild(i);var a=f.createObject("battleMain","me");a.name="petBody_me",a.sortingOrder=1,a.setPosition(50,70),this["_img"+t].view.addChild(a)}},a.removeSelfPet=function(){for(var t=1;t<=8;t++){var e=this["_img"+t].view.getChild("petBody_self");e&&(e._tweener&&(e._tweener.kill(),e._tweener=null),e.dispose());var i=this["_img"+t].view.getChild("petBody_me");i&&i.dispose()}},a.removeAllPet=function(t){for(var e=this["_img"+t].view._children.slice(),i=0;i<e.length;i++){var a=e[i];a.name.startsWith("petBody")&&(a._tweener&&(a._tweener.kill(),a._tweener=null),a.dispose())}},a.stopAllPetAction=function(){for(var t=1;t<=8;t++)for(var e=this["_img"+t].view._children.slice(),i=0;i<e.length;i++){var a=e[i];a.name.startsWith("petBody")&&a._tweener&&(a._tweener.kill(),a._tweener=null)}},a.updateBetState=function(t){this._touch.visible=!t,this._btnExit.enabled=t},a.onUpdateInfo=function(){},a.onHide=function(){this.resetGridShow(),this.updateSelectGrid(-1),this.stopAllAction()},a.stopAllAction=function(){this.view.getTransition("t0").stop(),this.view.getTransition("t1").stop(),this.view.getTransition("t2").stop(),h.kill(this),this._countDown.view.setScale(1,1),this._roundStartEff.view.setPosition(-766,526),this._tips.setPosition(-766,620),this._tips.alpha=1},a.onDispose=function(){},a.calculateRoundEndTime=function(){return this._battleData.roundStartTime+r.inst.tables.BattleConfigTb.get(this._battleData.battleId).roundInterval},a.onUpdate=function(t){this._timeCounter+=t,this._timeCounter>=1&&(this._timeCounter=0,this.updateBattleStatus())},a.playRoundStartEffect=function(){var t=this;this._battleData.round!=this._curRound&&(this._roundStartEff.view.visible=!0,this._roundStartEff._roundTxt.text=""+this._battleData.round,this.view.getTransition("t1").play(this.callFunc((function(){t._roundStartEff.view.visible=!1})),1),this._tips.visible=!0,this.view.getTransition("t2").play(this.callFunc((function(){t._tips.visible=!1})),1),h.delayedCall(.375).onComplete(this.callFunc((function(){t._roundStartEff.playAni()})),this))},a.updateBattleStatus=function(){var t=this,e=this._roundStartTime-c.now;if(e>0){var i=r.inst.tables.BattleConfigTb.get(this._battleData.battleId);this._countDown._roundTime.text=u.formatTimeStr(e),this._countDown._timeProgress.max=i.roundTimes[this._battleData.round-1],this._countDown._timeProgress.value=e,this.view.getTransition("t0")[e<5?"play":"stop"](),e<2&&this.updateBetState(!1),e<3&&this.emitEvent(v.RunNextGuide)}else this.view.getTransition("t0").stop(),this._countDown._roundTime.text=u.formatTimeStr(0),this._isCanGetBattleRoundResult&&(this._isCanGetBattleRoundResult=!1,this.updateBetState(!1),o.battleRoundResult(c.lastDeskId).then(this.callFunc((function(e){if(0==e.code){if(t._scoreSyncCounter=0,2==e.data.state)return void(t._isCanGetBattleRoundResult=!0);if(t._battleData=e.data,1==e.data.state)return t.updateRoundInfo(),void t.battleSettlement();if(t._leftPlayerNum.text=""+t._battleData.leftPlayerNum,t._nextScoreSyncTimeCount=t.getNextScoreSyncTimeCount(),t.addSelfPet(t._battleData.syncScore.grid,t._battleData.petId),t.updateScoreDisplay(t._battleData.syncScore),!t._battleData.result||t._battleData.result.length<t._battleData.round||t._battleData.round==t._curRound)t.updateRoundInfo(),t.updateBetState(!0);else{t.stopAllPetAction(),t._curRound=t._battleData.round;var i=t.calculateRoundEndTime()-c.now;i>0?(t._scoreSyncCounter=-i,t._nextScoreSyncTimeCount=t.getNextScoreSyncTimeCount(),t.playBattleAni(t.callFunc((function(){t.battleRoundResult()})),1)):t.battleRoundResult()}}}))));0==this._battleData.state&&(this._scoreSyncCounter++,this._scoreSyncCounter>=this._nextScoreSyncTimeCount&&(this._scoreSyncCounter=0,this._nextScoreSyncTimeCount=this.getNextScoreSyncTimeCount(),this.syncScore()))},a.getNextScoreSyncTimeCount=function(){return 2+Math.floor(2*Math.random())},a.battleRoundResult=function(){var t=this;o.battleRoundResult(c.lastDeskId).then(this.callFunc((function(e){if(0==e.code){if(t._scoreSyncCounter=0,2==e.data.state)return void(t._isCanGetBattleRoundResult=!0);t._battleData=e.data,t.updateRoundInfo(),1==e.data.state||3==e.data.state?t.battleSettlement():(c.guide.temp=!0,t.updateBetState(!0),t.playRoundStartEffect())}})))},a.battleSettlement=function(){this.updateBetState(!1),d.inst.isFormShow("battleOther/UIBattleExit")&&d.inst.closeForm("battleOther/UIBattleExit"),o.battleSettlement(c.lastDeskId),this._isCanGetBattleRoundResult=!1,this.stopAllAction(),this._roundStartTime=0,this._countDown._roundTime.text=u.formatTimeStr(0)},a.playBattleAni=function(t,e){for(var i=this,a=this._battleData.result,n=[],s=1;s<=8;s++)a.includes(s)||n.push(s);var o=.15*e;(n=u.shuffleArray(n)).forEach((function(t,e){return i.playEffect(i["_img"+t],5+2*e,o)}));var l=a[a.length-1];this["_img"+l].view.visible=!0;var c=2*n.length+5+5;this.playEffect(this["_img"+l],c,o),this.playOneShotSound("ui://battleMain/huangdong");var _=c*o;h.delayedCall(_-.7).onComplete(this.callFunc((function(){i.playOneShotSound("ui://battleMain/kill")})),this),h.delayedCall(_).onComplete(this.callFunc((function(){var e=i["_img"+l];e._ani.visible=!0,e.view.getChild("icon").visible=!1,i.removeAllPet(l),e._ani.setPlaySettings(0,-1,1,0,i.callFunc((function(){e._ani.visible=!1,e.view.visible=!1;var a=r.inst.tables.BattleConfigTb.get(i._battleData.battleId),n=l!==i._battleData.syncScore.grid?1:0;d.inst.showForm("battleMain/UIBattleResult",[a.roundInterval-_,n,t])}))),e._ani.playing=!0})),this)},a.syncScore=function(){var t=this;o.battleSyncScore(c.lastDeskId).then(this.callFunc((function(e){0==e.code&&t.updateScoreDisplay(e.data)})))},a.selectGrid=function(t){this._selectGrid!=t&&0==this._battleData.state&&(this._selectGrid=t,this.sendBet(t))},a.onClick_Wnd=function(t,e){"btnExit"==e&&d.inst.showForm("battleOther/UIBattleExit",[this._battleData.syncScore.playerBonus])},a.sendBet=function(t){var e=this;o.battleBet(c.lastDeskId,t).then(this.callFunc((function(t){0==t.code?(e._scoreSyncCounter=0,e.addSelfPet(t.data.grid,e._battleData.petId),e.updateScoreDisplay(t.data)):e._battleData.syncScore&&e.updateSelectGrid(e._battleData.syncScore.grid)})))},i}(l)).pkgs=["basics","item","battleMain","petBody"],b=p))||b);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIBattleResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./IUIBattleResult.ts","./fairygui.min.mjs"],(function(e){var n,t,i,l,o,c,a;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator},function(e){l=e.ZOrderLvEnum,o=e.UIType},function(e){c=e.default},function(e){a=e.GTween}],execute:function(){var r,s;t._RF.push({},"81fc1bxW9hEOa7rqxJId+8w","UIBattleResult",void 0);var u=i.ccclass;i.property,e("UIBattleResult",u(((s=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return(n=e.call.apply(e,[this].concat(i))||this).zOrderLv=l.ZOrderLv7,n.uiType=o.Full,n.modal=!0,n._endCb=null,n._tweener=null,n}n(t,e);var i=t.prototype;return i.onInit=function(){},i.onShown=function(){var e=this,n=(arguments.length<=0?void 0:arguments[0])<0?1:arguments.length<=0?void 0:arguments[0];this._endCb=arguments.length<=2?void 0:arguments[2],1==(arguments.length<=1?void 0:arguments[1])?(this.view.getController("c1").selectedIndex=1,this.view.getTransition("t0").play(this.callFunc((function(){e._tweener=a.delayedCall(n).onComplete(e.callFunc((function(){e._endCb&&e._endCb(),e.closeForm()})))})),1),this.playOneShotSound("ui://battleMain/gamesucess")):(this.view.getController("c1").selectedIndex=0,this.view.getTransition("t1").play(this.callFunc((function(){e._tweener=a.delayedCall(n).onComplete(e.callFunc((function(){e._endCb&&e._endCb(),e.closeForm()})))})),1),this.playOneShotSound("ui://battleMain/gamefail"))},i.onUpdateInfo=function(){},i.onHide=function(){this._tweener&&(this._tweener.kill(),this._tweener=null)},i.onDispose=function(){},i.onUpdate=function(e){},i.onClick_Wnd=function(e,n){},t}(c)).pkgs=["basics","battleMain"],r=s))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/UIBattleSelectPet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./UserApi.ts","./IUIBattleSelectPet.ts","./UserData.ts","./EventDefine.ts"],(function(t){var e,n,i,s,o,c,r,l,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){s=t.ZOrderLvEnum,o=t.UIType},function(t){c=t.default},function(t){r=t.default},function(t){l=t.default},function(t){a=t.EventDefine}],execute:function(){var u,d;n._RF.push({},"94487vYU+hHm4hkUZ7eYuGd","UIBattleSelectPet",void 0);var h=i.ccclass;i.property,t("UIBattleSelectPet",h(((d=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))||this).zOrderLv=s.ZOrderLv7,e.uiType=o.NormalUI,e.modal=!0,e.clickVoidClose=!0,e._selectedPetId=0,e}e(n,t);var i=n.prototype;return i.onInit=function(){this._list.itemRenderer=this.renderListItem.bind(this),this._list.setVirtual()},i.renderListItem=function(t,e){this.getFguiComponent(e,"UIBattleSelectPetChild").showForm(this,e.parent.data[t])},i.onShown=function(){var t=l.pets.slice();t.sort((function(t,e){return t.quality>e.quality?1:-1})),this._list.data=t,this._list.numItems=t.length,this._selectedPetId=0,this._list.clearSelection()},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){},i.onClick_Wnd=function(t,e){var n=this;"btnConfirm"==e&&this._selectedPetId>0&&c.battleMatch(this.args[0],this._selectedPetId).then(this.callFunc((function(t){0==t.code&&(n.emitEvent(a.RefreshBattleEntry,t.data.matchState),n.closeForm())})))},n}(r)).pkgs=["basics","quality","battleOther","petHead"],u=d))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIBattleSelectPetChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.min.mjs","./ConfigManager.ts","./IUIBattleSelectPetChild.ts"],(function(t){var e,n,i,o,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.UIPackage},function(t){a=t.default},function(t){c=t.default}],execute:function(){var l;n._RF.push({},"9f265nDIgBLJrfhMeaG1OtX","UIBattleSelectPetChild",void 0);var r=i.ccclass;i.property,t("UIBattleSelectPetChild",r(l=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._parent=null,e}e(n,t);var i=n.prototype;return i.onInit=function(){this.listenerClick(this.view,this.onClick_Wnd)},i.onShown=function(t,e){this._parent=t;var n=a.inst.tables.PetTb.get(e.id),i=n.head;this._img.icon=o.getItemURL("petHead",i),this._nameTxt.text=n.name;var c=a.inst.tables.QualityTb.get(n.quality);this._quality.icon=o.getItemURL("quality",c.icon)},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){},i.onClick_Wnd=function(t,e){this._parent._selectedPetId=this.args[1].id},n}(c))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIBoxEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./IUIBoxEffect.ts"],(function(n){var t,o,e,c,i,r;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n._decorator},function(n){c=n.ZOrderLvEnum,i=n.UIType},function(n){r=n.default}],execute:function(){var s,u;o._RF.push({},"013adXODpBP+JLRGTpkWib6","UIBoxEffect",void 0);var f=e.ccclass;e.property,n("UIBoxEffect",f(((u=function(n){function o(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(t=n.call.apply(n,[this].concat(e))||this).zOrderLv=c.ZOrderLv7,t.uiType=i.Full,t.modal=!0,t}t(o,n);var e=o.prototype;return e.onInit=function(){},e.onShown=function(){var n=this,t=(arguments.length<=0?void 0:arguments[0])-1,o=arguments.length<=1?void 0:arguments[1];this.view.getController("c1").selectedIndex=t,this["_box"+t].setPlaySettings(0,-1,1,-1,this.callFunc((function(){n.closeForm(),o&&o()}))),this["_box"+t].playing=!0},e.onUpdateInfo=function(){},e.onHide=function(){},e.onDispose=function(){},e.onUpdate=function(n){},e.onClick_Wnd=function(n,t){},o}(r)).pkgs=["basics","box"],s=u))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIButtom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./FormMgr.ts","./IUIButtom.ts","./UserApi.ts","./UserData.ts","./EventDefine.ts","./ErrorDefine.ts","./ConfigManager.ts","./EventMgr.ts","./ShareDefine.ts"],(function(t){var e,n,i,o,a,s,r,l,h,c,d,u,g,f;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.ZOrderLvEnum,a=t.UIType},function(t){s=t.default},function(t){r=t.default},function(t){l=t.default},function(t){h=t.default},function(t){c=t.EventDefine},function(t){d=t.ErrorDefine},function(t){u=t.default},function(t){g=t.default},function(t){f=t.default}],execute:function(){var b,p;n._RF.push({},"b1800mCdVhPxJxfoCwr1v/v","UIButtom",void 0);var m=i.ccclass;i.property,t("UIButtom",m(((p=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).zOrderLv=o.ZOrderLv7,e.uiType=a.Full,e._lastFormPath=void 0,e}e(n,t);var i=n.prototype;return i.onInit=function(){this.regEvent(c.GoTo,this.goto),this.initRedPoint(this._btnEgg._redPoint,"btnEgg"),this.initRedPoint(this._btnShop._redPoint,"btnShop"),this.initRedPoint(this._btnTask._redPoint,"btnTask"),this.initRedPoint(this._btnEggOpen._redPoint,"btnEggOpen"),this.initRedPoint(this._btnBattle._redPoint,"btnBattle"),this.regEvent(c.RefreshUnlockState,this.refreshUnlockState)},i.onShown=function(){this.goto("btnEgg"),this.refreshUnlockState()},i.refreshUnlockState=function(){for(var t=u.inst.tables.UnlockTb.getDataList(),e=0;e<t.length;e++){var n=t[e];n.condition[0]>0&&f.IsShowGuide?(this["_"+n.nodePath]._unlock.visible=-1==h.guide.step.indexOf(n.condition[0]),this["_"+n.nodePath].view.enabled=-1!=h.guide.step.indexOf(n.condition[0])):(this["_"+n.nodePath]._unlock.visible=!1,this["_"+n.nodePath].view.enabled=!0)}},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){},i.onClick_Wnd=function(t,e){this.goto(e)},i.goto=function(t,e){var n=this;switch(t){case"btnTask":this.view.getController("c1").selectedIndex=1,this.openForm("task/UITask");break;case"btnEgg":this.view.getController("c1").selectedIndex=2,this.openForm("mainCity/UIMain");break;case"btnEggOpen":this.view.getController("c1").selectedIndex=3,this.openForm("smashEgg/UISmashEgg");break;case"btnBattle":this.view.getController("c1").selectedIndex=4,""!=h.lastDeskId?l.battleMatchState(h.lastDeskId).then((function(t){if(0==t.code)if(0!=t.data.startAt)n.battleRoundResult();else{var e=u.inst.tables.BattleConfigTb.get(t.data.battleId);t.data.playerNum==e.playerNum?n.battleRoundResult():n.openForm("battleEntry/UIBattleEntry",[t.data])}else t.code==d.BattleYouNotInRound&&n.battleRoundResult()})):this.openForm("battleEntry/UIBattleEntry");break;case"btnShop":this.view.getController("c1").selectedIndex=0,this.openForm("shop/UIShop",e);break;case"btnRanking":this.openForm("ranking/UIRanking")}"btnEggOpen"!=t&&(h.newPet.length=0,g.emitEvent(c.RefreshNewPetRedPoint),h.newEgg.length=0,g.emitEvent(c.RefreshNewEggRedPoint,h.tempNewEgg))},i.battleRoundResult=function(){var t=this;l.battleRoundResult(h.lastDeskId).then(this.callFunc((function(e){0==e.code&&(1==e.data.state||3==e.data.state?(l.battleSettlement(h.lastDeskId),t.openForm("battleEntry/UIBattleEntry")):s.inst.showForm("battleMain/UIBattleMain",[e.data]))})))},i.openForm=function(t,e){this._lastFormPath&&s.inst.isFormShow(this._lastFormPath)&&s.inst.closeForm(this._lastFormPath),"battleEntry/UIBattleEntry"!=t&&s.inst.isFormShow("battleMain/UIBattleMain")&&s.inst.closeForm("battleMain/UIBattleMain"),"battleMain/UIBattleMain"!=t&&this.playBackGroundMusic("ui://mainCity/all_bgm",1,!0),this._lastFormPath=t,s.inst.showForm(t,e)},n}(r)).pkgs=["basics","mainCity"],b=p))||b);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIDailyShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserData.ts","./ConfigManager.ts","./UserApi.ts","./SysMsgMgr.ts","./ErrorDefine.ts","./IUIDailyShop.ts","./EventDefine.ts","./Utils.ts","./schema.ts"],(function(t){var e,n,s,i,o,h,r,f,u,a,l,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,s=t._decorator},function(t){i=t.default},function(t){o=t.default},function(t){h=t.default},function(t){r=t.default},function(t){f=t.ErrorDefine},function(t){u=t.default},function(t){a=t.EventDefine},function(t){l=t.Utils},function(t){c=t.Shop}],execute:function(){var p;n._RF.push({},"d782bWwUjhLfYtw5KEqVMns","UIDailyShop",void 0);var d=s.ccclass;s.property,t("UIDailyShop",d(p=function(t){function n(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this)._timeCount=0,e}e(n,t);var s=n.prototype;return s.onInit=function(){this._list.itemRenderer=this.renderListItem.bind(this),this._list.setVirtual(),r.inst.setWaitForConfirm(f.ShopRefresh,this.shopRefresh.bind(this),null)},s.renderListItem=function(t,e){var n=this.getFguiComponent(e,"UIShopChild"),s=e.parent.data[t];n.showForm(this,c.Type.Daily,t,o.inst.tables.DailyShopTb.get(s),s)},s.shopRefresh=function(t,e,n){var s=this,u=o.inst.GlobalTb.shopRefresh[i.shop.refreshTimes];u.id>0&&i.getItemNum(u.id)<u.num?(r.inst.setWaitForConfirm(f.DiamondNotEnough,(function(t,e,n){s.emitEvent(a.ShopScroll,c.Type.Diamond)}),null),r.inst.showSysMsg(f.DiamondNotEnough)):h.shopRefresh().then((function(t){0==t.code&&(s.refreshShopList(),s.emitEvent(a.RefreshDiamond))}))},s.refreshShopList=function(){for(var t=[],e=[],n=0;n<i.shop.list.length;n++){var s=i.shop.list[n];0==o.inst.tables.DailyShopTb.get(s).price.id?t.push(s):e.push(s)}this._list.data=t.concat(e),this._list.numItems=this._list.data.length;var h=o.inst.GlobalTb.shopRefresh.length;this._btnRefresh.title="Refresh("+(h-i.shop.refreshTimes)+"/"+h+")",this._btnRefresh.enabled=h-i.shop.refreshTimes>0,this.refreshCoutDown()},s.onShown=function(){},s.onUpdateInfo=function(){},s.onHide=function(){},s.onDispose=function(){},s.onUpdate=function(t){this._timeCount+=t,this._timeCount>=1&&(this._timeCount=0,this.refreshCoutDown())},s.refreshCoutDown=function(){this._desc.setVar("coutDown",l.distanceToMidnight(1e3*i.now)),this._desc.flushVars()},s.onClick_Wnd=function(t,e){"btnRefresh"==e&&r.inst.showSysMsg(f.ShopRefresh,[o.inst.GlobalTb.shopRefresh[i.shop.refreshTimes].num])},n}(u))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIDeluxeRewardBuy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./IUIDeluxeRewardBuy.ts","./UserData.ts","./schema.ts","./ConfigManager.ts","./FormMgr.ts","./ShopMgr.ts"],(function(t){var e,n,o,s,u,r,a,i,c,l,f;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){s=t.ZOrderLvEnum,u=t.UIType},function(t){r=t.default},function(t){a=t.default},function(t){i=t.Shop},function(t){c=t.default},function(t){l=t.default},function(t){f=t.default}],execute:function(){var p,d;n._RF.push({},"6a971oqhAJBHoryk3Nxack4","UIDeluxeRewardBuy",void 0);var y=o.ccclass;o.property,t("UIDeluxeRewardBuy",y(((d=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).zOrderLv=s.ZOrderLv7,e.uiType=u.NormalUI,e.clickVoidClose=!0,e.modal=!0,e}e(n,t);var o=n.prototype;return o.onInit=function(){},o.onShown=function(){var t=a.getPassPortIssue(),e=c.inst.tables.PassPortIssueTb.get(t),n=c.inst.tables.SpecialShopTb.get(e.deluxeRewardBuy);this._btnBuy.title="$ "+n.price.num/100},o.onUpdateInfo=function(){},o.onHide=function(){},o.onDispose=function(){},o.onUpdate=function(t){},o.onClick_Wnd=function(t,e){if("btnBuy"==e){var n=a.getPassPortIssue(),o=c.inst.tables.PassPortIssueTb.get(n),s=c.inst.tables.SpecialShopTb.get(o.deluxeRewardBuy);l.inst.showForm("shop/UIShopBuy",[i.Type.Special,s,f.inst.buy.bind(this)])}},n}(r)).pkgs=["basics","passPort"],p=d))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIDiamondShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigManager.ts","./IUIDiamondShop.ts","./schema.ts"],(function(t){var n,i,o,e,s,a;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){e=t.default},function(t){s=t.default},function(t){a=t.Shop}],execute:function(){var r;i._RF.push({},"fbdbdvf+9pKUbgna+5GFvlh","UIDiamondShop",void 0);var u=o.ccclass;o.property,t("UIDiamondShop",u(r=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var o=i.prototype;return o.onInit=function(){this._list.itemRenderer=this.renderListItem.bind(this),this._list.setVirtual()},o.renderListItem=function(t,n){var i=this.getFguiComponent(n,"UIShopChild"),o=n.parent.data[t];i.showForm(this,a.Type.Diamond,t,o,o.id)},o.refreshShopList=function(){this._list.data=e.inst.tables.DiamondShopTb.getDataList(),this._list.numItems=this._list.data.length},o.onShown=function(){},o.onUpdateInfo=function(){},o.onHide=function(){},o.onDispose=function(){},o.onUpdate=function(t){},o.onClick_Wnd=function(t,n){},i}(s))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIEggComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.min.mjs","./ConfigManager.ts","./IUIEggComp.ts","./RedPoint.ts","./UserData.ts","./EventMgr.ts","./EventDefine.ts"],(function(t){var e,i,n,s,o,r,a,g,c,p;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){s=t.UIPackage},function(t){o=t.default},function(t){r=t.default},function(t){a=t.RedPoint},function(t){g=t.default},function(t){c=t.default},function(t){p=t.EventDefine}],execute:function(){var l;i._RF.push({},"f47d39KJ9FJ/pCG7lZNrx+A","UIEggComp",void 0);var h=n.ccclass;n.property,t("UIEggComp",h(l=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this)._parent=null,e._type=0,e._eggId=0,e}e(i,t);var n=i.prototype;return n.onInit=function(){this.listenerClick(this.view,this.onClick_Wnd)},n.onShown=function(t,e,i,n){this._parent=t;var r=o.inst.tables.EggTb.get(n.part1).partIcon;this._part1.icon=s.getItemURL("eggPart",r);var g=o.inst.tables.EggTb.get(n.part2).partIcon;this._part2.icon=s.getItemURL("eggPart",g);var c=o.inst.tables.EggTb.get(n.part3).partIcon;this._part3.icon=s.getItemURL("eggPart",c);var p=0!=e&&3!=e;this._score.visible=p,p?(this._score.text=""+n.getScore().toFixed(1),this.view.getChild("n11").visible=!0):(this.view.getChild("n10").visible=!1,this.view.getChild("n11").visible=!1),2!=e&&this.view.clearClick();var l=.15;this._part1.setScale(l,l),this._part2.setScale(l,l),this._part3.setScale(l,l),this._type=e,2==e&&(this._eggId=n.id,this.initRedPoint(this.view.getChild("redPoint",a),"newEgg",[n.id]))},n.onUpdateInfo=function(){},n.onHide=function(){},n.onDispose=function(){},n.onUpdate=function(t){},n.onClick_Wnd=function(t,e){if(2==this._type){this._parent._eggOpen.showForm(this._parent,this.args[3]),this._parent._eggOpen.view.visible=!0,this._parent._petInfo.view.visible=!1,this._parent._petList.clearSelection();var i=g.newEgg.indexOf(this._eggId);-1!=i&&(g.newEgg.splice(i,1),c.emitEvent(p.RefreshNewEggRedPoint,g.tempNewEgg))}},i}(r))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIEggOpenComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.min.mjs","./ConfigManager.ts","./IUIEggOpenComp.ts","./UserApi.ts","./EventDefine.ts","./EventMgr.ts","./FormMgr.ts","./SysMsgMgr.ts","./ErrorDefine.ts","./UserData.ts","./AlertDefine.ts","./schema.ts","./ItemDefine.ts","./GuideMgr.ts"],(function(t){var e,i,n,o,a,s,l,r,c,g,u,h,f,p,d,m,v,C;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){o=t.UIPackage,a=t.GTween},function(t){s=t.default},function(t){l=t.default},function(t){r=t.default},function(t){c=t.EventDefine},function(t){g=t.default},function(t){u=t.default},function(t){h=t.default},function(t){f=t.ErrorDefine},function(t){p=t.default},function(t){d=t.ConfirmType},function(t){m=t.Shop},function(t){v=t.ItemDefine},function(t){C=t.default}],execute:function(){var y;i._RF.push({},"de0ffb6N9ZC/YOK2QABcysZ","UIEggOpenComp",void 0);var _=n.ccclass;n.property,t("UIEggOpenComp",_(y=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._parent=null,e._canClick=!1,e}e(i,t);var n=i.prototype;return n.onInit=function(){this.listenerClick(this.view,this.onClick_Wnd)},n.onShown=function(t,e){this._parent=t,this._chuizi.visible=!0,this._egg.visible=!0;var i=s.inst.tables.EggTb.get(e.part1).partIcon;this._egg.getChild("part1").icon=o.getItemURL("eggPart",i);var n=s.inst.tables.EggTb.get(e.part2).partIcon;this._egg.getChild("part2").icon=o.getItemURL("eggPart",n);var a=s.inst.tables.EggTb.get(e.part3).partIcon;this._egg.getChild("part3").icon=o.getItemURL("eggPart",a),this._egg.getChild("n11").visible=!1,this._egg.getChild("n10").visible=!1,this._egg.getChild("score").visible=!1;var l=.5;this._egg.getChild("part1").setScale(l,l),this._egg.getChild("part2").setScale(l,l),this._egg.getChild("part3").setScale(l,l),this._chuizi.rotation=0,this._chuizi.setPosition(211,-17),this._canClick=!0,this.view.getTransition("t1").play(this.callFunc((function(){})),-1)},n.onUpdateInfo=function(){},n.onHide=function(){},n.onDispose=function(){},n.onUpdate=function(t){},n.onClick_Wnd=function(t,e){var i=this;this._canClick&&(this._canClick=!1,r.eggOpen(this.args[1].id,C.inst.getGuideId()).then(this.callFunc((function(t){g.emitEvent(c.ModalLayer,"Block");var e=setTimeout((function(){g.emitEvent(c.ModalLayer,"Close")}),4e3),n=null;t.data&&t.data.item?(n=t.data.item,i.playOneShotSound("ui://smashEgg/zadan")):i.playOneShotSound("ui://smashEgg/zakong"),i._parent._eggList.clearSelection(),i.view.getTransition("t0").play(i.callFunc((function(){n?(i._chuizi.visible=!1,a.delayedCall(.3).onComplete(i.callFunc((function(){i._egg.visible=!1})),i),i.playBoomAni(i.callFunc((function(){a.delayedCall(1).onComplete(i.callFunc((function(){clearTimeout(e),g.emitEvent(c.ModalLayer,"Close")})),i),i.view.visible=!1;var t=n.id,o=i._parent._petInfo;o.updatePetInfo(t),o.playAni((function(){s.inst.tables.PetTb.get(t).score>=s.inst.GlobalTb.sharePetScore&&-1!=p.guide.step.indexOf(208)&&u.inst.showForm("share/UIShareEgg",[2,t])}))})))):(i.view.visible=!1,i._parent.playSmokeAni(i.callFunc((function(){a.delayedCall(1).onComplete(i.callFunc((function(){clearTimeout(e),g.emitEvent(c.ModalLayer,"Close")}))),i.showEggRecoveryCard(i.args[1].id)}))))})),1)}))))},n.playBoomAni=function(t){var e=this;this._boom.visible=!0,this._boom.timeScale=3.5,this._boom.setPlaySettings(0,-1,1,0,this.callFunc((function(){e._boom.visible=!1,t()}))),this._boom.playing=!0},n.showEggRecoveryCard=function(t){var e=this,i=p.getItemNum(v.RetrieveCard);if(i>0)h.inst.setWaitForConfirm(f.EggRecoveryCard,(function(e,i,n){e==d.Right&&r.itemUse(v.RetrieveCard,""+t)}),null),h.inst.showSysMsg(f.EggRecoveryCard,[i]);else{var n=s.inst.GlobalTb.buyShopRetrieveCard,o=n[0],a=n[1],l=null;l=o==m.Type.Daily?s.inst.tables.DailyShopTb.get(a):s.inst.tables.OrdinaryShopTb.get(a),h.inst.setWaitForConfirm(f.EggRecoveryCardNotEnough,(function(i,n,s){i==d.Right&&(p.getItemNum(l.price.id)>=l.price.num?r.shopBuy(o,a).then((function(e){0==e.code&&r.itemUse(v.RetrieveCard,""+t)})):(h.inst.setWaitForConfirm(f.DiamondNotEnough,(function(t,i,n){e.emitEvent(c.GoTo,"btnShop",[m.Type.Diamond])}),null),h.inst.showSysMsg(f.DiamondNotEnough)))}),null),h.inst.showSysMsg(f.EggRecoveryCardNotEnough,[l.price.num])}},i}(l))||y);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIGridComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShareDefine.ts","./IUIGridComp.ts"],(function(t){var n,o,i,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator},function(t){e=t.default},function(t){r=t.default}],execute:function(){var c;o._RF.push({},"16538SzwKBHi5+Do0mEV7kI","UIGridComp",void 0);var u=i.ccclass;i.property,t("UIGridComp",u(c=function(t){function o(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this)._parent=null,n}n(o,t);var i=o.prototype;return i.onInit=function(){},i.onShown=function(t){this._parent=t;var n=1;n=e.RootSize.width/750>e.RootSize.height/1334?e.RootSize.height/1334:e.RootSize.width/750,this.view.setScale(n,n)},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){},i.onClick_Wnd=function(t,n){if(n.startsWith("img")){var o=Number(n[n.length-1]);this._parent&&this._parent.selectGrid(o)}},o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIGuide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./fairygui.min.mjs","./IUIGuide.ts","./GuideMgr.ts","./FormMgr.ts","./ShareDefine.ts","./EventDefine.ts"],(function(i){var t,e,n,s,o,h,u,d,a,f,c;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator},function(i){s=i.ZOrderLvEnum,o=i.UIType},function(i){h=i.GList},function(i){u=i.default},function(i){d=i.default},function(i){a=i.default},function(i){f=i.default},function(i){c=i.EventDefine}],execute:function(){var r,g;e._RF.push({},"d9069NAWAlJjYw9W0NjfGxO","UIGuide",void 0);var l=n.ccclass;n.property,i("UIGuide",l(((g=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),h=0;h<e;h++)n[h]=arguments[h];return(t=i.call.apply(i,[this].concat(n))||this).zOrderLv=s.ZOrderLv8,t.uiType=o.Full,t._guideConfig=null,t._timeCount=0,t._isWaitNode=!1,t._clickNode=void 0,t._param=null,t}t(e,i);var n=e.prototype;return n.onInit=function(){this.listenerClick(this._touch,this.onClick_Wnd),this.view.opaque=!0,this.regEvent(c.RunNextGuide,this.runNextGuide)},n.onShown=function(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];this.updateShow(t)},n.onUpdateInfo=function(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];this.updateShow(t)},n.updateShow=function(i){this._guideConfig=i[0],this._guideConfig.desc?(this._dialog.view.visible=!0,this._dialog._desc.text=this._guideConfig.desc):this._dialog.view.visible=!1,i[1][0]>=1?this._isWaitNode=!0:this._isWaitNode=!1,this._param=i[1],this._dialog.view.setPosition(20+(this._guideConfig.dialogOffset[0]||0),(955+(this._guideConfig.dialogOffset[1]||0))/1334*f.RootSize.height)},n.onHide=function(){this.nextGuide()},n.onDispose=function(){},n.onUpdate=function(i){this._timeCount=this._timeCount+i,this._timeCount>.1&&(this._timeCount=0,this.waitNode())},n.getRect=function(i){var t=i.localToGlobalRect(0,0,i.width,i.height);return t=this.view.globalToLocalRect(t.x,t.y,t.width,t.height),i.pivotAsAnchor&&(t.x=t.x-i.width*i.pivotX,t.y=t.y-i.height*i.pivotY),t},n.waitNode=function(){if(this._isWaitNode&&!this._clickNode){var i=this._guideConfig.param.split("/"),t=null,e=a.inst.getFormComponent(i[0]);if(e){for(var n=1;n<i.length;n++)t=1==n?e.view.getChild(i[n]):t instanceof h?t.getChildAt(Number(i[n])):t.getChild(i[n]);t&&(this._clickNode=t,this.clickNode(t))}}},n.clickNode=function(i){var t=this.getRect(i);this._finger.view.visible=2==this._param[0],this._finger.view.setPosition(t.x+t.width/2+(this._guideConfig.fingerOffset[0]||0),t.y+t.height/2+(this._guideConfig.fingerOffset[1]||0)),this._bg.visible=!1,this._mask.view.visible=!0,this._mask._mask.height=this._guideConfig.maskSize[0]||100,this._mask._mask.width=this._guideConfig.maskSize[1]||100,this._mask._mask.setPosition(t.x+t.width/2+(this._guideConfig.maskOffset[0]||0),t.y+t.height/2+(this._guideConfig.maskOffset[1]||0))},n.onClick_Wnd=function(i,t){"touch"==t&&this.runNextGuide()},n.runNextGuide=function(){if(this._clickNode&&2==this._param[0]){var i=this._clickNode;i.grayed||this.simulateClick(i)}this.nextGuide()},n.nextGuide=function(){d.inst.nextGuide(this._guideConfig.id),this._finger.view.visible=!1,this._mask.view.visible=!1,this._bg.visible=!0,this._isWaitNode=!1,this._clickNode=null},e}(u)).pkgs=["basics","guide"],r=g))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIHelp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./IUIHelp.ts","./ConfigManager.ts"],(function(t){var e,n,o,i,c,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){i=t.ZOrderLvEnum,c=t.UIType},function(t){r=t.default},function(t){s=t.default}],execute:function(){var l,u;n._RF.push({},"b3f0cj3qgNJxZ1f4WvQgsWL","UIHelp",void 0);var a=o.ccclass;o.property,t("UIHelp",a(((u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).zOrderLv=i.ZOrderLv7,e.uiType=c.NormalUI,e.modal=!0,e.clickVoidClose=!0,e}e(n,t);var o=n.prototype;return o.onInit=function(){},o.onShown=function(){this._list.scrollToView(0);var t=this._list.getChildAt(0);t.getChild("desc").text=s.inst.tables.HelpTb.get(arguments.length<=0?void 0:arguments[0]).desc,t.height=t.getChild("desc").height},o.onUpdateInfo=function(){},o.onHide=function(){},o.onDispose=function(){},o.onUpdate=function(t){},o.onClick_Wnd=function(t,e){"btnClose"==e&&this.closeForm()},n}(r)).pkgs=["basics","battleOther"],l=u))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./IUIItemTips.ts"],(function(t){var n,e,o,i,c,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){i=t.ZOrderLvEnum,c=t.UIType},function(t){r=t.default}],execute:function(){var s,u;e._RF.push({},"22cc3mOmGtI45B/qWd+yYgL","UIItemTips",void 0);var p=o.ccclass;o.property,t("UIItemTips",p(((u=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).zOrderLv=i.ZOrderLv7,n.uiType=c.Popup,n}n(e,t);var o=e.prototype;return o.onInit=function(){},o.onShown=function(){this._desc.text=""+(arguments.length<=0?void 0:arguments[0])},o.onUpdateInfo=function(){this._desc.text=""+(arguments.length<=0?void 0:arguments[0])},o.onHide=function(){},o.onDispose=function(){},o.onUpdate=function(t){},o.onClick_Wnd=function(t,n){},e}(r)).pkgs=["item","basics"],s=u))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./UserData.ts","./ConfigManager.ts","./Utils.ts","./UserApi.ts","./EventDefine.ts","./FormMgr.ts","./IUIMain.ts"],(function(t){var i,e,n,s,o,a,g,r,l,h,c,u;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){s=t.ZOrderLvEnum,o=t.UIType},function(t){a=t.default},function(t){g=t.default},function(t){r=t.Utils},function(t){l=t.default},function(t){h=t.EventDefine},function(t){c=t.default},function(t){u=t.default}],execute:function(){var f,m;e._RF.push({},"ad628CZCvxJg6PCXfOTe1wW","UIMain",void 0);var d=n.ccclass;n.property,t("UIMain",d(((m=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(i=t.call.apply(t,[this].concat(n))||this).zOrderLv=s.ZOrderLv6,i.uiType=o.Full,i._timeCount=0,i}i(e,t);var n=e.prototype;return n.onInit=function(){this._eggList.itemRenderer=this.renderEggListItem.bind(this),this._eggList.setVirtual(),this.regEvent(h.RefreshVit,this.refreshVit),this.regEvent(h.RefreshGold,this.refreshGlod),this.regEvent(h.RefreshEgg,this.refreshEgg),this.regEvent(h.RefreshClickProgress,this.refreshClickProgress),this.regEvent(h.EggDrop,this.playEggDrop),this.regEvent(h.PlayCaiDai,this.playCaiDai),this.regEvent(h.RefreshAutoEggCollect,this.refreshAutoEggCollect),this.listenerClick(this._touch,this.autoLayEgg)},n.renderEggListItem=function(t,i){this.getFguiComponent(i,"UIEggComp").showForm(this,1,t,i.parent.data[t])},n.onShown=function(){this.refreshVit(null),this.refreshEgg(),this.refreshLayEggTime(),this.refreshClickProgress(),this._caidai.visible=!1,this._totalGold.text=""+a.gold,this._chicken.updateVit(a.vit),this.refreshAutoEggCollect()},n.refreshAutoEggCollect=function(){a.autoEggCollectRTime>0?this._btnAutoEggCollect.view.getTransition("t0").play(null,-1):this._btnAutoEggCollect.view.getTransition("t0").stop()},n.refreshVit=function(t){null!=t||(t=a.vit),this._totalVit.text=""+t,this._autoAddVitMax.text="/"+g.inst.GlobalTb.vitMaxAuto,this._chicken.updateVit(t)},n.refreshGlod=function(){this._totalGold.text=""+a.gold},n.refreshEgg=function(){var t=a.eggs.slice();t.sort((function(t,i){return t.id<i.id?1:-1})),this._eggList.data=t,this._eggList.numItems=t.length;var i=t.length;this._eggNum.text=i<10?"000"+i:i<100?"00"+i:i<1e3?"0"+i:""+i},n.refreshLayEggTime=function(){var t=a.lastLayEggTime+g.inst.GlobalTb.layEggTime-a.now;this._layEggTimeComp._timeProgress.max=g.inst.GlobalTb.layEggTime,this._layEggTimeComp._timeProgress.value=a.now-a.lastLayEggTime,t<=0?(this._layEggTimeComp._leftTime.text=r.formatTimeStr(0),this._touch.visible=!0,this.view.getTransition("t0").play(this.callFunc((function(){})),-1)):(this._layEggTimeComp._leftTime.text=r.formatTimeStr(t),this._touch.visible=!1,this.view.getTransition("t0").stop())},n.autoLayEgg=function(){var t=this;a.lastLayEggTime+g.inst.GlobalTb.layEggTime-a.now<=0&&l.autoLayEgg().then(this.callFunc((function(i){0==i.code&&i.data.eggs&&t._chicken.playEggDropAni2(i.data.eggs[0])})))},n.playCaiDai=function(){var t=this;this._caidai.visible=!0,this._caidai.setPlaySettings(0,-1,1,0,this.callFunc((function(){t._caidai.playing=!1,t._caidai.visible=!1}))),this._caidai.playing=!0},n.onUpdateInfo=function(){},n.onHide=function(){},n.onDispose=function(){},n.onUpdate=function(t){(this._timeCount=this._timeCount+t,this._timeCount>=1)&&(this._timeCount=0,this.refreshLayEggTime(),a.lastAddVitTime+g.inst.GlobalTb.vitAddAuto-a.now<=0&&(a.lastAddVitTime=a.now,l.autoAddVit()))},n.onClick_Wnd=function(t,i){"btnSetting"==i?c.inst.showForm("setting/UISetting"):"btnAddVit"==i?this.emitEvent(h.GoTo,"btnShop"):"btnAutoEggCollect"==i?c.inst.showForm("autoEggCollect/UIAutoEggCollect"):"btnRanking"==i?this.emitEvent(h.GoTo,"btnRanking"):"btnBP"==i?c.inst.showForm("passPort/UIPassPort"):"btnCheckIn"==i&&c.inst.showForm("signIn/UISignIn")},n.refreshClickProgress=function(){this._clickCount.text=""+a.lastClickCount,this._clickLayEgg.text=""+g.inst.GlobalTb.clickLayEgg},n.playEggDrop=function(t){c.inst.showForm("mainCity/Effect01",[t])},e}(u)).pkgs=["basics","mainCity","eggPart","item"],f=m))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIOrdinaryShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigManager.ts","./IUIOrdinaryShop.ts","./schema.ts"],(function(t){var n,i,o,e,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){e=t.default},function(t){r=t.default},function(t){s=t.Shop}],execute:function(){var a;i._RF.push({},"9fcd9Y9aHtMdoPFdgUbW065","UIOrdinaryShop",void 0);var c=o.ccclass;o.property,t("UIOrdinaryShop",c(a=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var o=i.prototype;return o.onInit=function(){this._list.itemRenderer=this.renderListItem.bind(this),this._list.setVirtual()},o.renderListItem=function(t,n){var i=this.getFguiComponent(n,"UIShopChild"),o=n.parent.data[t];i.showForm(this,s.Type.Ordinary,t,o,o.id)},o.refreshShopList=function(){this._list.data=e.inst.tables.OrdinaryShopTb.getDataList(),this._list.numItems=this._list.data.length},o.onShown=function(){},o.onUpdateInfo=function(){},o.onHide=function(){},o.onDispose=function(){},o.onUpdate=function(t){},o.onClick_Wnd=function(t,n){},i}(r))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIPassPort.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./IUIPassPort.ts","./ConfigManager.ts","./UserData.ts","./Utils.ts","./EventDefine.ts","./FormMgr.ts","./fairygui.min.mjs"],(function(t){var s,e,i,n,r,o,a,l,h,u,f,c,m;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){n=t.ZOrderLvEnum,r=t.UIType},function(t){o=t.default},function(t){a=t.default},function(t){l=t.default},function(t){h=t.Utils},function(t){u=t.EventDefine},function(t){f=t.default},function(t){c=t.Event,m=t.UIPackage}],execute:function(){var v,P;e._RF.push({},"ea99e3EsJtCNpH3IkPi30yS","UIPassPort",void 0);var d=i.ccclass;i.property,t("UIPassPort",d(((P=function(t){function e(){for(var s,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(s=t.call.apply(t,[this].concat(i))||this).zOrderLv=n.ZOrderLv7,s.uiType=r.Full,s._timeCount=0,s}s(e,t);var i=e.prototype;return i.onInit=function(){this.listenerClick(this._touch,this.onClick_Wnd),this.regEvent(u.RefreshVit,this.refreshVit),this.regEvent(u.RefreshDiamond,this.refreshDiamond),this.regEvent(u.RefreshPassPort,this.refreshPassPortRewardList),this._main.view.on(c.SCROLL,this.onScroll,this)},i.onScroll=function(){f.inst.isFormShow("item/UIItemTips")&&f.inst.closeForm("item/UIItemTips")},i.onShown=function(){this.refreshPassPortRewardList(),this.refreshVit(null),this.refreshDiamond();var t=this.getLv(),s=t;t<this.getMaxLv()?(s=t+1,this._lv.text=""+s,this._star.visible=!0,this._lv.x=546):(this._star.visible=!1,this._lv.x=562,this._lv.text="Max"),this._main._list.updateLv(t);var e=a.inst.tables.PassPortRewardTb.get(t).exp;this._lvProgressbar.max=a.inst.tables.PassPortRewardTb.get(s).exp-e,this._lvProgressbar.value=l.battleCount-e,this._leftTime.text=h.formatDuration(l.getPassPortIssueLeftTime());var i=l.getPassPortIssue(),n=a.inst.tables.PassPortIssueTb.get(i);this._banner.icon=m.getItemURL("passPort",n.banner)},i.refreshPassPortRewardList=function(){this._main._list.refreshPassPortRewardList()},i.refreshVit=function(t){null!=t||(t=l.vit),this._totalVit.text=""+t,this._autoAddVitMax.text="/"+a.inst.GlobalTb.vitMaxAuto},i.refreshDiamond=function(){this._totalDiamond.text=""+l.diamond},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){this._timeCount+=t,this._timeCount>=1&&(this._timeCount=0,this._leftTime.text=h.formatDuration(l.getPassPortIssueLeftTime()))},i.onClick_Wnd=function(t,s){"btnClose"==s?this.closeForm():"btnAddVit"==s?(this.closeForm(),this.emitEvent(u.GoTo,"btnShop")):"btnHelp"==s&&f.inst.showForm("battleOther/UIHelp",[2]),f.inst.isFormShow("item/UIItemTips")&&f.inst.closeForm("item/UIItemTips")},i.getLv=function(){for(var t=0,s=a.inst.tables.PassPortRewardTb.getDataList(),e=0;e<s.length;e++)l.battleCount>=s[e].exp&&(t=s[e].lv);return t},i.getMaxLv=function(){for(var t=0,s=a.inst.tables.PassPortRewardTb.getDataList(),e=0;e<s.length;e++)t<s[e].lv&&(t=s[e].lv);return t},e}(o)).pkgs=["item","basics","passPort"],v=P))||v);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIPassPortChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IUIPassPortChild.ts","./UserApi.ts","./UserData.ts","./ConfigManager.ts","./FormMgr.ts","./fairygui.min.mjs"],(function(t){var r,e,s,i,o,n,a,d,u;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){i=t.default},function(t){o=t.default},function(t){n=t.default},function(t){a=t.default},function(t){d=t.default},function(t){u=t.PopupDirection}],execute:function(){var f;e._RF.push({},"d7f7538kDNHmLSxwtKWmrcZ","UIPassPortChild",void 0);var l=s.ccclass;s.property,t("UIPassPortChild",l(f=function(t){function e(){for(var r,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return(r=t.call.apply(t,[this].concat(s))||this)._passPortRewardConfig=null,r}r(e,t);var s=e.prototype;return s.onInit=function(){},s.onShown=function(t,r,e){this._passPortRewardConfig=e,this._lv.text=""+e.lv,this._ordinaryReward.showForm(e,!1),this._deluxeReward.showForm(e,!0)},s.onUpdateInfo=function(){},s.onHide=function(){},s.onDispose=function(){},s.onUpdate=function(t){},s.onClick_Wnd=function(t,r){if("ordinaryReward"==r){var e=n.passPortReward[this._passPortRewardConfig.id];if(n.battleCount>=this._passPortRewardConfig.exp&&1!=e&&3!=e)o.passPortRewardGet(this._passPortRewardConfig.id,0);else{var s=a.inst.tables.ItemTb.get(this._passPortRewardConfig.ordinaryReward.id);d.inst.showForm("item/UIItemTips",[s.name+" x"+this._passPortRewardConfig.ordinaryReward.num],null,{target:this._ordinaryReward.view,dir:u.Up})}}else if("deluxeReward"==r){var i=n.passPortReward[this._passPortRewardConfig.id];if(n.battleCount>=this._passPortRewardConfig.exp&&1==n.passPortDeluxeReward&&2!=i&&3!=i)o.passPortRewardGet(this._passPortRewardConfig.id,1);else{var f=a.inst.tables.ItemTb.get(this._passPortRewardConfig.deluxeReward.id);d.inst.showForm("item/UIItemTips",[f.name+" x"+this._passPortRewardConfig.deluxeReward.num],null,{target:this._deluxeReward.view,dir:u.Up})}}},e}(i))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIPassPortList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IUIPassPortList.ts","./UserData.ts","./FormMgr.ts"],(function(t){var s,n,i,e,o,r;return{setters:[function(t){s=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){e=t.default},function(t){o=t.default},function(t){r=t.default}],execute:function(){var a;n._RF.push({},"de4d9fE1UlKEbNRrO3+ZQKx","UIPassPortList",void 0);var u=i.ccclass;i.property,t("UIPassPortList",u(a=function(t){function n(){return t.apply(this,arguments)||this}s(n,t);var i=n.prototype;return i.onInit=function(){this._list.itemRenderer=this.renderListItem.bind(this);var t=o.getPassPortRewardList().length-4;this._list.height=724+140*t+55*(t-1),this._xian.height=625+140*t+55*(t-1)},i.renderListItem=function(t,s){this.getFguiComponent(s,"UIPassPortChild").showForm(this,t,s.parent.data[t])},i.refreshPassPortRewardList=function(){var t=o.getPassPortRewardList();this._list.data=t,this._list.numItems=t.length},i.onShown=function(){},i.updateLv=function(t){this._xian2.y=330+195*(t-1)},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){},i.onClick_Wnd=function(t,s){"btnUnlock"==s&&0==o.passPortDeluxeReward&&r.inst.showForm("passPort/UIDeluxeRewardBuy"),r.inst.isFormShow("item/UIItemTips")&&r.inst.closeForm("item/UIItemTips")},n}(e))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIPassPortReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IUIPassPortReward.ts","./fairygui.min.mjs","./ConfigManager.ts","./UserData.ts"],(function(t){var e,n,i,s,o,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){s=t.default},function(t){o=t.UIPackage},function(t){r=t.default},function(t){a=t.default}],execute:function(){var c;n._RF.push({},"2d672L6zatK7rkAXMAn3bCy","UIPassPortReward",void 0);var u=i.ccclass;i.property,t("UIPassPortReward",u(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.onInit=function(){},i.onShown=function(t,e){var n=a.passPortReward[t.id],i=t.ordinaryReward;e?(i=t.deluxeReward,this._unlock.visible=0==a.passPortDeluxeReward,this._c1.selectedIndex=2==n||3==n?1:0):(this._unlock.visible=!1,this._c1.selectedIndex=1==n||3==n?1:0);var s=r.inst.tables.ItemTb.get(i.id);this._img.icon=o.getItemURL("item",s.icon),this._numTxt.text="x"+i.num,a.battleCount>=t.exp?(this.view.grayed=!1,this._c3.selectedIndex=e?2==n||3==n?0:1:1==n||3==n?0:1):(this.view.grayed=!0,this._c3.selectedIndex=0),this._c2.selectedIndex=e?1:0},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){},i.onClick_Wnd=function(t,e){},n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIPetHeadComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.min.mjs","./ConfigManager.ts","./IUIPetHeadComp.ts","./UserData.ts","./EventMgr.ts","./EventDefine.ts"],(function(t){var e,n,i,o,s,c,a,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.UIPackage},function(t){s=t.default},function(t){c=t.default},function(t){a=t.default},function(t){r=t.default},function(t){u=t.EventDefine}],execute:function(){var d;n._RF.push({},"415eey1bMVCG69DcDUz4yS/","UIPetHeadComp",void 0);var f=i.ccclass;i.property,t("UIPetHeadComp",f(d=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._parent=null,e._petId=0,e}e(n,t);var i=n.prototype;return i.onInit=function(){this.listenerClick(this.view,this.onClick_Wnd)},i.onShown=function(t,e,n){this._parent=t;var i=s.inst.tables.PetTb.get(n.id).head;this._img.icon=o.getItemURL("petHead",i);var c=a.getPet(n.id);c?(this._c1.selectedIndex=0,this._num.visible=!0,this._num.text="x"+c.num):(this._c1.selectedIndex=1,this._num.visible=!1),this._petId=n.id,this.initRedPoint(this._redPoint,"newPet",[this._petId])},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){},i.onClick_Wnd=function(t,e){this._parent._eggOpen.view.visible=!1,this._parent._petInfo.showForm(this.args[2]),this._parent._petInfo.view.visible=!0,this._parent._eggList.clearSelection();var n=a.newPet.indexOf(this._petId);-1!=n&&(a.newPet.splice(n,1),r.emitEvent(u.RefreshNewPetRedPoint))},n}(c))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIPetInfoComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.min.mjs","./ConfigManager.ts","./IUIPetInfoComp.ts"],(function(t){var i,n,e,o,s,c;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){o=t.UIPackage},function(t){s=t.default},function(t){c=t.default}],execute:function(){var u;n._RF.push({},"abf76yO7DVGPpFePYzzEQVi","UIPetInfoComp",void 0);var a=e.ccclass;e.property,t("UIPetInfoComp",a(u=function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var e=n.prototype;return e.onInit=function(){},e.onShown=function(t){this._bg.visible=!1,this._bg2.visible=!1,this._petBody.x=-156,this.updatePetInfo(t.id)},e.playAni=function(t){this._bg.visible=!0,this._bg2.visible=!0,this.view.visible=!0,this.view.getTransition("t0").play(this.callFunc(t),1)},e.updatePetInfo=function(t){var i=s.inst.tables.PetTb.get(t);this._nameTxt.text=i.name;var n=s.inst.tables.QualityTb.get(i.quality);this._quality.icon=o.getItemURL("quality",n.icon),this._desc.text=i.desc,this._petBody.icon=o.getItemURL("petBody",i.body)},e.onUpdateInfo=function(){},e.onHide=function(){},e.onDispose=function(){},e.onUpdate=function(t){},e.onClick_Wnd=function(t,i){},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIRanking.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./IUIRanking.ts","./EventDefine.ts","./UserApi.ts","./UserData.ts","./ItemDefine.ts","./ConfigManager.ts"],(function(t){var n,e,i,o,a,s,r,c,u,l,f;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){o=t.ZOrderLvEnum,a=t.UIType},function(t){s=t.default},function(t){r=t.EventDefine},function(t){c=t.default},function(t){u=t.default},function(t){l=t.ItemDefine},function(t){f=t.default}],execute:function(){var d,h;e._RF.push({},"c8a13sxYodGIIm8UezdHsNh","UIRanking",void 0);var g=i.ccclass;i.property,t("UIRanking",g(((h=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).zOrderLv=o.ZOrderLv7,n.uiType=a.Full,n}n(e,t);var i=e.prototype;return i.onInit=function(){this._list.itemRenderer=this.renderListItem.bind(this),this._list.setVirtual()},i.renderListItem=function(t,n){this.getFguiComponent(n,"UIRankingChild").showForm(this,t,n.parent.data[t])},i.onShown=function(){var t=this;this._myRanking.view.visible=!1,u.now>u.lastSyncLeaderboardData+f.inst.GlobalTb.leaderboardExpiration?c.leaderboardData().then((function(n){0==n.code&&t.refreshRanking(n.data)})):this.refreshRanking(u.leaderboardData),this._totalGold.text=""+u.getItemNum(l.Gold)},i.refreshRanking=function(t){this._myRanking.view.visible=!0,this._list.data=t.list,this._list.numItems=this._list.data.length,this._myRanking.showForm(t.myRankData)},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){},i.onClick_Wnd=function(t,n){"btnClose"==n&&(this.closeForm(),this.emitEvent(r.GoTo,"btnEgg"))},e}(s)).pkgs=["item","shop","basics","ranking"],d=h))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIRankingChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IUIRankingChild.ts"],(function(n){var t,o,i,e;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,i=n._decorator},function(n){e=n.default}],execute:function(){var r;o._RF.push({},"5d26f/SMFBOR6f5g5qPPdlN","UIRankingChild",void 0);var c=i.ccclass;i.property,n("UIRankingChild",c(r=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var i=o.prototype;return i.onInit=function(){},i.onShown=function(n,t,o){this._ranking.showForm(o),o.rank>0&&o.rank<4?this.view.getController("c1").selectedIndex=o.rank-1:this.view.getController("c1").selectedIndex=3},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(n){},i.onClick_Wnd=function(n,t){},o}(e))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIRankingComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IUIRankingComp.ts"],(function(n){var t,e,o,i;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator},function(n){i=n.default}],execute:function(){var r;e._RF.push({},"50033gZa8RHcp4bEikOjh2h","UIRankingComp",void 0);var a=o.ccclass;o.property,n("UIRankingComp",a(r=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var o=e.prototype;return o.onInit=function(){},o.onShown=function(n){this._nameTxt.text=n.firstName+n.lastName||"No Name",this._goldTxt.text=""+n.goldNum,n.rank>0&&n.rank<4?this.view.getController("c1").selectedIndex=n.rank-1:(this.view.getController("c1").selectedIndex=3,0==n.rank?this._rankTxt.text="Not Ranked":this._rankTxt.text=""+n.rank)},o.onUpdateInfo=function(){},o.onHide=function(){},o.onDispose=function(){},o.onUpdate=function(n){},o.onClick_Wnd=function(n,t){},e}(i))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IUIReward.ts","./schema.ts","./ConfigManager.ts","./fairygui.min.mjs"],(function(t){var e,n,i,o,a,c,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.default},function(t){a=t.Reward},function(t){c=t.default},function(t){s=t.UIPackage}],execute:function(){var r;n._RF.push({},"91862h8tnRKx5pKBgN+D65L","UIReward",void 0);var u=i.ccclass;i.property,t("UIReward",u(r=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.onInit=function(){},i.onShown=function(t,e){var n=e.item;if(n){if(n.type==a.Type.Item){var i=c.inst.tables.ItemTb.get(n.id);this._img.icon=s.getItemURL("item",i.icon),this._nameTxt.text=i.name}else if(n.type==a.Type.Pet){var o=c.inst.tables.PetTb.get(n.id);this._img.icon=s.getItemURL("petHead",o.head),this._nameTxt.text=o.name}this._numTxt.text="x"+e.item.num}else e.egg},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){},i.onClick_Wnd=function(t,e){},n}(o))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIRewardTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./IUIRewardTips.ts"],(function(t){var i,n,e,s,r,o;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){s=t.ZOrderLvEnum,r=t.UIType},function(t){o=t.default}],execute:function(){var c,a;n._RF.push({},"f9641WjOHZFRIwgyClpx7JF","UIRewardTips",void 0);var u=e.ccclass;e.property,t("UIRewardTips",u(((a=function(t){function n(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).zOrderLv=s.ZOrderLv7,i.uiType=r.Full,i}i(n,t);var e=n.prototype;return e.onInit=function(){this._list.itemRenderer=this.renderListItem.bind(this),this._list.setVirtual(),this.listenerClick(this._touch,this.onClick_Wnd)},e.renderListItem=function(t,i){this.getFguiComponent(i,"UIReward").showForm(this,i.parent.data[t])},e.onShown=function(){this._list.data=arguments.length<=0?void 0:arguments[0],this._list.numItems=this._list.data.length,this._list.scrollToView(0)},e.onUpdateInfo=function(){},e.onHide=function(){},e.onDispose=function(){},e.onUpdate=function(t){},e.onClick_Wnd=function(t,i){this.closeForm()},n}(o)).pkgs=["basics","reward","share","item","petHead"],c=a))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIRoundStartEff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IUIRoundStartEff.ts"],(function(n){var t,o,i,c;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,i=n._decorator},function(n){c=n.default}],execute:function(){var u;o._RF.push({},"30f1cBHsL5E5YiL7y1UNRLG","UIRoundStartEff",void 0);var e=i.ccclass;i.property,n("UIRoundStartEff",e(u=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var i=o.prototype;return i.onInit=function(){},i.onShown=function(){},i.playAni=function(){this.view.getTransition("t0").play(this.callFunc((function(){})),1)},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(n){},i.onClick_Wnd=function(n,t){},o}(c))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/UISetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./fairygui.min.mjs","./IUISetting.ts","./UserData.ts","./ShareDefine.ts","./LocalStorageMgr.ts"],(function(t){var e,i,n,s,o,u,r,S,c,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){s=t.ZOrderLvEnum,o=t.UIType},function(t){u=t.GRoot},function(t){r=t.default},function(t){S=t.default},function(t){c=t.default},function(t){l=t.default}],execute:function(){var g,a;i._RF.push({},"191b8jb8tJBrZprSougZQbA","UISetting",void 0);var p=n.ccclass;n.property,t("UISetting",p(((a=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),u=0;u<i;u++)n[u]=arguments[u];return(e=t.call.apply(t,[this].concat(n))||this).zOrderLv=s.ZOrderLv7,e.uiType=o.Full,e._backVolume=0,e._spVolume=0,e}e(i,t);var n=i.prototype;return n.onInit=function(){},n.onShown=function(){this._uid.text="UID:"+S.userUid,this._version.text="version:"+c.ClientVersion,this._btnMusic.selected=!!l.inst.getConfigProperty("SysSetting","BackMusic"),this._btnSound.selected=!!l.inst.getConfigProperty("SysSetting","SpSound"),this._musicSlider.value=l.inst.getConfigProperty("SysSetting","BackVolume")||0,this._soundSlider.value=l.inst.getConfigProperty("SysSetting","SpVolume")||0,this._backVolume=this._musicSlider.value,this._spVolume=this._soundSlider.value},n.onUpdateInfo=function(){},n.onHide=function(){},n.onDispose=function(){},n.onUpdate=function(t){this._backVolume!=this._musicSlider.value&&(this._backVolume=this._musicSlider.value,l.inst.setConfigProperty("SysSetting","BackVolume",this._backVolume),u.inst.musicVolume=l.inst.getConfigProperty("SysSetting","BackMusic")?l.inst.getConfigProperty("SysSetting","BackVolume"):0),this._spVolume!=this._soundSlider.value&&(this._spVolume=this._soundSlider.value,l.inst.setConfigProperty("SysSetting","SpVolume",this._spVolume),u.inst.soundVolume=l.inst.getConfigProperty("SysSetting","SpSound")?l.inst.getConfigProperty("SysSetting","SpVolume"):0)},n.onClick_Wnd=function(t,e){if("btnClose"==e)this.closeForm();else if("btnMusic"==e){var i=!!!l.inst.getConfigProperty("SysSetting","BackMusic");this._btnMusic.selected=i,l.inst.setConfigProperty("SysSetting","BackMusic",i?1:0),u.inst.musicVolume=l.inst.getConfigProperty("SysSetting","BackMusic")?l.inst.getConfigProperty("SysSetting","BackVolume"):0}else if("btnSound"==e){var n=!!!l.inst.getConfigProperty("SysSetting","SpSound");this._btnSound.selected=n,l.inst.setConfigProperty("SysSetting","SpSound",n?1:0),u.inst.soundVolume=l.inst.getConfigProperty("SysSetting","SpSound")?l.inst.getConfigProperty("SysSetting","SpVolume"):0}},i}(r)).pkgs=["basics","setting"],g=a))||g);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIShareEgg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./fairygui.min.mjs","./IUIShareEgg.ts","./ConfigManager.ts","./UserData.ts","./EventMgr.ts","./EventDefine.ts","./UserApi.ts"],(function(t){var e,n,i,o,s,r,a,u,c,l,d,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.ZOrderLvEnum,s=t.UIType},function(t){r=t.UIPackage},function(t){a=t.default},function(t){u=t.default},function(t){c=t.default},function(t){l=t.default},function(t){d=t.EventDefine},function(t){h=t.default}],execute:function(){var f,g;n._RF.push({},"013fdKGNetJ15CoLFWY/vU1","UIShareEgg",void 0);var p=i.ccclass;i.property,t("UIShareEgg",p(((g=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).zOrderLv=o.ZOrderLv7,e.uiType=s.Full,e}e(n,t);var i=n.prototype;return i.onInit=function(){this._list.itemRenderer=this.renderListItem.bind(this)},i.renderListItem=function(t,e){this.getFguiComponent(e,"UIShareEggChild").showForm(e.parent.data[t])},i.onShown=function(){var t=this.getFguiComponent(this._egg,"UIEggComp");if(1==(arguments.length<=0?void 0:arguments[0]))t.view.visible=!0,t.showForm(this,3,0,arguments.length<=1?void 0:arguments[1]),this._petBody.visible=!1;else{t.view.visible=!1;var e=u.inst.tables.PetTb.get(arguments.length<=1?void 0:arguments[1]);this._petBody.icon=r.getItemURL("petBody",e.body),this._petBody.visible=!0}var n=[u.inst.GlobalTb.shareEggReward];this._list.data=n,this._list.numItems=n.length},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){},i.onClick_Wnd=function(t,e){var n=this;"btnShare"==e?h.taskGoto(c.userUid,8).then(this.callFunc((function(t){if(0==t.code){var e=t.data.param;setTimeout((function(){var t=u.inst.GlobalTb.shareFriendsText,n="https://t.me/share/url?url="+encodeURIComponent(e)+"&text="+encodeURIComponent(t);window.open(n,"_blank"),l.emitEvent(d.ModalLayer,"Open"),setTimeout((function(){l.emitEvent(d.ModalLayer,"Close"),h.syncData()}),3e3)}),0),n.closeForm()}}))):this.closeForm()},n}(a)).pkgs=["basics","share","item","petBody"],f=g))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIShareEggChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fairygui.min.mjs","./schema.ts","./ConfigManager.ts","./IUIShareEggChild.ts"],(function(n){var t,e,i,o,c,u,r;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator},function(n){o=n.UIPackage},function(n){c=n.Reward},function(n){u=n.default},function(n){r=n.default}],execute:function(){var a;e._RF.push({},"bef910sew1BIqBH6lmM6FE+","UIShareEggChild",void 0);var s=i.ccclass;i.property,n("UIShareEggChild",s(a=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var i=e.prototype;return i.onInit=function(){},i.onShown=function(n){if(n.type==c.Type.Item){var t=u.inst.tables.ItemTb.get(n.id);this._icon.icon=o.getItemURL("item",t.icon),this._num.text="x"+n.num,this._nameText.text=t.name}},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(n){},i.onClick_Wnd=function(n,t){},e}(r))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./IUIShop.ts","./UserData.ts","./EventDefine.ts","./schema.ts"],(function(n){var t,o,e,i,s,r,h,a,c;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n._decorator},function(n){i=n.ZOrderLvEnum,s=n.UIType},function(n){r=n.default},function(n){h=n.default},function(n){a=n.EventDefine},function(n){c=n.Shop}],execute:function(){var l,p;o._RF.push({},"4d8d29U7nNJM6RDlh771q9T","UIShop",void 0);var u=e.ccclass;e.property,n("UIShop",u(((p=function(n){function o(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(t=n.call.apply(n,[this].concat(e))||this).zOrderLv=i.ZOrderLv6,t.uiType=s.Full,t}t(o,n);var e=o.prototype;return e.onInit=function(){this.regEvent(a.RefreshShopList,this.refreshShopList),this.regEvent(a.RefreshDiamond,this.refreshDiamond),this.regEvent(a.ShopScroll,this.scroll)},e.onShown=function(){this.refreshShopList(),(arguments.length<=0?void 0:arguments[0])&&this.scroll(arguments.length<=0?void 0:arguments[0])},e.refreshShopList=function(){this._shopMain.refreshShopList(),this.refreshDiamond()},e.refreshDiamond=function(){this._totalDiamond.text=""+h.diamond},e.scroll=function(n){var t=this,o=null;setTimeout((function(){switch(n){case c.Type.Daily:o=t._shopMain._dailyShop._list;break;case c.Type.Ordinary:o=t._shopMain._ordinaryShop._list;break;case c.Type.Diamond:o=t._shopMain._diamondShop._list}null!=o&&t._shopMain.view.scrollPane.scrollToView(o,!1,!0)}),0)},e.onUpdateInfo=function(){},e.onHide=function(){},e.onDispose=function(){},e.onUpdate=function(n){},e.onClick_Wnd=function(n,t){},o}(r)).pkgs=["basics","shop","item","petHead"],l=p))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIShopBuy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./IUIShopBuy.ts","./schema.ts","./fairygui.min.mjs","./UserData.ts","./Ton.ts"],(function(t){var n,i,e,o,s,r,c,u,a,h;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator},function(t){o=t.ZOrderLvEnum,s=t.UIType},function(t){r=t.default},function(t){c=t.Reward},function(t){u=t.UIPackage},function(t){a=t.default},function(t){h=t.Currency}],execute:function(){var f,p;i._RF.push({},"e97b3sksu1PxaunvvrYbVDy","UIShopBuy",void 0);var l=e.ccclass;e.property,t("UIShopBuy",l(((p=function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).zOrderLv=o.ZOrderLv7,n.uiType=s.NormalUI,n.modal=!0,n.clickVoidClose=!0,n._fn=null,n}n(i,t);var e=i.prototype;return e.onInit=function(){},e.onShown=function(){var t=arguments.length<=1?void 0:arguments[1];this._c1.selectedIndex=0;var n=t.price.num/100;this._price.setVar("price",""+n),this._price.flushVars(),this._numTxt.text="x"+t.item.num,this._nameTxt.text=t.name,t.item.type==c.Type.Item?this._img.icon=u.getItemURL("item",t.icon):this._img.icon=u.getItemURL("petHead",t.icon),this._fn=arguments.length<=2?void 0:arguments[2],this._btnUSTDBuy.title=n+" USDT",this._btnTONBuy.title=(1/a.tonPrice*n).toFixed(6)+" TON"},e.onUpdateInfo=function(){},e.onHide=function(){},e.onDispose=function(){},e.onUpdate=function(t){},e.onClick_Wnd=function(t,n){"btnTONBuy"==n?this._fn&&this._fn(h.TON,this.args[0],this.args[1].id):"btnUSTDBuy"==n&&this._fn&&this._fn(h.USDT,this.args[0],this.args[1].id)},i}(r)).pkgs=["basics","shop","item"],f=p))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIShopChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IUIShopChild.ts","./fairygui.min.mjs","./UserApi.ts","./UserData.ts","./SysMsgMgr.ts","./ErrorDefine.ts","./AlertDefine.ts","./EventDefine.ts","./schema.ts","./FormMgr.ts","./ConfigManager.ts","./EventMgr.ts","./ShopMgr.ts"],(function(t){var e,i,s,n,o,h,c,r,p,d,u,a,l,f,m,y,_,I;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator},function(t){n=t.default},function(t){o=t.UIPackage},function(t){h=t.default},function(t){c=t.default},function(t){r=t.default},function(t){p=t.ErrorDefine},function(t){d=t.ConfirmType},function(t){u=t.EventDefine},function(t){a=t.Shop,l=t.Reward,f=t.Item},function(t){m=t.default},function(t){y=t.default},function(t){_=t.default},function(t){I=t.default}],execute:function(){var x;i._RF.push({},"68cb8F2I+hN/ISSv23wrnwc","UIShopChild",void 0);var g=s.ccclass;s.property,t("UIShopChild",g(x=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this)._shopId=0,e._shopType=a.Type.Daily,e._shopConfig=null,e}e(i,t);var s=i.prototype;return s.onInit=function(){this.listenerClick(this.view,this.onClick_Wnd)},s.onShown=function(t,e,i,s,n){if(this._shopType=e,this._shopId=n,this._shopConfig=s,1==s.share){if(this.initRedPoint(this._redPoint,"shopShare",[n]),e==a.Type.Daily){var h=c.shop.list.indexOf(n);c.shop.share[e]&&-1!=c.shop.share[e].indexOf(h)?this._c2.selectedIndex=2:this._c2.selectedIndex=1}}else this._c2.selectedIndex=0==s.price.id?1:0;if(e==a.Type.Daily){var r=c.shop.list.indexOf(n),p=c.shop.discount[r];100==p?(this._c3.selectedIndex=0,this._title.text=""+s.price.num):(this._c3.selectedIndex=1,this._discount.setVar("discount",""+(100-p)),this._discount.flushVars(),this._title.text=""+s.price.num*p/100)}else if(e==a.Type.Diamond){var d=this._shopConfig.discount;100==d?(this._c3.selectedIndex=0,this._title.text=""+s.price.num/100):(this._c3.selectedIndex=1,this._discount.setVar("discount",""+(100-d)),this._discount.flushVars(),this._title.text=""+s.price.num/100)}else this._c3.selectedIndex=0,this._title.text=""+s.price.num;if(this._numTxt.text="x"+s.item.num,this._nameTxt.text=s.name,s.price.id>0&&(this._priceIcon.icon=o.getItemURL("item",y.inst.tables.ItemTb.get(s.price.id).icon)),s.item.type==l.Type.Item?this._img.icon=o.getItemURL("item",s.icon):this._img.icon=o.getItemURL("petHead",s.icon),null!=s.buyLimit){var u=c.shop.list.indexOf(n);this._c1.selectedIndex=(c.shop.buy[u]||0)>=s.buyLimit?1:0}else this._c1.selectedIndex=0},s.onUpdateInfo=function(){},s.onHide=function(){},s.onDispose=function(){},s.onUpdate=function(t){},s.showBoxEffect=function(t){var e=null;if(e=this._shopType==a.Type.Daily?y.inst.tables.DailyShopTb.get(this._shopId).item:y.inst.tables.OrdinaryShopTb.get(this._shopId).item)if(e.type==l.Type.Item){var i=y.inst.tables.ItemTb.get(e.id);i.type==f.Type.Box?m.inst.showForm("box/UIBoxEffect",[i.quality,function(){m.inst.showForm("reward/UIRewardTips",[t])}]):m.inst.showForm("reward/UIRewardTips",[t])}else m.inst.showForm("reward/UIRewardTips",[t])},s.shopBuy=function(t,e,i){var s=this;this._shopConfig.price.id>0&&c.getItemNum(this._shopConfig.price.id)<this._shopConfig.price.num?(r.inst.setWaitForConfirm(p.DiamondNotEnough,(function(t,e,i){s.emitEvent(u.ShopScroll,a.Type.Diamond)}),null),r.inst.showSysMsg(p.DiamondNotEnough)):h.shopBuy(this._shopType,this._shopId).then((function(t){0==t.code&&(s.emitEvent(u.RefreshShopList),s.showBoxEffect(t.data.rewards))}))},s.onClick_Wnd=function(t,e){this._shopType==a.Type.Diamond?this.buy(p.ShopTonBuy):this.buy(p.ShopBuy)},s.buy=function(t){var e=this;if(0==this._c1.selectedIndex)if(1==this._c2.selectedIndex){if(this._shopType!=a.Type.Daily)return;h.shopShare(c.userUid,this._shopType,c.shop.list.indexOf(this._shopId)).then(this.callFunc((function(t){if(0==t.code){var i=t.data.param;setTimeout((function(){var t=y.inst.GlobalTb.shareFriendsText,e="https://t.me/share/url?url="+encodeURIComponent(i)+"&text="+encodeURIComponent(t);window.open(e,"_blank"),_.emitEvent(u.ModalLayer,"Open"),setTimeout((function(){_.emitEvent(u.ModalLayer,"Close"),h.syncData()}),3e3)}),0),e.closeForm()}})))}else 2==this._c2.selectedIndex?this.shopBuy(d.Right,t,null):this._shopType==a.Type.Diamond?m.inst.showForm("shop/UIShopBuy",[a.Type.Diamond,this._shopConfig,I.inst.buy.bind(this)]):(r.inst.setWaitForConfirm(t,this.shopBuy.bind(this),null),r.inst.showSysMsg(t,[this._title.text,this._shopConfig.desc]))},i}(n))||x);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIShopMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IUIShopMain.ts"],(function(n){var o,t,i,e;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,i=n._decorator},function(n){e=n.default}],execute:function(){var r;t._RF.push({},"ac936A+b9hDV56sXWdFXloG","UIShopMain",void 0);var s=i.ccclass;i.property,n("UIShopMain",s(r=function(n){function t(){return n.apply(this,arguments)||this}o(t,n);var i=t.prototype;return i.onInit=function(){},i.onShown=function(){},i.refreshShopList=function(){this._dailyShop.refreshShopList(),this._ordinaryShop.refreshShopList(),this._diamondShop.refreshShopList()},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(n){},i.onClick_Wnd=function(n,o){},t}(e))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/UISignIn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IUISignIn.ts","./fairygui.min.mjs","./ConfigManager.ts","./BaseForm.ts","./EventDefine.ts","./UserData.ts","./schema.ts","./Utils.ts","./FormMgr.ts","./ShopMgr.ts"],(function(t){var i,n,e,s,o,r,a,u,h,c,f,l,m,g;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){s=t.default},function(t){o=t.Event},function(t){r=t.default},function(t){a=t.ZOrderLvEnum,u=t.UIType},function(t){h=t.EventDefine},function(t){c=t.default},function(t){f=t.Shop},function(t){l=t.Utils},function(t){m=t.default},function(t){g=t.default}],execute:function(){var p,I;n._RF.push({},"eff11DmqGFLGZkU23s4ekOa","UISignIn",void 0);var d=e.ccclass;e.property,t("UISignIn",d(((I=function(t){function n(){for(var i,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this).zOrderLv=a.ZOrderLv7,i.uiType=u.Full,i._timeCount=0,i}i(n,t);var e=n.prototype;return e.onInit=function(){this._list.itemRenderer=this.renderListItem.bind(this),this._list.setVirtual(),this._list.on(o.SCROLL,this.onScroll,this),this.listenerClick(this._touch,this.onClick_Wnd),this.regEvent(h.RefreshSignIn,this.refreshSignIn)},e.renderListItem=function(t,i){this.getFguiComponent(i,"UISignInChild3").showForm(this,t,i.parent.data[t])},e.onScroll=function(){m.inst.isFormShow("item/UIItemTips")&&m.inst.closeForm("item/UIItemTips")},e.onShown=function(){this.refreshSignIn();var t=r.inst.tables.SpecialShopTb.get(1640004);this._btnBuy.title="$ "+t.price.num/100},e.refreshSignIn=function(){for(var t=[],i=r.inst.tables.SignTb.getDataList(),n=0;n<i.length;n+=2)6==n||13==n||20==n?(t.push([i[n]]),n-=1):n+1==6||n+1==13||n+1==20?t.push([i[n]]):t.push([i[n],i[n+1]]);this._list.data=t,this._list.numItems=t.length;var e=c.sign.signCardETime-c.now;this._effectiveTime.text=l.formatDuration(e>0?e:0),this._leftTime.text=l.formatDuration(c.sign.startTime+3600*(i.length+1)*24-c.now)},e.onUpdateInfo=function(){},e.onHide=function(){},e.onDispose=function(){},e.onUpdate=function(t){if(this._timeCount+=t,this._timeCount>=1){this._timeCount=0;var i=c.sign.signCardETime-c.now;this._effectiveTime.text=l.formatDuration(i>0?i:0);var n=r.inst.tables.SignTb.getDataList();this._leftTime.text=l.formatDuration(c.sign.startTime+3600*(n.length+1)*24-c.now)}},e.onClick_Wnd=function(t,i){if("btnBuy"==i){if(c.sign.signCardETime>c.now)return;var n=r.inst.tables.SpecialShopTb.get(1640004);m.inst.showForm("shop/UIShopBuy",[f.Type.Special,n,g.inst.buy.bind(this)])}else"btnClose"==i&&this.closeForm();m.inst.isFormShow("item/UIItemTips")&&m.inst.closeForm("item/UIItemTips")},n}(s)).pkgs=["item","basics","signIn"],p=I))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/UISignInChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IUISignInChild.ts","./ConfigManager.ts","./fairygui.min.mjs","./UserData.ts"],(function(n){var i,t,e,s,o,c,d;return{setters:[function(n){i=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator},function(n){s=n.default},function(n){o=n.default},function(n){c=n.UIPackage},function(n){d=n.default}],execute:function(){var r;t._RF.push({},"1479dOgmSFLW4rZirmlyNwW","UISignInChild",void 0);var a=e.ccclass;e.property,n("UISignInChild",a(r=function(n){function t(){return n.apply(this,arguments)||this}i(t,n);var e=t.prototype;return e.onInit=function(){},e.onShown=function(n,i,t){this._numTxt.text="x"+t.reward.num;var e=o.inst.tables.ItemTb.get(t.reward.id);if(this._nameTxt.text="DAY"+t.id,this._img.icon=c.getItemURL("item",e.icon),d.sign.day>=t.id)this._c1.selectedIndex=1;else if(this._c1.selectedIndex=0,d.sign.day==t.id-1&&t.id<=d.sign.loginNum&&1==d.sign.isSign){var s=o.inst.tables.ReSignTb.getDataList();if(!(d.sign.reSign<s.length))return void(this._c2.selectedIndex=0);this._c1.selectedIndex=2}d.sign.loginNum>=t.id&&(t.id>1&&d.sign.day==t.id-1||1==t.id&&d.sign.day<t.id)?this._c2.selectedIndex=1:this._c2.selectedIndex=0},e.onUpdateInfo=function(){},e.onHide=function(){},e.onDispose=function(){},e.onUpdate=function(n){},e.onClick_Wnd=function(n,i){},t}(s))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/UISignInChild2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IUISignInChild2.ts","./ConfigManager.ts","./fairygui.min.mjs","./UserData.ts"],(function(n){var i,e,t,s,c,d,o;return{setters:[function(n){i=n.inheritsLoose},function(n){e=n.cclegacy,t=n._decorator},function(n){s=n.default},function(n){c=n.default},function(n){d=n.UIPackage},function(n){o=n.default}],execute:function(){var a;e._RF.push({},"0a237kVN9dD3qtXJwi9ehXq","UISignInChild2",void 0);var u=t.ccclass;t.property,n("UISignInChild2",u(a=function(n){function e(){return n.apply(this,arguments)||this}i(e,n);var t=e.prototype;return t.onInit=function(){},t.onShown=function(n,i,e){this._numTxt.text="x"+e.reward.num;var t=c.inst.tables.ItemTb.get(e.reward.id);this._nameTxt.text="DAY"+e.id,this._img.icon=d.getItemURL("item",t.icon),3==i?this._c2.selectedIndex=0:7==i?this._c2.selectedIndex=1:11==i&&(this._c2.selectedIndex=2);var s=c.inst.tables.ReSignTb.getDataList();if(o.sign.day>=e.id)this._c1.selectedIndex=1;else if(this._c1.selectedIndex=0,o.sign.day==e.id-1&&e.id<=o.sign.loginNum&&1==o.sign.isSign){if(!(o.sign.reSign<s.length))return void(this._c3.selectedIndex=0);this._c1.selectedIndex=2}o.sign.loginNum>=e.id&&(e.id>1&&o.sign.day==e.id-1||1==e.id&&o.sign.day<e.id)?this._c3.selectedIndex=1:this._c3.selectedIndex=0},t.onUpdateInfo=function(){},t.onHide=function(){},t.onDispose=function(){},t.onUpdate=function(n){},t.onClick_Wnd=function(n,i){},e}(s))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/UISignInChild3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./schema.ts","./IUISignInChild3.ts","./UserData.ts","./UserApi.ts","./FormMgr.ts","./EventDefine.ts","./ConfigManager.ts","./fairygui.min.mjs","./SysMsgMgr.ts","./ErrorDefine.ts"],(function(i){var n,t,s,e,o,r,a,c,h,d,l,u,g;return{setters:[function(i){n=i.inheritsLoose},function(i){t=i.cclegacy,s=i._decorator},function(i){e=i.Shop},function(i){o=i.default},function(i){r=i.default},function(i){a=i.default},function(i){c=i.default},function(i){h=i.EventDefine},function(i){d=i.default},function(i){l=i.PopupDirection},function(i){u=i.default},function(i){g=i.ErrorDefine}],execute:function(){var f;t._RF.push({},"f092809hZtFQYG5Xc44T3e1","UISignInChild3",void 0);var m=s.ccclass;s.property,i("UISignInChild3",m(f=function(i){function t(){for(var n,t=arguments.length,s=new Array(t),e=0;e<t;e++)s[e]=arguments[e];return(n=i.call.apply(i,[this].concat(s))||this)._dataList=null,n}n(t,i);var s=t.prototype;return s.onInit=function(){},s.onShown=function(i,n,t){1==t.length?(this._child1.view.visible=!1,this._child2.view.visible=!1,this._child3.view.visible=!0,this._child3.showForm(this,n,t[0])):(this._child1.view.visible=!0,this._child2.view.visible=!0,this._child3.view.visible=!1,this._child1.showForm(this,n,t[0]),this._child2.showForm(this,n,t[1])),this._dataList=t},s.onUpdateInfo=function(){},s.onHide=function(){},s.onDispose=function(){},s.onUpdate=function(i){},s.onClick_Wnd=function(i,n){"child1"==n?this.signIn(this._dataList[0]):"child2"==n?this.signIn(this._dataList[1]):"child3"==n&&this.signIn(this._dataList[0])},s.signIn=function(i){var n=this;if(r.sign.loginNum>=i.id&&(i.id>1&&r.sign.day==i.id-1||1==i.id&&r.sign.day<i.id))if(r.sign.isSign){var t=d.inst.tables.ReSignTb.getDataList();if(t.length<=r.sign.reSign)return;var s=t[r.sign.reSign];u.inst.setWaitForConfirm(g.ResigningTips,(function(t,o,d){s.cost.id>0&&r.getItemNum(s.cost.id)<s.cost.num?(u.inst.setWaitForConfirm(g.DiamondNotEnough,(function(i,t,s){c.inst.closeForm("signIn/UISignIn"),n.emitEvent(h.GoTo,"btnShop",[e.Type.Diamond])}),null),u.inst.showSysMsg(g.DiamondNotEnough)):a.signIn(i.id,r.sign.isSign).then((function(i){0==i.code&&(c.inst.showForm("reward/UIRewardTips",[i.data.rewards]),n.emitEvent(h.RefreshSignIn))}))}),null),u.inst.showSysMsg(g.ResigningTips,[s.cost.num,r.sign.reSign])}else a.signIn(i.id,r.sign.isSign).then((function(i){0==i.code&&(c.inst.showForm("reward/UIRewardTips",[i.data.rewards]),n.emitEvent(h.RefreshSignIn))}));else{var o=d.inst.tables.ItemTb.get(i.reward.id);c.inst.showForm("item/UIItemTips",[o.name+" x"+i.reward.num],null,{target:this.view,dir:l.Up})}},t}(o))||f);t._RF.pop()}}}));

System.register("chunks:///_virtual/UISmashEgg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./IUISmashEgg.ts","./UserData.ts","./ConfigManager.ts","./EventDefine.ts"],(function(t){var e,i,s,n,r,o,g,h,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator},function(t){n=t.ZOrderLvEnum,r=t.UIType},function(t){o=t.default},function(t){g=t.default},function(t){h=t.default},function(t){a=t.EventDefine}],execute:function(){var c,u;i._RF.push({},"0eb727cpBFHDpb7gu9LN2t+","UISmashEgg",void 0);var f=s.ccclass;s.property,t("UISmashEgg",f(((u=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this).zOrderLv=n.ZOrderLv6,e.uiType=r.Full,e.curPetSelectedIndex=-1,e}e(i,t);var s=i.prototype;return s.onInit=function(){this._eggList.itemRenderer=this.renderEggListItem.bind(this),this._eggList.setVirtual(),this._petList.itemRenderer=this.renderPetListItem.bind(this),this._petList.setVirtual(),this.regEvent(a.RefreshPet,this.refreshPet),this.regEvent(a.RefreshEgg,this.refreshEgg),this.regEvent(a.RefreshItem,this.refreshItem)},s.renderEggListItem=function(t,e){this.getFguiComponent(e,"UIEggComp").showForm(this,2,t,e.parent.data[t])},s.renderPetListItem=function(t,e){this.getFguiComponent(e,"UIPetHeadComp").showForm(this,t,e.parent.data[t])},s.onShown=function(){this.refreshEgg(),this.refreshPet(),this.refreshItem(),this._eggOpen.view.visible=!1,this._petInfo.view.visible=!1,this._eggList.clearSelection(),this._petList.scrollToView(0),this._eggList.data.length>0&&(this._eggList.selectedIndex=0,this._eggList.scrollToView(0),this._eggOpen.showForm(this,this._eggList.data[0]),this._eggOpen.view.visible=!0,this._petInfo.view.visible=!1,this._petList.clearSelection())},s.refreshEgg=function(){var t=g.eggs.slice();t.sort((function(t,e){return t.getScore()===e.getScore()?t.id-e.id:e.getScore()-t.getScore()})),this._eggList.data=t,this._eggList.numItems=t.length,this._eggNumTxt.text=""+t.length},s.refreshItem=function(){this._retrieveCard.text=""+g.getItemNum(2001003)},s.refreshPet=function(){var t=h.inst.tables.PetTb.getDataList().slice();t.sort((function(t,e){return e.id-t.id}));for(var e=[],i=[],s=0;s<t.length;s++)(g.getPet(t[s].id)?e:i).push(t[s]);t=e.concat(i),this._petList.data=t,this._petList.numItems=t.length;var n=g.pets.reduce((function(t,e){return t+e.num}),0);this._petNumTxt.text=""+n},s.playSmokeAni=function(t){var e=this;this._smoke.visible=!0,this._smoke.setPlaySettings(0,-1,1,0,this.callFunc((function(){e._smoke.visible=!1,t&&t()}))),this._smoke.playing=!0},s.onUpdateInfo=function(){},s.onHide=function(){},s.onDispose=function(){},s.onUpdate=function(t){},s.onClick_Wnd=function(t,e){},i}(o)).pkgs=["basics","quality","smashEgg","eggPart","petHead","petBody","item"],c=u))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/UITask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseForm.ts","./ConfigManager.ts","./UserData.ts","./EventDefine.ts","./IUITask.ts","./schema.ts"],(function(t){var s,e,i,n,a,o,r,c,h,u;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){n=t.ZOrderLvEnum,a=t.UIType},function(t){o=t.default},function(t){r=t.default},function(t){c=t.EventDefine},function(t){h=t.default},function(t){u=t.Task}],execute:function(){var k,f;e._RF.push({},"27a85nDbG1DNr+GfMawsXw2","UITask",void 0);var l=i.ccclass;i.property,t("UITask",l(((f=function(t){function e(){for(var s,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(s=t.call.apply(t,[this].concat(i))||this).zOrderLv=n.ZOrderLv6,s.uiType=a.Full,s.taskType=u.Type.Main,s}s(e,t);var i=e.prototype;return i.onInit=function(){this._taskList.itemRenderer=this.renderTaskListItem.bind(this),this._taskList.setVirtual(),this.regEvent(c.RefreshTaskList,this.refreshTaskList),this.initRedPoint(this._main._redPoint,"mainTask"),this.initRedPoint(this._daily._redPoint,"dailyTask")},i.renderTaskListItem=function(t,s){this.getFguiComponent(s,"UITaskChild").showForm(this,this.taskType,s.parent.data[t])},i.onShown=function(){this.switchTasks(u.Type.Main)},i.switchTasks=function(t){for(var s=o.inst.tables.TaskTb.getDataList(),e=[],i=0;i<s.length;i++){var n=s[i];n.taskType==t&&1==n.display&&e.push(n)}for(var a=[],c=[],h=0;h<e.length;h++)r.getTaskData(e[h].taskId).state>0?c.push(e[h]):a.push(e[h]);a.sort((function(t,s){var e=o.inst.tables.TaskTb.get(t.taskId);return r.getTaskData(t.taskId).complete>=e.maxTimes?1:-1})),c=c.concat(a),this.taskType=t,this._taskList.data=c,this._taskList.numItems=c.length,t==u.Type.Main?this.view.getController("c1").selectedIndex=0:this.view.getController("c1").selectedIndex=1},i.refreshTaskList=function(){this.switchTasks(this.taskType)},i.onUpdateInfo=function(){},i.onHide=function(){},i.onDispose=function(){},i.onUpdate=function(t){},i.onClick_Wnd=function(t,s){"main"==s?this.switchTasks(u.Type.Main):"daily"==s&&this.switchTasks(u.Type.Daily)},e}(h)).pkgs=["basics","task","item"],k=f))||k);e._RF.pop()}}}));

System.register("chunks:///_virtual/UITaskChild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./schema.ts","./UserData.ts","./UserApi.ts","./EventDefine.ts","./ConfigManager.ts","./IUITaskChild.ts","./EventMgr.ts","./fairygui.min.mjs","./FormMgr.ts"],(function(e){var t,n,o,s,a,i,r,c,l,d,u,f,h,p,w;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e._decorator,i=e.sys},function(e){r=e.Task},function(e){c=e.default},function(e){l=e.default},function(e){d=e.EventDefine},function(e){u=e.default},function(e){f=e.default},function(e){h=e.default},function(e){p=e.UIPackage},function(e){w=e.default}],execute:function(){var g;s._RF.push({},"2d2d6XVeZdAAobYOTJCXWbR","UITaskChild",void 0);var m=a.ccclass;a.property,e("UITaskChild",m(g=function(e){function s(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this)._taskData=null,t}t(s,e);var a=s.prototype;return a.onInit=function(){},a.onShown=function(e,t,n){this.updateTaskDesc(t,n)},a.updateTaskDesc=function(e,t){this._taskData=t,this._desc.text=t.desc,this._num.text="+"+t.reward.num;var n=c.getTaskData(t.taskId);if(9==u.inst.tables.TaskTb.get(t.taskId).taskSubId){if(this._desc.setVar("c","1"+t.need),window.tonConnectUI)window.tonConnectUI.connected?0==n.state&&n.complete>=t.maxTimes?this.view.getController("c1").selectedIndex=0:n.state>0?this.view.getController("c1").selectedIndex=2:(this.disconnectWallet(),this.view.getController("c1").selectedIndex=1):this.view.getController("c1").selectedIndex=1;else this.view.getController("c1").selectedIndex=1}else{n.state>0?this.view.getController("c1").selectedIndex=2:0==n.state&&n.complete>=t.maxTimes?this.view.getController("c1").selectedIndex=0:this.view.getController("c1").selectedIndex=1,this._desc.setVar("b",""+n.progress);var o=t.need;0==n.state&&n.complete>=t.maxTimes?(o=t.maxTimes*t.need,this._desc.setVar("c",""+o)):(o=(n.complete-n.state+1)*t.need,this._desc.setVar("c",""+o)),this._desc.setVar("a",""+o)}this._desc.flushVars(),e==r.Type.Main?this.initRedPoint(this._get._redPoint,"mainTaskRewared",[t.taskId]):e==r.Type.Daily&&this.initRedPoint(this._get._redPoint,"dailyTaskRewared",[t.taskId]),this._img.icon=p.getItemURL("task",t.iconAvatar)},a.onUpdateInfo=function(){},a.onHide=function(){},a.onDispose=function(){},a.onUpdate=function(e){},a.onClick_Wnd=function(e,t){if("goto"==t){var n=u.inst.tables.TaskTypeTb.get(this._taskData.taskSubId);if(5==n.gotoType)this.openWallet();else{var o=n.goto;o&&(0==n.gotoType?this.emitEvent(d.GoTo,o):this.openURL(n.gotoType))}}else"get"==t&&l.taskRewards(this.args[1],this.args[2].taskId).then((function(e){0==e.code&&e.data.item&&w.inst.showForm("reward/UIRewardTips",[[{item:e.data.item}]])}))},a.disconnectWallet=function(){var e=n(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.tonConnectUI){e.next=4;break}return t=window.tonConnectUI,e.next=4,t.disconnect();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.openWallet=function(){if(window.tonConnectUI){var e=window.tonConnectUI,t=e.wallet,s=e.walletInfo,a=e.account,i=e.connected;if(this.log("currentWallet:",t),this.log("currentWalletInfo:",s),this.log("currentAccount:",a),this.log("currentIsConnectedStatus:",i),!i){var r=function(){var t=n(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.connectWallet();case 2:n=t.sent,e.connected&&l.taskTonAccount(n.account.address).then(d.callFunc((function(e){0==e.code&&(c.getTaskData(d._taskData.taskId).state>0?d.view.getController("c1").selectedIndex=2:d.view.getController("c1").selectedIndex=0)})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=this;r().catch((function(e){console.error("Error connecting to wallet:",e)}))}}},a.openURL=function(e){l.taskGoto(c.userUid,this._taskData.taskSubId).then((function(t){if(0==t.code){var n=t.data.param;setTimeout((function(){if(1==e)window.Telegram?window.Telegram.WebApp.openLink(n):i.openURL(n);else if(2==e){var o=u.inst.GlobalTb.shareFriendsText,s="https://t.me/share/url?url="+encodeURIComponent(n)+"&text="+encodeURIComponent(o);window.open(s,"_blank")}else if(3==e)0==t.code&&(window.Telegram?window.Telegram.WebApp.openTelegramLink(n):i.openURL(n));else if(4==e){var a=u.inst.GlobalTb.shareFriendsText,r="https://t.me/share/url?url="+encodeURIComponent(n)+"&text="+encodeURIComponent(a);window.open(r,"_blank")}h.emitEvent(d.ModalLayer,"Open"),setTimeout((function(){h.emitEvent(d.ModalLayer,"Close"),l.syncData()}),3e3)}),0)}}))},s}(f))||g);s._RF.pop()}}}));

System.register("chunks:///_virtual/UserApi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseClass.ts","./request.ts","./ErrorDefine.ts","./EventDefine.ts","./ConfigManager.ts","./EventMgr.ts","./SysMsgMgr.ts","./schema.ts","./UserData.ts","./ShareDefine.ts","./LocalStorageMgr.ts","./SceneMgr.ts","./FormMgr.ts","./ItemDefine.ts"],(function(t){var e,a,n,r,o,d,s,i,u,c,l,f,h,m,g,T,p;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy},function(t){n=t.BaseClass},function(t){r=t.request},function(t){o=t.ErrorDefine},function(t){d=t.EventDefine},function(t){s=t.default},function(t){i=t.default},function(t){u=t.default},function(t){c=t.Shop,l=t.Task},function(t){f=t.default},function(t){h=t.default},function(t){m=t.default},function(t){g=t.default},function(t){T=t.default},function(t){p=t.ItemDefine}],execute:function(){a._RF.push({},"a57aaAJ5HxCWqi+5eYxdEd2","UserApi",void 0);t("default",function(t){function a(){return t.apply(this,arguments)||this}return e(a,t),a.enter=function(t,e,a,n,o,s,u,c){var l=(new Date).getTime();return r({method:"POST",url:"/login",data:{languageCode:t,os:e,userUid:a,firstName:n,lastName:o,username:s,photoUrl:u,startParam:c}}).then((function(t){return 0==t.code&&(h.Token=t.data.token,r({method:"POST",url:"/enter"}).then((function(t){if(0==t.code){h.IsShowGM=1==t.data.gm,h.Token=t.data.token,f.userUid=a;var e=((new Date).getTime()-l)/1e3/2;f.syncServerTime(t.data.serverTime,e),f.absorb(t.data),i.emitEvent(d.OnEnter,f),g.inst.loadScene("game")}}))),t}))},a.autoAddVit=function(){if(!(f.vit>=s.inst.GlobalTb.vitMaxAuto))return r({method:"POST",url:"/autoaddvit"}).then((function(t){return 0==t.code&&(f.absorbReward(t.data),f.lastAddVitTime=t.data.lastAddVitTime),t}))},a.autoLayEgg=function(){return r({method:"POST",url:"/autolayegg"}).then((function(t){return 0==t.code&&(f.absorbEggs(t.data.eggs),f.lastLayEggTime=t.data.lastLayEggTime,f.autoEggCollectRTime=t.data.autoEggCollectRTime,f.autoEggCollectETime=t.data.autoEggCollectETime,i.emitEvent(d.RefreshLayEggRedPoint)),t}))},a.clickScreen=function(t){return r({method:"POST",url:"/clickscreen",data:{clickCount:t}}).then((function(t){return 0==t.code&&(f.lastClickCount=t.data.lastClickCount,f.absorbReward(t.data),t.data.reward&&t.data.reward.egg&&(f.guide.temp=!0)),t}))},a.gm=function(t){return r({method:"POST",url:"/gm",data:{cmd:t}}).then((function(t){return 0==t.code&&(f.absorbReward(t.data),0!=t.data.battleCount&&(f.battleCount=f.battleCount+t.data.battleCount)),t}))},a.syncData=function(){if(f.roleId){var t=(new Date).getTime();r({method:"POST",url:"/syncdata"}).then((function(e){if(0==e.code){var a=((new Date).getTime()-t)/1e3/2;f.syncData(e.data,a)}return e}))}},a.eggOpen=function(t,e){return r({method:"POST",url:"/eggopen",data:{id:t,guideId:e}}).then((function(e){return 0==e.code&&(f.absorbReward(e.data),f.delEgg(t)),e}))},a.taskRewards=function(t,e){return r({method:"POST",url:"/taskrewards",data:{taskId:e,taskType:t}}).then((function(t){return 0==t.code&&(f.absorbReward(t.data),f.updateTaskState(e,-1),i.emitEvent(d.RefreshTaskList)),t}))},a.taskData=function(){return r({method:"POST",url:"/taskdata"}).then((function(t){return 0==t.code&&f.taskData(t.data),t}))},a.taskTonAccount=function(t){return r({method:"POST",url:"/tasktonaccount",accountId:t}).then((function(t){return 0==t.code&&f.updateTaskProgress(9,1),t}))},a.taskGoto=function(t,e){return r({method:"POST",url:"/taskgoto",data:{userUid:t,taskSubId:e}})},a.shopData=function(){return r({method:"POST",url:"/shopdata"}).then((function(t){return 0==t.code&&f.shopData(t.data),t}))},a.shopRefresh=function(){return r({method:"POST",url:"/shoprefresh"}).then((function(t){return 0==t.code&&(f.shopData(t.data.shop),f.absorbReward(t.data)),t}))},a.shopBuy=function(t,e){var a=this;return r({method:"POST",url:"/shopbuy",data:{shopType:t,id:e}}).then((function(n){if(0==n.code){var r=f.shop.list.indexOf(e);if(f.shop.buy[r]=(f.shop.buy[r]||0)+1,f.absorbReward(n.data),t==c.Type.Special){var o=s.inst.tables.SpecialShopTb.get(e).item;0==f.autoEggCollectRTime&&(f.autoEggCollectETime=f.now),o.id!=p.AutoEggCollect1&&o.id!=p.AutoEggCollect7&&o.id!=p.AutoEggCollect30||a.updateAutoEggCollectRTime(o.id)}i.emitEvent(d.RefreshShopShareRedPoint,[e])}return n}))},a.updateAutoEggCollectRTime=function(t){var e=Number(s.inst.tables.ItemTb.get(t).param);f.autoEggCollectRTime=f.autoEggCollectRTime+e,f.autoEggCollectETime=f.autoEggCollectETime+e,i.emitEvent(d.RefreshAutoEggCollect),u.inst.showSysMsg(o.GetEggAutoCollection,[Math.floor(e/3600/24)])},a.shopShare=function(t,e,a){return r({method:"POST",url:"/shopshare",data:{userUid:t,shopType:e,shopIdx:a}})},a.createOrder=function(t,e,a){return r({method:"POST",url:"/createorder",data:{shopType:t,id:e,currency:a}})},a.delivery=function(t){return r({method:"POST",url:"/delivery",data:{transactionId:t}}).then((function(e){if(0==e.code){var a=m.inst.getRoleConfigProperty("TransactionIdList"),n=a.indexOf(t);if(-1!=n&&(a.splice(n,1),m.inst.setRoleConfigProperty("TransactionIdList",a)),f.absorbReward(e.data),e.data.shopType==c.Type.Special)if(1640004==e.data.shopId){var r=s.inst.tables.SpecialShopTb.get(1640004),l=s.inst.tables.ItemTb.get(r.item.id);f.sign.signCardETime=f.sign.signCardETime+Number(l.param),u.inst.showSysMsg(o.GetCheckInCard),i.emitEvent(d.RefreshSignIn)}else 1640005!=e.data.shopId&&1640006!=e.data.shopId||(f.passPortDeluxeReward=1,u.inst.showSysMsg(o.GetDeluxePass),i.emitEvent(d.RefreshPassPort));else T.inst.showForm("reward/UIRewardTips",[e.data.rewards])}return e}))},a.ticker=function(t){return r({method:"POST",url:"/ticker",data:{instId:t}}).then((function(t){0==t.code&&(f.tonPrice=t.data.last,f.lastSyncTickerTime=f.now)}))},a.battleMatch=function(t,e){var a=(new Date).getTime();return r({method:"POST",url:"/battlematch",data:{battleId:t,petId:e}}).then((function(t){if(0==t.code){var e=((new Date).getTime()-a)/1e3/2;t.data.matchState.createdAt=t.data.matchState.createdAt+e,f.lastDeskId=t.data.matchState.deskId;var n=t.data.reward.item;f.absorbPet({petId:n.id,petNum:n.num})}return t}))},a.battleMatchState=function(t){return r({method:"POST",url:"/battlematchstate",data:{deskId:t}}).then((function(t){return 0==t.code&&(f.lastDeskId=t.data.deskId),t}))},a.battleLeave=function(t){return r({method:"POST",url:"/battleleave",data:{deskId:t}}).then((function(t){if(0==t.code){f.lastDeskId="";var e=t.data.reward.item;f.absorbPet({petId:e.id,petNum:e.num})}return t}))},a.battleBet=function(t,e){return r({method:"POST",url:"/battlebet",data:{deskId:t,grid:e}})},a.battleRoundResult=function(t){return r({method:"POST",url:"/battleroundresult",data:{deskId:t}})},a.battleSettlement=function(t){return r({method:"POST",url:"/battlesettlement",data:{deskId:t}}).then((function(e){if(0==e.code){f.lastDeskId="",f.absorbReward(e.data);var a=Number(t.split("-")[0]),n=s.inst.tables.BattleConfigTb.get(a);1==e.data.win?u.inst.showSysMsg(o.BattleVictory,[n.battleName," "+e.data.bonus]):u.inst.showSysMsg(o.BattleFailure,[n.battleName])}return e}))},a.battleExit=function(t){return r({method:"POST",url:"/battleexit",data:{deskId:t}})},a.battleSyncScore=function(t){return r({method:"POST",url:"/battlesyncscore",data:{deskId:t}})},a.daily=function(){f.lastLoginTime=f.now;var t=(new Date).getTime();return r({method:"POST",url:"/daily"}).then((function(e){var a=e.data;if(0==e.code&&a){for(var n in f.task){s.inst.tables.TaskTb.get(Number(n)).taskType==l.Type.Daily&&delete f.task[n]}i.emitEvent(d.RefreshTaskList);var r=((new Date).getTime()-t)/1e3/2;f.shopData(a.shop),f.sign=a.sign,f.syncServerTime(a.serverTime,r),f.absorbReward(a),f.lastLoginTime=a.serverTime,f.lastSyncDataTime=a.serverTime}}))},a.itemUse=function(t,e){return r({method:"POST",url:"/itemuse",data:{itemId:t,param:e}}).then((function(e){return 0==e.code&&(f.absorbItems([{itemId:t,itemNum:-1}]),f.absorbReward(e.data)),e}))},a.leaderboardData=function(){return r({method:"POST",url:"/leaderboarddata"}).then((function(t){return 0==t.code&&(f.leaderboardData=t.data,f.lastSyncLeaderboardData=f.now),t}))},a.guideStep=function(t){return r({method:"POST",url:"/guidestep",data:{guideId:t}}).then((function(e){return 0==e.code&&(-1==f.guide.step.indexOf(t)&&f.guide.step.push(t),i.emitEvent(d.RefreshUnlockState)),e}))},a.signIn=function(t,e){return r({method:"POST",url:"/signin",data:{id:t,reSignIn:e}}).then((function(t){return 0==t.code&&(f.absorbReward(t.data),f.sign.day=f.sign.day+1,f.sign.isSign=1,1==e&&f.sign.reSign++,t.data.rewards=t.data.rewards.length>1?[t.data.rewards[1]]:t.data.rewards),t}))},a.passPortRewardGet=function(t,e){return r({method:"POST",url:"/passportrewardget",data:{id:t,deluxe:e}}).then((function(a){return 0==a.code&&(f.absorbReward(a.data),1==e?1==f.passPortReward[t]?f.passPortReward[t]=3:f.passPortReward[t]=2:2==f.passPortReward[t]?f.passPortReward[t]=3:f.passPortReward[t]=1,a.data.reward&&T.inst.showForm("reward/UIRewardTips",[[a.data.reward]]),i.emitEvent(d.RefreshPassPort)),a}))},a.passPortRewardData=function(){return r({method:"POST",url:"/passportrewarddata"}).then((function(t){return 0==t.code&&(f.passPortReward=t.data.passPortReward),t}))},a}(n));a._RF.pop()}}}));

System.register("chunks:///_virtual/UserData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseClass.ts","./EventDefine.ts","./ItemDefine.ts","./ConfigManager.ts","./EventMgr.ts","./schema.ts","./EggData.ts","./ItemData.ts","./PetData.ts"],(function(t){var e,s,i,a,n,r,o,h,l,u,g,m;return{setters:[function(t){e=t.inheritsLoose,s=t.createClass},function(t){i=t.cclegacy},function(t){a=t.BaseClass},function(t){n=t.EventDefine},function(t){r=t.ItemDefine},function(t){o=t.default},function(t){h=t.default},function(t){l=t.Reward},function(t){u=t.EggData},function(t){g=t.ItemData},function(t){m=t.PetData}],execute:function(){i._RF.push({},"6d3adHL2HlI5ICd0D+eX0yg","UserData",void 0);t("default",new(function(t){function i(){for(var e,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).userUid=void 0,e.userName=void 0,e.roleId=void 0,e.serverTime=void 0,e._timeOffset=void 0,e.lastLoginTime=void 0,e.lastLayEggTime=void 0,e.lastClickCount=void 0,e.lastAddVitTime=void 0,e.autoEggCollectRTime=void 0,e.autoEggCollectETime=void 0,e.lastSyncDataTime=void 0,e._lastDeskId=void 0,e.items=[],e.pets=[],e.eggs=[],e.task={},e.shop=null,e.sign=null,e.passPortReward={},e.leaderboardData=null,e.lastSyncLeaderboardData=0,e.guide={step:[],temp:null},e.newPet=[],e.newEgg=[],e.tempNewEgg=[],e.tonPrice=0,e.lastSyncTickerTime=0,e.battleCount=0,e.passPortDeluxeReward=0,e}e(i,t);var a=i.prototype;return a.absorb=function(t){if(this.userName=t.userName,this.roleId=t.roleId,this.lastLoginTime=t.lastLoginTime,this.lastLayEggTime=t.lastLayEggTime,this.lastClickCount=t.lastClickCount,this.lastAddVitTime=t.lastAddVitTime,this.lastSyncDataTime=t.serverTime,this.autoEggCollectRTime=t.autoEggCollectRTime,this.autoEggCollectETime=t.autoEggCollectETime,this.lastDeskId=t.lastDeskId,this.items.length=0,null!=t.items)for(var e=0;e<t.items.length;e++){var s=new g;s.absorb(t.items[e]),this.items.push(s)}if(this.pets.length=0,null!=t.pets)for(var i=0;i<t.pets.length;i++){var a=new m;a.absorb(t.pets[i]),this.pets.push(a)}if(this.eggs.length=0,null!=t.eggs)for(var n=0;n<t.eggs.length;n++){var r=new u;r.absorb(t.eggs[n]),this.eggs.push(r)}this.taskData(t.task),this.shopData(t.shop),this.sign=t.sign,this.passPortReward=t.passPortReward.data,this.guide=t.guide||{step:[],temp:null},this.battleCount=t.battleCount,this.passPortDeluxeReward=t.passPortDeluxeReward,console.log("%c==>"+t.roleId,"color:green;font-size:2em")},a.syncServerTime=function(t,e){this.serverTime=t+e,this._timeOffset=this.serverTime-(new Date).getTime()/1e3,console.log(this.now)},a.syncData=function(t,e){t.serverTime=t.serverTime,this.lastSyncDataTime=t.serverTime,this.syncServerTime(t.serverTime,e),this.taskData(t.task),this.shopData(t.shop)},a.shopData=function(t){this.shop=t,h.emitEvent(n.RefreshShopList);for(var e=o.inst.tables.DailyShopTb.getDataList(),s=0;s<e.length;s++)1==e[s].share&&h.emitEvent(n.RefreshShopShareRedPoint,[e[s].id])},a.getItem=function(t){for(var e=0;e<this.items.length;e++)if(this.items[e].id==t)return this.items[e];return null},a.delItem=function(t){for(var e=0;e<this.items.length;e++)if(this.items[e].id==t){this.items.splice(e,1);break}h.emitEvent(n.RefreshItem)},a.getItemNum=function(t){var e=this.getItem(t);return e?e.num:0},a.absorbItems=function(t){if(null!=t){for(var e=0;e<t.length;e++){var s=t[e].itemNum,i=this.getItemNum(t[e].itemId),a=this.getItem(t[e].itemId);null!=a?(a.num=a.num+t[e].itemNum,a.num<=0&&this.delItem(a.id)):((a=new g).absorb(t[e]),this.items.push(a)),a.id==r.VIT?(i>=o.inst.GlobalTb.vitMaxAuto&&s<0&&a.num<o.inst.GlobalTb.vitMaxAuto&&(this.lastAddVitTime=this.now),h.emitEvent(n.RefreshVit)):a.id==r.Gold?h.emitEvent(n.RefreshGold):a.id==r.Diamond&&h.emitEvent(n.RefreshDiamond)}h.emitEvent(n.RefreshItem)}},a.getPet=function(t){for(var e=0;e<this.pets.length;e++)if(this.pets[e].id==t)return this.pets[e];return null},a.delPet=function(t){for(var e=0;e<this.pets.length;e++)if(this.pets[e].id==t){this.pets.splice(e,1);break}h.emitEvent(n.RefreshPet)},a.absorbPets=function(t){if(null!=t){for(var e=0;e<t.length;e++){var s=this.getPet(t[e].petId);if(null!=s)s.num=s.num+t[e].petNum,s.num<=0&&this.delPet(s.id),t[e].petNum>0&&this.newPet.push(s.id);else{var i=new m;i.absorb(t[e]),this.pets.push(i),this.newPet.push(i.id)}this.updateTaskProgress(4,t[e].petNum)}h.emitEvent(n.RefreshPet),h.emitEvent(n.RefreshNewPetRedPoint)}},a.absorbPet=function(t){if(null!=t){var e=this.getPet(t.petId);if(null!=e)e.num=e.num+t.petNum,e.num<=0&&this.delPet(e.id),t.petNum>0&&this.newPet.push(e.id);else{var s=new m;s.absorb(t),this.pets.push(s),this.newPet.push(s.id)}}},a.absorbReward=function(t){if(t.rewards)for(var e=0;e<t.rewards.length;e++)this.dealReward(t.rewards[e]);t.cost&&this.dealReward(t.cost),this.dealReward(t.reward||t)},a.dealReward=function(t){if(t.item){var e=t.item;e.type==l.Type.Item?this.absorbItems([{itemId:e.id,itemNum:e.num}]):e.type==l.Type.Pet&&this.absorbPets([{petId:e.id,petNum:e.num}])}t.egg&&this.absorbEggs([t.egg])},a.taskData=function(t){this.task=t.data||{},h.emitEvent(n.RefreshTaskList);for(var e=o.inst.tables.TaskTb.getDataList(),s=0;s<e.length;s++)h.emitEvent(n.RefreshTaskRewardRedPoint,e[s].taskId)},a.getTaskData=function(t){return this.task[t]||{state:0,progress:0,complete:0}},a.updateTaskState=function(t,e){this.task[t]=this.task[t]||{state:0,progress:0,complete:0},this.task[t].state=this.task[t].state+e,h.emitEvent(n.RefreshTaskRewardRedPoint,t)},a.updateTaskProgress=function(t,e){for(var s=o.inst.tables.TaskTb.getDataList(),i=0;i<s.length;i++){var a=s[i];if(a.taskSubId==t){var r=a.taskId;this.task[r]=this.task[r]||{state:0,progress:0,complete:0};var l=this.task[r];if(l.progress=(this.task[r].progress||0)+e,l.complete<a.maxTimes){var u=l.progress-l.complete*a.need;if(u>=a.need){var g=Math.floor(u/a.need);l.state=l.state+g,l.complete=l.complete+g,h.emitEvent(n.RefreshTaskRewardRedPoint,r)}}}}},a.absorbEggs=function(t){if(null!=t){for(var e=0;e<t.length;e++){var s=new u;s.absorb(t[e]),this.eggs.push(s),this.newEgg.push(s.id),this.tempNewEgg.push(s.id),h.emitEvent(n.AddBaseRedPoint,"newEgg",[s.id]),this.updateTaskProgress(3,1)}h.emitEvent(n.RefreshEgg),h.emitEvent(n.RefreshNewEggRedPoint,this.tempNewEgg)}},a.delEgg=function(t){for(var e=0;e<this.eggs.length;e++)if(this.eggs[e].id==t){this.eggs.splice(e,1);break}h.emitEvent(n.RefreshEgg)},a.getPassPortIssue=function(){for(var t=o.inst.tables.PassPortIssueTb.getDataList(),e=0;e<t.length;e++)if(t[e].startTime<=this.now&&this.now<=t[e].endTime)return t[e].issue;return 0},a.getPassPortRewardList=function(){for(var t=[],e=this.getPassPortIssue(),s=o.inst.tables.PassPortRewardTb.getDataList(),i=0;i<s.length;i++)s[i].issue==e&&t.push(s[i]);return t},a.getPassPortIssueLeftTime=function(){var t=this.getPassPortIssue();return o.inst.tables.PassPortIssueTb.get(t).endTime-this.now},a.onReload=function(){this.userUid="",this.userName="",this.roleId="",this.serverTime=0,this._timeOffset=0,this.lastLoginTime=0,this.lastLayEggTime=0,this.lastClickCount=0,this.lastSyncDataTime=0,this.lastDeskId="",this.items.length=0,this.pets.length=0,this.eggs.length=0,this.task={},this.shop={discount:[],list:[],buy:[],share:{},refreshTimes:0},this.sign={startTime:0,day:0,signCardETime:0,loginNum:0,loginTime:0,reSign:0,isSign:0},this.passPortReward={},this.passPortDeluxeReward=0,this.battleCount=0},s(i,[{key:"lastDeskId",get:function(){return this._lastDeskId},set:function(t){this._lastDeskId=t,h.emitEvent(n.RefreshBattleRedPoint)}},{key:"vit",get:function(){return this.getItemNum(r.VIT)}},{key:"gold",get:function(){return this.getItemNum(r.Gold)}},{key:"diamond",get:function(){return this.getItemNum(r.Diamond)}},{key:"now",get:function(){return Math.floor((new Date).getTime()/1e3)+this._timeOffset}}]),i}(a)));i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc","./datetime.js","./duration.js","./rollupPluginModLoBabelHelpers.js","./digits.js"],(function(t){var n,r;return{setters:[function(t){n=t.cclegacy},function(t){r=t.default},null,null,null],execute:function(){n._RF.push({},"9e355+0LVdGnovhj8pJ6a/c","Utils",void 0),t("Utils",function(){function t(){}return t.syncRand=function(){return this.randSeed=(9301*this.randSeed+49297)%233280,this.randSeed/233280},t.getStrArg=function(t,n){return t.replace(/\{(\d+)\}/g,(function(t,r){return n[r]||t}))},t.ExecutePreFrame=function(t,n,r){return void 0===r&&(r=null),new Promise((function(e,o){var i=0,a=t;!function t(){for(var o=Date.now(),u=a.next();;u=a.next()){if(null==u||u.done)return void e(null);if(Date.now()-o>n)return i=setTimeout((function(){t()}),0),void(r&&r(i))}}()}))},t.Sleep=function(t){return new Promise((function(n){return setTimeout(n,t)}))},t.formatTimeStr=function(t){var n=Math.floor(t/3600);t-=3600*n;var r=Math.floor(t/60);t-=60*r;var e=Math.floor(t);return(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)+":"+(e<10?"0"+e:e)},t.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*Math.random()|0;return("x"==t?n:3&n|8).toString(16)}))},t.shuffleArray=function(t){for(var n,r,e=t.slice(),o=e.length;0!==o;)r=Math.floor(Math.random()*o),n=e[o-=1],e[o]=e[r],e[r]=n;return e},t.convertTimeZone=function(t,n){return r.fromSeconds(t).setZone(n)},t.IsDifferentDays=function(t,n){return t.year!=n.year||t.month!=n.month||t.day!=n.day},t.distanceToMidnight=function(t){var n=new Date(t),r=new Date(n);r.setHours(24,0,0,0);var e=r.getTime()-n.getTime(),o=Math.floor(e/1e3),i=Math.floor(o/60),a=o%60,u=i%60,l=Math.floor(i/60)%24;return(l<10?"0"+l:l)+":"+(u<10?"0"+u:u)+":"+(a<10?"0"+a:a)},t.uint8ArrayToHex=function(t){return Array.from(t).map((function(t){return("00"+t.toString(16)).slice(-2)})).join("")},t.formatDuration=function(t){var n=Math.floor(t/60),r=Math.floor(n/1440),e=Math.floor(n%1440/60),o=n%60;return r>0?r+"d "+String(e).padStart(2,"0")+"h":String(e).padStart(2,"0")+"h "+String(o).padStart(2,"0")+"m"},t.getCanvasFinger=function(){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=200,t.height=200,n.fillStyle="rgb(255, 0, 0)",n.fillRect(0,0,100,100),n.fillStyle="rgb(0, 255, 0)",n.fillRect(100,100,100,100),n.arc(150,150,50,0,2*Math.PI),n.fillStyle="rgb(0, 0, 255)",n.fill();for(var r=t.toDataURL(),e=0,o=0;o<r.length;o++)e=(e<<5)-e+r.charCodeAt(o),e&=e;return e},t}()).randSeed=17,n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});